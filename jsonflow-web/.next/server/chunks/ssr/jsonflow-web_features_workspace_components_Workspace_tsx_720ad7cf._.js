module.exports=[57069,a=>{"use strict";let b,c;var d,e,f,g,h,i,j,k,l,n,o,p=a.i(81629),q=a.i(84365);let r={get url(){return`file://${a.P("node_modules/.pnpm/jotai@2.17.1_@babel+core@7._d478365f0a8b85c7717ee3b28e78d0e7/node_modules/jotai/esm/vanilla/internals.mjs")}`}};function s(a){return!!a.write}function t(a){return"v"in a||"e"in a}function u(a){if("e"in a)throw a.e;if((r.env?r.env.MODE:void 0)!=="production"&&!("v"in a))throw Error("[Bug] atom state is not initialized");return a.v}let v=new WeakMap;function w(a){var b;return y(a)&&!!(null==(b=v.get(a))?void 0:b[0])}function x(a,b){let c=v.get(a);if(!c){c=[!0,new Set],v.set(a,c);let b=()=>{c[0]=!1};a.then(b,b)}c[1].add(b)}function y(a){return"function"==typeof(null==a?void 0:a.then)}function z(a,b,c){if(!c.p.has(a)){c.p.add(a);let d=()=>c.p.delete(a);b.then(d,d)}}function A(a,b,c){var d;let e=new Set;for(let b of(null==(d=c.get(a))?void 0:d.t)||[])e.add(b);for(let a of b.p)e.add(a);return e}let B=(a,b,...c)=>b.read(...c),C=(a,b,...c)=>b.write(...c),D=(a,b)=>{var c;return null==(c=b.INTERNAL_onInit)?void 0:c.call(b,a)},E=(a,b,c)=>{var d;return null==(d=b.onMount)?void 0:d.call(b,c)},F=(a,b)=>{var c;let d=U(a),e=d[0],f=d[6],g=d[9];if((r.env?r.env.MODE:void 0)!=="production"&&!b)throw Error("Atom is undefined or null");let h=e.get(b);return h||(h={d:new Map,p:new Set,n:0},e.set(b,h),null==(c=f.i)||c.call(f,b),null==g||g(a,b)),h},G=a=>{let b=U(a),c=b[1],d=b[3],e=b[4],f=b[5],g=b[6],h=b[13],i=[],j=a=>{try{a()}catch(a){i.push(a)}};do{g.f&&j(g.f);let b=new Set,i=b.add.bind(b);d.forEach(a=>{var b;return null==(b=c.get(a))?void 0:b.l.forEach(i)}),d.clear(),f.forEach(i),f.clear(),e.forEach(i),e.clear(),b.forEach(j),d.size&&h(a)}while(d.size||f.size||e.size)if(i.length)throw AggregateError(i)},H=a=>{let b=U(a),c=b[1],d=b[2],e=b[3],f=b[11],g=b[14],h=b[17],i=[],j=new WeakSet,k=new WeakSet,l=Array.from(e);for(;l.length;){let b=l[l.length-1],e=f(a,b);if(k.has(b)){l.pop();continue}if(j.has(b)){if(d.get(b)===e.n)i.push([b,e]);else if((r.env?r.env.MODE:void 0)!=="production"&&d.has(b))throw Error("[Bug] invalidated atom exists");k.add(b),l.pop();continue}for(let a of(j.add(b),A(b,e,c)))j.has(a)||l.push(a)}for(let b=i.length-1;b>=0;--b){let[c,f]=i[b],j=!1;for(let a of f.d.keys())if(a!==c&&e.has(a)){j=!0;break}j&&(g(a,c),h(a,c)),d.delete(c)}},I=new WeakSet,J=(a,b)=>{var c,d;let e,f,g=U(a),h=g[1],i=g[2],j=g[3],k=g[6],l=g[7],n=g[11],o=g[12],p=g[13],q=g[14],v=g[16],A=g[17],B=g[20],C=n(a,b);if(t(C)){if(h.has(b)&&i.get(b)!==C.n)return C;let c=!1;for(let[b,d]of C.d)if(q(a,b).n!==d){c=!0;break}if(!c)return C}C.d.clear();let D=!0;function E(){h.has(b)&&(A(a,b),p(a),o(a))}let F=C.n;try{(r.env?r.env.MODE:void 0)!=="production"&&I.delete(a);let d=l(a,b,function(c){var d;if(c===b){let b=n(a,c);if(!t(b))if("init"in c)B(a,c,c.init);else throw Error("no atom init");return u(b)}let e=q(a,c);try{return u(e)}finally{C.d.set(c,e.n),w(C.v)&&z(b,C.v,e),h.has(b)&&(null==(d=h.get(c))||d.t.add(b)),D||E()}},{get signal(){return e||(e=new AbortController),e.signal},get setSelf(){return(r.env?r.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] setSelf is deprecated and will be removed in v3."),(r.env?r.env.MODE:void 0)==="production"||s(b)||console.warn("setSelf function cannot be used with read-only atom"),!f&&s(b)&&(f=(...c)=>{if((r.env?r.env.MODE:void 0)!=="production"&&D&&console.warn("setSelf function cannot be called in sync"),!D)try{return v(a,b,...c)}finally{p(a),o(a)}}),f}});return(r.env?r.env.MODE:void 0)!=="production"&&I.has(a)&&console.warn("Detected store mutation during atom read. This is not supported."),B(a,b,d),y(d)&&(x(d,()=>null==e?void 0:e.abort()),d.then(E,E)),null==(c=k.r)||c.call(k,b),C}catch(a){return delete C.v,C.e=a,++C.n,C}finally{D=!1,F!==C.n&&i.get(b)===F&&(i.set(b,C.n),j.add(b),null==(d=k.c)||d.call(k,b))}},K=(a,b)=>{let c=U(a),d=c[1],e=c[2],f=c[11],g=[b];for(;g.length;){let b=g.pop(),c=f(a,b);for(let h of A(b,c,d)){let b=f(a,h);e.set(h,b.n),g.push(h)}}},L=(a,b,...c)=>{let d=U(a),e=d[3],f=d[6],g=d[8],h=d[11],i=d[12],j=d[13],k=d[14],l=d[15],n=d[16],o=d[17],p=d[20],q=!0;try{return g(a,b,b=>u(k(a,b)),(c,...d)=>{var g;let k=h(a,c);try{if(c!==b)return n(a,c,...d);{if(!("init"in c))throw Error("atom not writable");(r.env?r.env.MODE:void 0)!=="production"&&I.add(a);let b=k.n,h=d[0];p(a,c,h),o(a,c),b!==k.n&&(e.add(c),l(a,c),null==(g=f.c)||g.call(f,c));return}}finally{q||(j(a),i(a))}},...c)}finally{q=!1}},M=(a,b)=>{var c;let d=U(a),e=d[1],f=d[3],g=d[6],h=d[11],i=d[15],j=d[18],k=d[19],l=h(a,b),n=e.get(b);if(n&&!w(l.v)){for(let[d,e]of l.d)if(!n.d.has(d)){let k=h(a,d);j(a,d).t.add(b),n.d.add(d),e!==k.n&&(f.add(d),i(a,d),null==(c=g.c)||c.call(g,d))}for(let c of n.d)if(!l.d.has(c)){n.d.delete(c);let d=k(a,c);null==d||d.t.delete(b)}}},N=(a,b)=>{var c;let d=U(a),e=d[1],f=d[4],g=d[6],h=d[10],i=d[11],j=d[12],k=d[13],l=d[14],n=d[16],o=d[18],p=i(a,b),q=e.get(b);if(!q){for(let c of(l(a,b),p.d.keys()))o(a,c).t.add(b);q={l:new Set,d:new Set(p.d.keys()),t:new Set},e.set(b,q),s(b)&&f.add(()=>{let c=!0;try{let d=h(a,b,(...d)=>{try{return n(a,b,...d)}finally{c||(k(a),j(a))}});d&&(q.u=()=>{c=!0;try{d()}finally{c=!1}})}finally{c=!1}}),null==(c=g.m)||c.call(g,b)}return q},O=(a,b)=>{var c,d;let e=U(a),f=e[1],g=e[5],h=e[6],i=e[11],j=e[19],k=i(a,b),l=f.get(b);if(!l||l.l.size)return l;let n=!1;for(let a of l.t)if(null==(c=f.get(a))?void 0:c.d.has(b)){n=!0;break}if(!n){for(let c of(l.u&&g.add(l.u),l=void 0,f.delete(b),k.d.keys())){let d=j(a,c);null==d||d.t.delete(b)}null==(d=h.u)||d.call(h,b);return}return l},P=(a,b,c)=>{let d=U(a)[11],e=d(a,b),f="v"in e,g=e.v;if(y(c))for(let f of e.d.keys())z(b,c,d(a,f));if(e.v=c,delete e.e,!f||!Object.is(g,e.v)){let a;++e.n,y(g)&&(null==(a=v.get(g))?void 0:a[0])&&(a[0]=!1,a[1].forEach(a=>a()))}},Q=(a,b)=>u((0,U(a)[14])(a,b)),R=(a,b,...c)=>{let d=U(a),e=d[12],f=d[13],g=d[16];try{return g(a,b,...c)}finally{f(a),e(a)}},S=(a,b,c)=>{let d=U(a),e=d[12],f=d[18],g=d[19],h=f(a,b).l;return h.add(c),e(a),()=>{h.delete(c),g(a,b),e(a)}},T=new WeakMap,U=a=>{let b=T.get(a);if((r.env?r.env.MODE:void 0)!=="production"&&!b)throw Error("Store must be created by buildStore to read its building blocks");return b},V={get url(){return`file://${a.P("node_modules/.pnpm/jotai@2.17.1_@babel+core@7._d478365f0a8b85c7717ee3b28e78d0e7/node_modules/jotai/esm/vanilla.mjs")}`}},W=0;function X(a,b){let c=`atom${++W}`,d={toString(){return(V.env?V.env.MODE:void 0)!=="production"&&this.debugLabel?c+":"+this.debugLabel:c}};return"function"==typeof a?d.read=a:(d.init=a,d.read=Y,d.write=Z),b&&(d.write=b),d}function Y(a){return a(this)}function Z(a,b,c){return b(this,"function"==typeof c?c(a(this)):c)}let $={get url(){return`file://${a.P("node_modules/.pnpm/jotai@2.17.1_@babel+core@7._d478365f0a8b85c7717ee3b28e78d0e7/node_modules/jotai/esm/react.mjs")}`}},_=(0,q.createContext)(void 0);function aa(a){let d,e,f=(0,q.useContext)(_);return(null==a?void 0:a.store)||f||(c||(c=b?b():(d={get:a=>(0,U(d)[21])(d,a),set:(a,...b)=>(0,U(d)[22])(d,a,...b),sub:(a,b)=>(0,U(d)[23])(d,a,b)},e=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},B,C,D,E,F,G,H,J,K,L,M,N,O,P,Q,R,S,void 0].map((a,b)=>[][b]||a),T.set(d,Object.freeze(e)),d),(V.env?V.env.MODE:void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=c),globalThis.__JOTAI_DEFAULT_STORE__!==c&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),c)}let ab=a=>"function"==typeof(null==a?void 0:a.then),ac=a=>{a.status||(a.status="pending",a.then(b=>{a.status="fulfilled",a.value=b},b=>{a.status="rejected",a.reason=b}))},ad=q.default.use||(a=>{if("pending"===a.status)throw a;if("fulfilled"===a.status)return a.value;if("rejected"===a.status)throw a.reason;throw ac(a),a}),ae=new WeakMap,af=(a,b)=>{let c=ae.get(a);return c||(c=new Promise((d,e)=>{let f=a,g=a=>b=>{f===a&&d(b)},h=a=>b=>{f===a&&e(b)},i=()=>{try{let a=b();ab(a)?(ae.set(a,c),f=a,a.then(g(a),h(a)),x(a,i)):d(a)}catch(a){e(a)}};a.then(g(a),h(a)),x(a,i)}),ae.set(a,c)),c};function ag(a,b){let c;return[function(a,b){let{delay:c,unstable_promiseStatus:d=!q.default.use}=b||{},e=aa(b),[[f,g,h],i]=(0,q.useReducer)(b=>{let c=e.get(a);return Object.is(b[0],c)&&b[1]===e&&b[2]===a?b:[c,e,a]},void 0,()=>[e.get(a),e,a]),j=f;if((g!==e||h!==a)&&(i(),j=e.get(a)),(0,q.useEffect)(()=>{let b=e.sub(a,()=>{if(d)try{let b=e.get(a);ab(b)&&ac(af(b,()=>e.get(a)))}catch(a){}"number"==typeof c?setTimeout(i,c):i()});return i(),b},[e,a,c,d]),(0,q.useDebugValue)(j),ab(j)){let b=af(j,()=>e.get(a));return d&&ac(b),ad(b)}return j}(a,b),(c=aa(b),(0,q.useCallback)((...b)=>{if(($.env?$.env.MODE:void 0)!=="production"&&!("write"in a))throw Error("not writable atom");return c.set(a,...b)},[c,a]))]}var ah=a.i(52959);function ai(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function aj(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function ak(a,b,c){return b&&function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,ap(d.key),d)}}(a.prototype,b),Object.defineProperty(a,"prototype",{writable:!1}),a}function al(a,b){var c="u">typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=ar(a))||b){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}function am(a,b,c){return(b=ap(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function an(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c=null==a?null:"u">typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{if(f=(c=c.call(a)).next,0===b){if(Object(c)!==c)return;i=!1}else for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(a,b)||ar(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ao(a){return function(a){if(Array.isArray(a))return ai(a)}(a)||function(a){if("u">typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||ar(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ap(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b);if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(a,"string");return"symbol"==typeof b?b:b+""}function aq(a){return(aq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function ar(a,b){if(a){if("string"==typeof a)return ai(a,b);var c=({}).toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?ai(a,b):void 0}}var as=aq(""),at=aq({}),au=aq(function(){}),av="u"<typeof HTMLElement?"undefined":aq(HTMLElement),aw=function(a){return a&&a.instanceString&&ay(a.instanceString)?a.instanceString():null},ax=function(a){return null!=a&&aq(a)==as},ay=function(a){return null!=a&&aq(a)===au},az=function(a){return!aD(a)&&(Array.isArray?Array.isArray(a):null!=a&&a instanceof Array)},aA=function(a){return null!=a&&aq(a)===at&&!az(a)&&a.constructor===Object},aB=function(a){return null!=a&&aq(a)===aq(1)&&!isNaN(a)},aC=function(a){if("undefined"!==av)return null!=a&&a instanceof HTMLElement},aD=function(a){return aE(a)||aF(a)},aE=function(a){return"collection"===aw(a)&&a._private.single},aF=function(a){return"collection"===aw(a)&&!a._private.single},aG=function(a){return"core"===aw(a)},aH=function(a){return"stylesheet"===aw(a)},aI=function(a){return null==a||!!(""===a||a.match(/^\s+$/))},aJ=function(a){return null!=a&&aq(a)===at&&ay(a.then)},aK=function(a,b){b||(b=function(){if(1==arguments.length)return arguments[0];if(0==arguments.length)return"undefined";for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);return a.join("$")});var c=function(){var d,e=arguments,f=b.apply(this,e),g=c.cache;return(d=g[f])||(d=g[f]=a.apply(this,e)),d};return c.cache={},c},aL=aK(function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}),aM=aK(function(a){return a.replace(/(-\w)/g,function(a){return a[1].toUpperCase()})}),aN=aK(function(a,b){return a+b[0].toUpperCase()+b.substring(1)},function(a,b){return a+"$"+b}),aO=function(a){return aI(a)?a:a.charAt(0).toUpperCase()+a.substring(1)},aP=function(a,b){return a.slice(-1*b.length)===b},aQ="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",aR="rgb[a]?\\(("+aQ+"[%]?)\\s*,\\s*("+aQ+"[%]?)\\s*,\\s*("+aQ+"[%]?)(?:\\s*,\\s*("+aQ+"))?\\)",aS="rgb[a]?\\((?:"+aQ+"[%]?)\\s*,\\s*(?:"+aQ+"[%]?)\\s*,\\s*(?:"+aQ+"[%]?)(?:\\s*,\\s*(?:"+aQ+"))?\\)",aT="hsl[a]?\\(("+aQ+")\\s*,\\s*("+aQ+"[%])\\s*,\\s*("+aQ+"[%])(?:\\s*,\\s*("+aQ+"))?\\)",aU="hsl[a]?\\((?:"+aQ+")\\s*,\\s*(?:"+aQ+"[%])\\s*,\\s*(?:"+aQ+"[%])(?:\\s*,\\s*(?:"+aQ+"))?\\)",aV=function(a,b){return a<b?-1:+(a>b)},aW=null!=Object.assign?Object.assign.bind(Object):function(a){for(var b=arguments,c=1;c<b.length;c++){var d=b[c];if(null!=d)for(var e=Object.keys(d),f=0;f<e.length;f++){var g=e[f];a[g]=d[g]}}return a},aX=function(a){if((4===a.length||7===a.length)&&"#"===a[0]){var b,c,d;return 4===a.length?(b=parseInt(a[1]+a[1],16),c=parseInt(a[2]+a[2],16),d=parseInt(a[3]+a[3],16)):(b=parseInt(a[1]+a[2],16),c=parseInt(a[3]+a[4],16),d=parseInt(a[5]+a[6],16)),[b,c,d]}},aY=function(a){function b(a,b,c){return(c<0&&(c+=1),c>1&&(c-=1),c<1/6)?a+(b-a)*6*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}var c,d,e,f,g,h,i,j,k=RegExp("^"+aT+"$").exec(a);if(k){if((d=parseInt(k[1]))<0?d=(360- -1*d%360)%360:d>360&&(d%=360),d/=360,(e=parseFloat(k[2]))<0||e>100||(e/=100,(f=parseFloat(k[3]))<0||f>100)||(f/=100,void 0!==(g=k[4])&&((g=parseFloat(g))<0||g>1)))return;if(0===e)h=i=j=Math.round(255*f);else{var l=f<.5?f*(1+e):f+e-f*e,n=2*f-l;h=Math.round(255*b(n,l,d+1/3)),i=Math.round(255*b(n,l,d)),j=Math.round(255*b(n,l,d-1/3))}c=[h,i,j,g]}return c},aZ=function(a){var b,c=RegExp("^"+aR+"$").exec(a);if(c){b=[];for(var d=[],e=1;e<=3;e++){var f=c[e];if("%"===f[f.length-1]&&(d[e]=!0),f=parseFloat(f),d[e]&&(f=f/100*255),f<0||f>255)return;b.push(Math.floor(f))}var g=d[1]||d[2]||d[3],h=d[1]&&d[2]&&d[3];if(g&&!h)return;var i=c[4];if(void 0!==i){if((i=parseFloat(i))<0||i>1)return;b.push(i)}}return b},a$=function(a){return(az(a)?a:null)||a_[a.toLowerCase()]||aX(a)||aZ(a)||aY(a)},a_={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},a0=function(a){for(var b=a.map,c=a.keys,d=c.length,e=0;e<d;e++){var f=c[e];if(aA(f))throw Error("Tried to set map with object key");e<c.length-1?(null==b[f]&&(b[f]={}),b=b[f]):b[f]=a.value}},a1=function(a){for(var b=a.map,c=a.keys,d=c.length,e=0;e<d;e++){var f=c[e];if(aA(f))throw Error("Tried to get map with object key");if(null==(b=b[f]))break}return b},a2="u">typeof globalThis?globalThis:a.g;function a3(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function a4(){return gV?gU:(gV=1,gU=function(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)})}function a5(){if(gZ)return gY;gZ=1;var a=gX?gW:(gX=1,gW="object"==typeof a2&&a2&&a2.Object===Object&&a2),b="object"==typeof self&&self&&self.Object===Object&&self;return gY=a||b||Function("return this")()}function a6(){return g5?g4:(g5=1,g4=a5().Symbol)}function a7(){if(hb)return ha;hb=1;var a=a6(),b=function(){if(g7)return g6;g7=1;var a=a6(),b=Object.prototype,c=b.hasOwnProperty,d=b.toString,e=a?a.toStringTag:void 0;return g6=function(a){var b=c.call(a,e),f=a[e];try{a[e]=void 0;var g=!0}catch(a){}var h=d.call(a);return g&&(b?a[e]=f:delete a[e]),h}}(),c=function(){if(g9)return g8;g9=1;var a=Object.prototype.toString;return g8=function(b){return a.call(b)}}(),d=a?a.toStringTag:void 0;return ha=function(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":d&&d in Object(a)?b(a):c(a)}}function a8(){if(hf)return he;hf=1;var a=a7(),b=hd?hc:(hd=1,hc=function(a){return null!=a&&"object"==typeof a});return he=function(c){return"symbol"==typeof c||b(c)&&"[object Symbol]"==a(c)}}var a9=a3(function(){if(hj)return hi;hj=1;var a=a4(),b=function(){if(g_)return g$;g_=1;var a=a5();return g$=function(){return a.Date.now()}}(),c=function(){if(hh)return hg;hh=1;var a=function(){if(g3)return g2;g3=1;var a=function(){if(g1)return g0;g1=1;var a=/\s/;return g0=function(b){for(var c=b.length;c--&&a.test(b.charAt(c)););return c}}(),b=/^\s+/;return g2=function(c){return c?c.slice(0,a(c)+1).replace(b,""):c}}(),b=a4(),c=a8(),d=0/0,e=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,g=/^0o[0-7]+$/i,h=parseInt;return hg=function(i){if("number"==typeof i)return i;if(c(i))return d;if(b(i)){var j="function"==typeof i.valueOf?i.valueOf():i;i=b(j)?j+"":j}if("string"!=typeof i)return 0===i?i:+i;i=a(i);var k=f.test(i);return k||g.test(i)?h(i.slice(2),k?2:8):e.test(i)?d:+i}}(),d=Math.max,e=Math.min;return hi=function(f,g,h){var i,j,k,l,n,o,p=0,q=!1,r=!1,s=!0;if("function"!=typeof f)throw TypeError("Expected a function");function t(a){var b=i,c=j;return i=j=void 0,p=a,l=f.apply(c,b)}function u(a){var b=a-o,c=a-p;return void 0===o||b>=g||b<0||r&&c>=k}function v(){var a,c,d,f=b();if(u(f))return w(f);n=setTimeout(v,(a=f-o,c=f-p,d=g-a,r?e(d,k-c):d))}function w(a){return(n=void 0,s&&i)?t(a):(i=j=void 0,l)}function x(){var a,c=b(),d=u(c);if(i=arguments,j=this,o=c,d){if(void 0===n)return p=a=o,n=setTimeout(v,g),q?t(a):l;if(r)return clearTimeout(n),n=setTimeout(v,g),t(o)}return void 0===n&&(n=setTimeout(v,g)),l}return g=c(g)||0,a(h)&&(q=!!h.leading,k=(r="maxWait"in h)?d(c(h.maxWait)||0,g):k,s="trailing"in h?!!h.trailing:s),x.cancel=function(){void 0!==n&&clearTimeout(n),p=0,i=o=j=n=void 0},x.flush=function(){return void 0===n?l:w(b())},x}}()),ba=function(){return Date.now()},bb=function(a){a&&setTimeout(function(){a(ba())},1e3/60)},bc=function(a){return bb(a)},bd=function(a){for(var b,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9261,d=c;!(b=a.next()).done;)d=65599*d+b.value|0;return d},be=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9261;return 65599*b+a|0},bf=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381;return(b<<5)+b+a|0},bg=function(a){return 2097152*a[0]+a[1]},bh=function(a,b){return[be(a[0],b[0]),bf(a[1],b[1])]},bi=function(a,b){var c={value:0,done:!1},d=0,e=a.length;return bd({next:function(){return d<e?c.value=a[d++]:c.done=!0,c}},b)},bj=function(a,b){var c={value:0,done:!1},d=0,e=a.length;return bd({next:function(){return d<e?c.value=a.charCodeAt(d++):c.done=!0,c}},b)},bk=function(){return bl(arguments)},bl=function(a){for(var b,c=0;c<a.length;c++){var d=a[c];b=0===c?bj(d):bj(d,b)}return b},bm=!0,bn=null!=console.warn,bo=null!=console.trace,bp=Number.MAX_SAFE_INTEGER||0x1fffffffffffff,bq=function(){return!0},br=function(){return!1},bs=function(){return 0},bt=function(){},bu=function(a){throw Error(a)},bv=function(a){if(void 0===a)return bm;bm=!!a},bw=function(a){bv()&&(bn?console.warn(a):(console.log(a),bo&&console.trace()))},bx=function(a){return null==a?a:az(a)?a.slice():aA(a)?aW({},a):a},by=function(a,b){for(b=a="";a++<36;b+=51*a&52?(15^a?8^Math.random()*(20^a?16:4):4).toString(16):"-");return b},bz={},bA=function(){return bz},bB=function(a){var b=Object.keys(a);return function(c){for(var d={},e=0;e<b.length;e++){var f=b[e],g=null==c?void 0:c[f];d[f]=void 0===g?a[f]:g}return d}},bC=function(a,b,c){for(var d=a.length-1;d>=0;d--)a[d]===b&&a.splice(d,1)},bD=function(a){a.splice(0,a.length)},bE=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];a.push(d)}},bF=function(a,b,c){return c&&(b=aN(c,b)),a[b]},bG=function(a,b,c,d){c&&(b=aN(c,b)),a[b]=d},bH=ak(function a(){aj(this,a),this._obj={}},[{key:"set",value:function(a,b){return this._obj[a]=b,this}},{key:"delete",value:function(a){return this._obj[a]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(a){return void 0!==this._obj[a]}},{key:"get",value:function(a){return this._obj[a]}}]),bI="u">typeof Map?Map:bH,bJ=ak(function a(b){if(aj(this,a),this._obj=Object.create(null),this.size=0,null!=b){var c;c=null!=b.instanceString&&b.instanceString()===this.instanceString()?b.toArray():b;for(var d=0;d<c.length;d++)this.add(c[d])}},[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(a){var b=this._obj;1!==b[a]&&(b[a]=1,this.size++)}},{key:"delete",value:function(a){var b=this._obj;1===b[a]&&(b[a]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(a){return 1===this._obj[a]}},{key:"toArray",value:function(){var a=this;return Object.keys(this._obj).filter(function(b){return a.has(b)})}},{key:"forEach",value:function(a,b){return this.toArray().forEach(a,b)}}]),bK=("u"<typeof Set?"undefined":aq(Set))!=="undefined"?Set:bJ,bL=function(a,b){var c=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(void 0===a||void 0===b||!aG(a))return void bu("An element must have a core reference and parameters set");var d=b.group;if(null==d&&(d=b.data&&null!=b.data.source&&null!=b.data.target?"edges":"nodes"),"nodes"!==d&&"edges"!==d)return void bu("An element must be of type `nodes` or `edges`; you specified `"+d+"`");this.length=1,this[0]=this;var e=this._private={cy:a,single:!0,data:b.data||{},position:b.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:d,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!b.selected,selectable:void 0===b.selectable||!!b.selectable,locked:!!b.locked,grabbed:!1,grabbable:void 0===b.grabbable||!!b.grabbable,pannable:void 0===b.pannable?"edges"===d:!!b.pannable,active:!1,classes:new bK,animation:{current:[],queue:[]},rscratch:{},scratch:b.scratch||{},edges:[],children:[],parent:b.parent&&b.parent.isNode()?b.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==e.position.x&&(e.position.x=0),null==e.position.y&&(e.position.y=0),b.renderedPosition){var f=b.renderedPosition,g=a.pan(),h=a.zoom();e.position={x:(f.x-g.x)/h,y:(f.y-g.y)/h}}var i=[];az(b.classes)?i=b.classes:ax(b.classes)&&(i=b.classes.split(/\s+/));for(var j=0,k=i.length;j<k;j++){var l=i[j];l&&""!==l&&e.classes.add(l)}this.createEmitter(),(void 0===c||c)&&this.restore();var n=b.style||b.css;n&&(bw("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(n))},bM=function(a){return a={bfs:a.bfs||!a.dfs,dfs:a.dfs||!a.bfs},function(b,c,d){aA(b)&&!aD(b)&&(b=(e=b).roots||e.root,c=e.visit,d=e.directed),d=2!=arguments.length||ay(c)?d:c,c=ay(c)?c:function(){};for(var e,f,g,h=this._private.cy,i=b=ax(b)?this.filter(b):b,j=[],k=[],l={},n={},o={},p=0,q=this.byGroup(),r=q.nodes,s=q.edges,t=0;t<i.length;t++){var u=i[t],v=u.id();u.isNode()&&(j.unshift(u),a.bfs&&(o[v]=!0,k.push(u)),n[v]=0)}for(;0!==j.length&&(0===(g=function(){var b,e=a.bfs?j.shift():j.pop(),g=e.id();if(a.dfs){if(o[g])return 0;o[g]=!0,k.push(e)}var h=n[g],i=l[g],q=null!=i?i.source():null,t=null!=i?i.target():null,u=null==i?void 0:e.same(q)?t[0]:q[0];if(!0===(b=c(e,i,u,p++,h)))return f=e,1;if(!1===b)return 1;for(var v=e.connectedEdges().filter(function(a){return(!d||a.source().same(e))&&s.has(a)}),w=0;w<v.length;w++){var x=v[w],y=x.connectedNodes().filter(function(a){return!a.same(e)&&r.has(a)}),z=y.id();0===y.length||o[z]||(y=y[0],j.push(y),a.bfs&&(o[z]=!0,k.push(y)),l[z]=x,n[z]=n[g]+1)}}())||1!==g););for(var w=h.collection(),x=0;x<k.length;x++){var y=k[x],z=l[y.id()];null!=z&&w.push(z),w.push(y)}return{path:h.collection(w),found:h.collection(f)}}},bN={breadthFirstSearch:bM({bfs:!0}),depthFirstSearch:bM({dfs:!0})};bN.bfs=bN.breadthFirstSearch,bN.dfs=bN.depthFirstSearch;var bO={exports:{}},bP=bO.exports,bQ=a3(hm?hl:(hm=1,hl=function(){return hk?bO.exports:(hk=1,(function(){var a,b,c,d,e,f,g,h,i,j,k,l,n,o,p;c=Math.floor,j=Math.min,b=function(a,b){return a<b?-1:+(a>b)},i=function(a,d,e,f,g){var h;if(null==e&&(e=0),null==g&&(g=b),e<0)throw Error("lo must be non-negative");for(null==f&&(f=a.length);e<f;)0>g(d,a[h=c((e+f)/2)])?f=h:e=h+1;return[].splice.apply(a,[e,e-e].concat(d)),d},f=function(a,c,d){return null==d&&(d=b),a.push(c),o(a,0,a.length-1,d)},e=function(a,c){var d,e;return null==c&&(c=b),d=a.pop(),a.length?(e=a[0],a[0]=d,p(a,0,c)):e=d,e},h=function(a,c,d){var e;return null==d&&(d=b),e=a[0],a[0]=c,p(a,0,d),e},g=function(a,c,d){var e;return null==d&&(d=b),a.length&&0>d(a[0],c)&&(c=(e=[a[0],c])[0],a[0]=e[1],p(a,0,d)),c},d=function(a,d){var e,f,g,h,i,j;for(null==d&&(d=b),h=(function(){j=[];for(var b=0,d=c(a.length/2);0<=d?b<d:b>d;0<=d?b++:b--)j.push(b);return j}).apply(this).reverse(),i=[],f=0,g=h.length;f<g;f++)e=h[f],i.push(p(a,e,d));return i},n=function(a,c,d){var e;if(null==d&&(d=b),-1!==(e=a.indexOf(c)))return o(a,0,e,d),p(a,e,d)},k=function(a,c,e){var f,h,i,j;if(null==e&&(e=b),!(f=a.slice(0,c)).length)return f;for(d(f,e),h=0,i=(j=a.slice(c)).length;h<i;h++)g(f,j[h],e);return f.sort(e).reverse()},l=function(a,c,f){var g,h,k,l,n,o,p,q,r;if(null==f&&(f=b),10*c<=a.length){if(!(k=a.slice(0,c).sort(f)).length)return k;for(l=0,h=k[k.length-1],o=(p=a.slice(c)).length;l<o;l++)0>f(g=p[l],h)&&(i(k,g,0,null,f),k.pop(),h=k[k.length-1]);return k}for(d(a,f),r=[],n=0,q=j(c,a.length);0<=q?n<q:n>q;0<=q?++n:--n)r.push(e(a,f));return r},o=function(a,c,d,e){var f,g,h;for(null==e&&(e=b),f=a[d];d>c;){if(0>e(f,g=a[h=d-1>>1])){a[d]=g,d=h;continue}break}return a[d]=f},p=function(a,c,d){var e,f,g,h,i;for(null==d&&(d=b),f=a.length,i=c,g=a[c],e=2*c+1;e<f;)(h=e+1)<f&&!(0>d(a[e],a[h]))&&(e=h),a[c]=a[e],e=2*(c=e)+1;return a[c]=g,o(a,i,c,d)},a=function(){function a(a){this.cmp=null!=a?a:b,this.nodes=[]}return a.push=f,a.pop=e,a.replace=h,a.pushpop=g,a.heapify=d,a.updateItem=n,a.nlargest=k,a.nsmallest=l,a.prototype.push=function(a){return f(this.nodes,a,this.cmp)},a.prototype.pop=function(){return e(this.nodes,this.cmp)},a.prototype.peek=function(){return this.nodes[0]},a.prototype.contains=function(a){return -1!==this.nodes.indexOf(a)},a.prototype.replace=function(a){return h(this.nodes,a,this.cmp)},a.prototype.pushpop=function(a){return g(this.nodes,a,this.cmp)},a.prototype.heapify=function(){return d(this.nodes,this.cmp)},a.prototype.updateItem=function(a){return n(this.nodes,a,this.cmp)},a.prototype.clear=function(){return this.nodes=[]},a.prototype.empty=function(){return 0===this.nodes.length},a.prototype.size=function(){return this.nodes.length},a.prototype.clone=function(){var b;return(b=new a).nodes=this.nodes.slice(0),b},a.prototype.toArray=function(){return this.nodes.slice(0)},a.prototype.insert=a.prototype.push,a.prototype.top=a.prototype.peek,a.prototype.front=a.prototype.peek,a.prototype.has=a.prototype.contains,a.prototype.copy=a.prototype.clone,a}(),bO.exports=a}).call(bP),bO.exports)}())),bR=bB({root:null,weight:function(a){return 1},directed:!1}),bS=bB({root:null,goal:null,weight:function(a){return 1},heuristic:function(a){return 0},directed:!1}),bT=bB({weight:function(a){return 1},directed:!1}),bU=bB({weight:function(a){return 1},directed:!1,root:null}),bV=Math.sqrt(2),bW=function(a,b,c){0===c.length&&bu("Karger-Stein must be run on a connected (sub)graph");for(var d=c[a],e=d[1],f=d[2],g=b[e],h=b[f],i=c.length-1;i>=0;i--){var j=c[i],k=j[1],l=j[2];(b[k]===g&&b[l]===h||b[k]===h&&b[l]===g)&&c.splice(i,1)}for(var n=0;n<c.length;n++){var o=c[n];o[1]===h?(c[n]=o.slice(),c[n][1]=g):o[2]===h&&(c[n]=o.slice(),c[n][2]=g)}for(var p=0;p<b.length;p++)b[p]===h&&(b[p]=g);return c},bX=function(a,b,c,d){for(;c>d;)b=bW(Math.floor(Math.random()*b.length),a,b),c--;return b},bY=function(a,b,c){return{x:a.x*b+c.x,y:a.y*b+c.y}},bZ=function(a,b,c){return{x:(a.x-c.x)/b,y:(a.y-c.y)/b}},b$=function(a){return{x:a[0],y:a[1]}},b_=function(a){for(var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.length,d=1/0,e=b;e<c;e++){var f=a[e];isFinite(f)&&(d=Math.min(f,d))}return d},b0=function(a){for(var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.length,d=-1/0,e=b;e<c;e++){var f=a[e];isFinite(f)&&(d=Math.max(f,d))}return d},b1=function(a){for(var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.length,d=0,e=0,f=b;f<c;f++){var g=a[f];isFinite(g)&&(d+=g,e++)}return d/e},b2=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.length,d=!(arguments.length>3)||void 0===arguments[3]||arguments[3],e=!(arguments.length>4)||void 0===arguments[4]||arguments[4],f=!(arguments.length>5)||void 0===arguments[5]||arguments[5];d?a=a.slice(b,c):(c<a.length&&a.splice(c,a.length-c),b>0&&a.splice(0,b));for(var g=0,h=a.length-1;h>=0;h--){var i=a[h];f?!isFinite(i)&&(a[h]=-1/0,g++):a.splice(h,1)}e&&a.sort(function(a,b){return a-b});var j=a.length,k=Math.floor(j/2);return j%2!=0?a[k+1+g]:(a[k-1+g]+a[k+g])/2},b3=function(a,b){return Math.atan2(b,a)-Math.PI/2},b4=Math.log2||function(a){return Math.log(a)/Math.log(2)},b5=function(a){return a>0?1:a<0?-1:0},b6=function(a,b){return Math.sqrt(b7(a,b))},b7=function(a,b){var c=b.x-a.x,d=b.y-a.y;return c*c+d*d},b8=function(a){for(var b=a.length,c=0,d=0;d<b;d++)c+=a[d];for(var e=0;e<b;e++)a[e]=a[e]/c;return a},b9=function(a,b,c,d){return(1-d)*(1-d)*a+2*(1-d)*d*b+d*d*c},ca=function(a,b,c,d){return{x:b9(a.x,b.x,c.x,d),y:b9(a.y,b.y,c.y,d)}},cb=function(a,b,c,d){var e={x:b.x-a.x,y:b.y-a.y},f=b6(a,b),g={x:e.x/f,y:e.y/f};return c=null==c?0:c,d=null!=d?d:c*f,{x:a.x+g.x*d,y:a.y+g.y*d}},cc=function(a,b,c){return Math.max(a,Math.min(c,b))},cd=function(a){if(null==a)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=a.x1&&null!=a.y1){if(null!=a.x2&&null!=a.y2&&a.x2>=a.x1&&a.y2>=a.y1)return{x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2,w:a.x2-a.x1,h:a.y2-a.y1};else if(null!=a.w&&null!=a.h&&a.w>=0&&a.h>=0)return{x1:a.x1,y1:a.y1,x2:a.x1+a.w,y2:a.y1+a.h,w:a.w,h:a.h}}},ce=function(a){a.x1=1/0,a.y1=1/0,a.x2=-1/0,a.y2=-1/0,a.w=0,a.h=0},cf=function(a,b){a.x1=Math.min(a.x1,b.x1),a.x2=Math.max(a.x2,b.x2),a.w=a.x2-a.x1,a.y1=Math.min(a.y1,b.y1),a.y2=Math.max(a.y2,b.y2),a.h=a.y2-a.y1},cg=function(a,b,c){a.x1=Math.min(a.x1,b),a.x2=Math.max(a.x2,b),a.w=a.x2-a.x1,a.y1=Math.min(a.y1,c),a.y2=Math.max(a.y2,c),a.h=a.y2-a.y1},ch=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a.x1-=b,a.x2+=b,a.y1-=b,a.y2+=b,a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},ci=function(a){var b,c,d,e,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===f.length)b=c=d=e=f[0];else if(2===f.length)b=d=f[0],e=c=f[1];else if(4===f.length){var g=an(f,4);b=g[0],c=g[1],d=g[2],e=g[3]}return a.x1-=e,a.x2+=c,a.y1-=b,a.y2+=d,a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},cj=function(a,b){a.x1=b.x1,a.y1=b.y1,a.x2=b.x2,a.y2=b.y2,a.w=a.x2-a.x1,a.h=a.y2-a.y1},ck=function(a,b){return!(a.x1>b.x2)&&!(b.x1>a.x2)&&!(a.x2<b.x1)&&!(b.x2<a.x1)&&!(a.y2<b.y1)&&!(b.y2<a.y1)&&!(a.y1>b.y2)&&!(b.y1>a.y2)&&!0},cl=function(a,b,c){return a.x1<=b&&b<=a.x2&&a.y1<=c&&c<=a.y2},cm=function(a,b){return cl(a,b.x,b.y)},cn=function(a,b){return cl(a,b.x1,b.y1)&&cl(a,b.x2,b.y2)},co=null!=(hn=Math.hypot)?hn:function(a,b){return Math.sqrt(a*a+b*b)},cp=function(a,b,c,d,e,f,g){var h,i,j=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"auto",k="auto"===j?cN(e,f):j,l=e/2,n=f/2,o=(k=Math.min(k,l,n))!==l,p=k!==n;if(o){var q=c-l+k-g,r=d-n-g,s=c+l-k+g;if((h=cF(a,b,c,d,q,r,s,r,!1)).length>0)return h}if(p){var t=c+l+g,u=d-n+k-g,v=d+n-k+g;if((h=cF(a,b,c,d,t,u,t,v,!1)).length>0)return h}if(o){var w=c-l+k-g,x=d+n+g,y=c+l-k+g;if((h=cF(a,b,c,d,w,x,y,x,!1)).length>0)return h}if(p){var z=c-l-g,A=d-n+k-g,B=d+n-k+g;if((h=cF(a,b,c,d,z,A,z,B,!1)).length>0)return h}var C=c-l+k,D=d-n+k;if((i=cD(a,b,c,d,C,D,k+g)).length>0&&i[0]<=C&&i[1]<=D)return[i[0],i[1]];var E=c+l-k,F=d-n+k;if((i=cD(a,b,c,d,E,F,k+g)).length>0&&i[0]>=E&&i[1]<=F)return[i[0],i[1]];var G=c+l-k,H=d+n-k;if((i=cD(a,b,c,d,G,H,k+g)).length>0&&i[0]>=G&&i[1]>=H)return[i[0],i[1]];var I=c-l+k,J=d+n-k;return(i=cD(a,b,c,d,I,J,k+g)).length>0&&i[0]<=I&&i[1]>=J?[i[0],i[1]]:[]},cq=function(a,b,c,d,e,f,g){var h=Math.min(c,e),i=Math.max(c,e),j=Math.min(d,f),k=Math.max(d,f);return h-g<=a&&a<=i+g&&j-g<=b&&b<=k+g},cr=function(a,b,c,d,e,f,g,h,i){var j={x1:Math.min(c,g,e)-i,x2:Math.max(c,g,e)+i,y1:Math.min(d,h,f)-i,y2:Math.max(d,h,f)+i};return!(a<j.x1)&&!(a>j.x2)&&!(b<j.y1)&&!(b>j.y2)},cs=function(a,b,c,d){var e=b*b-4*a*(c-=d);if(e<0)return[];var f=Math.sqrt(e),g=2*a;return[(-b+f)/g,(-b-f)/g]},ct=function(a,b,c,d,e){var f,g,h,i,j,k,l,n;if(0===a&&(a=1e-5),b/=a,c/=a,d/=a,f=(g=(3*c-b*b)/9)*g*g+(h=(-(27*d)+b*(9*c-b*b*2))/54)*h,e[1]=0,l=b/3,f>0){j=(j=h+Math.sqrt(f))<0?-Math.pow(-j,1/3):Math.pow(j,1/3),k=(k=h-Math.sqrt(f))<0?-Math.pow(-k,1/3):Math.pow(k,1/3),e[0]=-l+j+k,l+=(j+k)/2,e[4]=e[2]=-l,l=Math.sqrt(3)*(-k+j)/2,e[3]=l,e[5]=-l;return}if(e[5]=e[3]=0,0===f){n=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),e[0]=-l+2*n,e[4]=e[2]=-(n+l);return}i=Math.acos(h/Math.sqrt(i=(g=-g)*g*g)),n=2*Math.sqrt(g),e[0]=-l+n*Math.cos(i/3),e[2]=-l+n*Math.cos((i+2*Math.PI)/3),e[4]=-l+n*Math.cos((i+4*Math.PI)/3)},cu=function(a,b,c,d,e,f,g,h){var i,j=[];ct(c*c-4*c*e+2*c*g+4*e*e-4*e*g+g*g+d*d-4*d*f+2*d*h+4*f*f-4*f*h+h*h,9*c*e-3*c*c-3*c*g-6*e*e+3*e*g+9*d*f-3*d*d-3*d*h-6*f*f+3*f*h,3*c*c-6*c*e+c*g-c*a+2*e*e+2*e*a-g*a+3*d*d-6*d*f+d*h-d*b+2*f*f+2*f*b-h*b,c*e-c*c+c*a-e*a+d*f-d*d+d*b-f*b,j);for(var k=[],l=0;l<6;l+=2)1e-7>Math.abs(j[l+1])&&j[l]>=0&&j[l]<=1&&k.push(j[l]);k.push(1),k.push(0);for(var n=-1,o=0;o<k.length;o++)i=Math.pow(Math.pow(1-k[o],2)*c+2*(1-k[o])*k[o]*e+k[o]*k[o]*g-a,2)+Math.pow(Math.pow(1-k[o],2)*d+2*(1-k[o])*k[o]*f+k[o]*k[o]*h-b,2),n>=0?i<n&&(n=i):n=i;return n},cv=function(a,b,c,d,e,f){var g=[a-c,b-d],h=[e-c,f-d],i=h[0]*h[0]+h[1]*h[1],j=g[0]*g[0]+g[1]*g[1],k=g[0]*h[0]+g[1]*h[1],l=k*k/i;return k<0?j:l>i?(a-e)*(a-e)+(b-f)*(b-f):j-l},cw=function(a,b,c){for(var d,e,f,g,h=0,i=0;i<c.length/2;i++)if(d=c[2*i],e=c[2*i+1],i+1<c.length/2?(f=c[(i+1)*2],g=c[(i+1)*2+1]):(f=c[(i+1-c.length/2)*2],g=c[(i+1-c.length/2)*2+1]),d==a&&f==a);else{if((!(d>=a)||!(a>=f))&&(!(d<=a)||!(a<=f)))continue;(a-d)/(f-d)*(g-e)+e>b&&h++}return h%2!=0},cx=function(a,b,c,d,e,f,g,h,i){var j,k=Array(c.length);null!=h[0]?(j=Math.atan(h[1]/h[0]),h[0]<0?j+=Math.PI/2:j=-j-Math.PI/2):j=h;for(var l=Math.cos(-j),n=Math.sin(-j),o=0;o<k.length/2;o++)k[2*o]=f/2*(c[2*o]*l-c[2*o+1]*n),k[2*o+1]=g/2*(c[2*o+1]*l+c[2*o]*n),k[2*o]+=d,k[2*o+1]+=e;return cw(a,b,i>0?cz(cA(k,-i)):k)},cy=function(a,b,c,d,e,f,g,h){for(var i=Array(2*c.length),j=0;j<h.length;j++){var k=h[j];if(i[4*j+0]=k.startX,i[4*j+1]=k.startY,i[4*j+2]=k.stopX,i[4*j+3]=k.stopY,Math.pow(k.cx-a,2)+Math.pow(k.cy-b,2)<=Math.pow(k.radius,2))return!0}return cw(a,b,i)},cz=function(a){for(var b,c,d,e,f,g,h,i,j=Array(a.length/2),k=0;k<a.length/4;k++){b=a[4*k],c=a[4*k+1],d=a[4*k+2],e=a[4*k+3],k<a.length/4-1?(f=a[(k+1)*4],g=a[(k+1)*4+1],h=a[(k+1)*4+2],i=a[(k+1)*4+3]):(f=a[0],g=a[1],h=a[2],i=a[3]);var l=cF(b,c,d,e,f,g,h,i,!0);j[2*k]=l[0],j[2*k+1]=l[1]}return j},cA=function(a,b){for(var c,d,e,f,g=Array(2*a.length),h=0;h<a.length/2;h++){c=a[2*h],d=a[2*h+1],h<a.length/2-1?(e=a[(h+1)*2],f=a[(h+1)*2+1]):(e=a[0],f=a[1]);var i=f-d,j=-(e-c),k=Math.sqrt(i*i+j*j),l=i/k,n=j/k;g[4*h]=c+l*b,g[4*h+1]=d+n*b,g[4*h+2]=e+l*b,g[4*h+3]=f+n*b}return g},cB=function(a,b,c,d,e,f){var g=c-a,h=d-b,i=Math.sqrt((g/=e)*g+(h/=f)*h),j=i-1;if(j<0)return[];var k=j/i;return[(c-a)*k+a,(d-b)*k+b]},cC=function(a,b,c,d,e,f,g){return a-=e,b-=f,(a/=c/2+g)*a+(b/=d/2+g)*b<=1},cD=function(a,b,c,d,e,f,g){var h=[c-a,d-b],i=[a-e,b-f],j=h[0]*h[0]+h[1]*h[1],k=2*(i[0]*h[0]+i[1]*h[1]),l=k*k-4*j*(i[0]*i[0]+i[1]*i[1]-g*g);if(l<0)return[];var n=(-k+Math.sqrt(l))/(2*j),o=(-k-Math.sqrt(l))/(2*j),p=Math.min(n,o),q=Math.max(n,o),r=[];if(p>=0&&p<=1&&r.push(p),q>=0&&q<=1&&r.push(q),0===r.length)return[];var s=r[0]*h[0]+a,t=r[0]*h[1]+b;return r.length>1?r[0]==r[1]?[s,t]:[s,t,r[1]*h[0]+a,r[1]*h[1]+b]:[s,t]},cE=function(a,b,c){return b<=a&&a<=c||c<=a&&a<=b?a:a<=b&&b<=c||c<=b&&b<=a?b:c},cF=function(a,b,c,d,e,f,g,h,i){var j=a-e,k=c-a,l=g-e,n=b-f,o=d-b,p=h-f,q=l*n-p*j,r=k*n-o*j,s=p*k-l*o;if(0!==s){var t=q/s,u=r/s;return -.001<=t&&t<=1.001&&-.001<=u&&u<=1.001||i?[a+t*k,b+t*o]:[]}return 0!==q&&0!==r?[]:cE(a,c,g)===g?[g,h]:cE(a,c,e)===e?[e,f]:cE(e,g,c)===c?[c,d]:[]},cG=function(a,b,c,d,e){var f=[],g=d/2,h=e/2;f.push({x:b+g*a[0],y:c+h*a[1]});for(var i=1;i<a.length/2;i++)f.push({x:b+g*a[2*i],y:c+h*a[2*i+1]});return f},cH=function(a,b,c,d,e,f,g,h){var i,j,k,l,n,o,p=[],q=Array(c.length),r=!0;if(null==f&&(r=!1),r){for(var s=0;s<q.length/2;s++)q[2*s]=c[2*s]*f+d,q[2*s+1]=c[2*s+1]*g+e;j=h>0?cz(cA(q,-h)):q}else j=c;for(var t=0;t<j.length/2;t++)k=j[2*t],l=j[2*t+1],t<j.length/2-1?(n=j[(t+1)*2],o=j[(t+1)*2+1]):(n=j[0],o=j[1]),0!==(i=cF(a,b,d,e,k,l,n,o)).length&&p.push(i[0],i[1]);return p},cI=function(a,b,c,d,e,f,g,h,i){var j,k=[],l=Array(2*c.length);i.forEach(function(c,f){0===f?(l[l.length-2]=c.startX,l[l.length-1]=c.startY):(l[4*f-2]=c.startX,l[4*f-1]=c.startY),l[4*f]=c.stopX,l[4*f+1]=c.stopY,0!==(j=cD(a,b,d,e,c.cx,c.cy,c.radius)).length&&k.push(j[0],j[1])});for(var n=0;n<l.length/4;n++)0!==(j=cF(a,b,d,e,l[4*n],l[4*n+1],l[4*n+2],l[4*n+3],!1)).length&&k.push(j[0],j[1]);if(k.length>2){for(var o=[k[0],k[1]],p=Math.pow(o[0]-a,2)+Math.pow(o[1]-b,2),q=1;q<k.length/2;q++){var r=Math.pow(k[2*q]-a,2)+Math.pow(k[2*q+1]-b,2);r<=p&&(o[0]=k[2*q],o[1]=k[2*q+1],p=r)}return o}return k},cJ=function(a,b,c){var d=[a[0]-b[0],a[1]-b[1]],e=Math.sqrt(d[0]*d[0]+d[1]*d[1]),f=(e-c)/e;return f<0&&(f=1e-5),[b[0]+f*d[0],b[1]+f*d[1]]},cK=function(a,b){var c=cM(a,b);return cL(c)},cL=function(a){for(var b,c,d=a.length/2,e=1/0,f=1/0,g=-1/0,h=-1/0,i=0;i<d;i++)b=a[2*i],c=a[2*i+1],e=Math.min(e,b),g=Math.max(g,b),f=Math.min(f,c),h=Math.max(h,c);for(var j=2/(g-e),k=2/(h-f),l=0;l<d;l++)b=a[2*l]=a[2*l]*j,c=a[2*l+1]=a[2*l+1]*k,e=Math.min(e,b),g=Math.max(g,b),f=Math.min(f,c),h=Math.max(h,c);if(f<-1)for(var n=0;n<d;n++)c=a[2*n+1]=a[2*n+1]+(-1-f);return a},cM=function(a,b){var c,d=1/a*2*Math.PI,e=a%2==0?Math.PI/2+d/2:Math.PI/2;e+=b;for(var f=Array(2*a),g=0;g<a;g++)c=g*d+e,f[2*g]=Math.cos(c),f[2*g+1]=Math.sin(-c);return f},cN=function(a,b){return Math.min(a/4,b/4,8)},cO=function(a,b){return Math.min(a/10,b/10,8)},cP=function(){return 8},cQ=function(a,b){return{heightOffset:Math.min(15,.05*b),widthOffset:Math.min(100,.25*a),ctrlPtOffsetPct:.05}};function cR(a,b){function c(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=a[(c+1)%a.length],f={x:e.x-d.x,y:e.y-d.y},g={x:-f.y,y:f.x},h=Math.sqrt(g.x*g.x+g.y*g.y);b.push({x:g.x/h,y:g.y/h})}return b}function d(a,b){var c,d=1/0,e=-1/0,f=al(a);try{for(f.s();!(c=f.n()).done;){var g=c.value,h=g.x*b.x+g.y*b.y;d=Math.min(d,h),e=Math.max(e,h)}}catch(a){f.e(a)}finally{f.f()}return{min:d,max:e}}var e,f=al([].concat(ao(c(a)),ao(c(b))));try{for(f.s();!(e=f.n()).done;){var g=e.value,h=d(a,g),i=d(b,g);if(h.max<i.min||i.max<h.min)return!1}}catch(a){f.e(a)}finally{f.f()}return!0}var cS=bB({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(a){return 1}}),cT=bB({root:null,weight:function(a){return 1},directed:!1,alpha:0}),cU={degreeCentralityNormalized:function(a){a=cT(a);var b=this.cy(),c=this.nodes(),d=c.length;if(a.directed){for(var e={},f={},g=0,h=0,i=0;i<d;i++){var j=c[i],k=j.id();a.root=j;var l=this.degreeCentrality(a);g<l.indegree&&(g=l.indegree),h<l.outdegree&&(h=l.outdegree),e[k]=l.indegree,f[k]=l.outdegree}return{indegree:function(a){return 0==g?0:(ax(a)&&(a=b.filter(a)),e[a.id()]/g)},outdegree:function(a){return 0===h?0:(ax(a)&&(a=b.filter(a)),f[a.id()]/h)}}}for(var n={},o=0,p=0;p<d;p++){var q=c[p];a.root=q;var r=this.degreeCentrality(a);o<r.degree&&(o=r.degree),n[q.id()]=r.degree}return{degree:function(a){return 0===o?0:(ax(a)&&(a=b.filter(a)),n[a.id()]/o)}}},degreeCentrality:function(a){a=cT(a);var b=this.cy(),c=this,d=a,e=d.root,f=d.weight,g=d.directed,h=d.alpha;if(e=b.collection(e)[0],g){for(var i=e.connectedEdges(),j=i.filter(function(a){return a.target().same(e)&&c.has(a)}),k=i.filter(function(a){return a.source().same(e)&&c.has(a)}),l=j.length,n=k.length,o=0,p=0,q=0;q<j.length;q++)o+=f(j[q]);for(var r=0;r<k.length;r++)p+=f(k[r]);return{indegree:Math.pow(l,1-h)*Math.pow(o,h),outdegree:Math.pow(n,1-h)*Math.pow(p,h)}}for(var s=e.connectedEdges().intersection(c),t=s.length,u=0,v=0;v<s.length;v++)u+=f(s[v]);return{degree:Math.pow(t,1-h)*Math.pow(u,h)}}};cU.dc=cU.degreeCentrality,cU.dcn=cU.degreeCentralityNormalised=cU.degreeCentralityNormalized;var cV=bB({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),cW={closenessCentralityNormalized:function(a){for(var b=cV(a),c=b.harmonic,d=b.weight,e=b.directed,f=this.cy(),g={},h=0,i=this.nodes(),j=this.floydWarshall({weight:d,directed:e}),k=0;k<i.length;k++){for(var l=0,n=i[k],o=0;o<i.length;o++)if(k!==o){var p=j.distance(n,i[o]);c?l+=1/p:l+=p}c||(l=1/l),h<l&&(h=l),g[n.id()]=l}return{closeness:function(a){return 0==h?0:g[a=ax(a)?f.filter(a)[0].id():a.id()]/h}}},closenessCentrality:function(a){var b=cV(a),c=b.root,d=b.weight,e=b.directed,f=b.harmonic;c=this.filter(c)[0];for(var g=this.dijkstra({root:c,weight:d,directed:e}),h=0,i=this.nodes(),j=0;j<i.length;j++){var k=i[j];if(!k.same(c)){var l=g.distanceTo(k);f?h+=1/l:h+=l}}return f?h:1/h}};cW.cc=cW.closenessCentrality,cW.ccn=cW.closenessCentralityNormalised=cW.closenessCentralityNormalized;var cX=bB({weight:null,directed:!1}),cY={betweennessCentrality:function(a){for(var b=cX(a),c=b.directed,d=b.weight,e=null!=d,f=this.cy(),g=this.nodes(),h={},i={},j=0,k=function(a,b){i[a]=b,b>j&&(j=b)},l=function(a){return i[a]},n=0;n<g.length;n++){var o=g[n],p=o.id();c?h[p]=o.outgoers().nodes():h[p]=o.openNeighborhood().nodes(),k(p,0)}for(var q=0;q<g.length;q++)!function(){for(var a=g[q].id(),b=[],c={},i={},j={},n=new bQ(function(a,b){return j[a]-j[b]}),o=0;o<g.length;o++){var p=g[o].id();c[p]=[],i[p]=0,j[p]=1/0}for(i[a]=1,j[a]=0,n.push(a);!n.empty();){var r=n.pop();if(b.push(r),e)for(var s=0;s<h[r].length;s++){var t=h[r][s],u=f.getElementById(r),v=d(u.edgesTo(t).length>0?u.edgesTo(t)[0]:t.edgesTo(u)[0]);j[t=t.id()]>j[r]+v&&(j[t]=j[r]+v,0>n.nodes.indexOf(t)?n.push(t):n.updateItem(t),i[t]=0,c[t]=[]),j[t]==j[r]+v&&(i[t]=i[t]+i[r],c[t].push(r))}else for(var w=0;w<h[r].length;w++){var x=h[r][w].id();j[x]==1/0&&(n.push(x),j[x]=j[r]+1),j[x]==j[r]+1&&(i[x]=i[x]+i[r],c[x].push(r))}}for(var y={},z=0;z<g.length;z++)y[g[z].id()]=0;for(;b.length>0;){for(var A=b.pop(),B=0;B<c[A].length;B++){var C=c[A][B];y[C]=y[C]+i[C]/i[A]*(1+y[A])}A!=g[q].id()&&k(A,l(A)+y[A])}}();var r={betweenness:function(a){return l(f.collection(a).id())},betweennessNormalized:function(a){return 0==j?0:l(f.collection(a).id())/j}};return r.betweennessNormalised=r.betweennessNormalized,r}};cY.bc=cY.betweennessCentrality;var cZ=bB({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(a){return 1}]}),c$=function(a,b){for(var c=0,d=0;d<b.length;d++)c+=b[d](a);return c},c_=function(a,b,c){for(var d=0;d<b;d++)a[d*b+d]=c},c0=function(a,b){for(var c,d=0;d<b;d++){c=0;for(var e=0;e<b;e++)c+=a[e*b+d];for(var f=0;f<b;f++)a[f*b+d]=a[f*b+d]/c}},c1=function(a,b,c){for(var d=Array(c*c),e=0;e<c;e++){for(var f=0;f<c;f++)d[e*c+f]=0;for(var g=0;g<c;g++)for(var h=0;h<c;h++)d[e*c+h]+=a[e*c+g]*b[g*c+h]}return d},c2=function(a,b,c){for(var d=a.slice(0),e=1;e<c;e++)a=c1(a,d,b);return a},c3=function(a,b,c){for(var d=Array(b*b),e=0;e<b*b;e++)d[e]=Math.pow(a[e],c);return c0(d,b),d},c4=function(a,b,c,d){for(var e=0;e<c;e++)if(Math.round(a[e]*Math.pow(10,d))/Math.pow(10,d)!=Math.round(b[e]*Math.pow(10,d))/Math.pow(10,d))return!1;return!0},c5=function(a,b,c,d){for(var e=[],f=0;f<b;f++){for(var g=[],h=0;h<b;h++)Math.round(1e3*a[f*b+h])/1e3>0&&g.push(c[h]);0!==g.length&&e.push(d.collection(g))}return e},c6=function(a,b){for(var c=0;c<a.length;c++)if(!b[c]||a[c].id()!==b[c].id())return!1;return!0},c7=function(a){for(var b=0;b<a.length;b++)for(var c=0;c<a.length;c++)b!=c&&c6(a[b],a[c])&&a.splice(c,1);return a},c8=function(a){for(var b=this.nodes(),c=this.edges(),d=this.cy(),e=cZ(a),f={},g=0;g<b.length;g++)f[b[g].id()]=g;for(var h,i=b.length,j=i*i,k=Array(j),l=0;l<j;l++)k[l]=0;for(var n=0;n<c.length;n++){var o=c[n],p=f[o.source().id()],q=f[o.target().id()],r=c$(o,e.attributes);k[p*i+q]+=r,k[q*i+p]+=r}c_(k,i,e.multFactor),c0(k,i);for(var s=!0,t=0;s&&t<e.maxIterations;)s=!1,c4(k=c3(h=c2(k,i,e.expandFactor),i,e.inflateFactor),h,j,4)||(s=!0),t++;var u=c5(k,i,b,d);return c7(u)},c9=function(a){return a},da=function(a,b){return Math.abs(b-a)},db=function(a,b,c){return a+da(b,c)},dc=function(a,b,c){return a+Math.pow(c-b,2)},dd=function(a){return Math.sqrt(a)},de=function(a,b,c){return Math.max(a,da(b,c))},df=function(a,b,c,d,e){for(var f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:c9,g=d,h=0;h<a;h++)g=e(g,b(h),c(h));return f(g)},dg={euclidean:function(a,b,c){return a>=2?df(a,b,c,0,dc,dd):df(a,b,c,0,db)},squaredEuclidean:function(a,b,c){return df(a,b,c,0,dc)},manhattan:function(a,b,c){return df(a,b,c,0,db)},max:function(a,b,c){return df(a,b,c,-1/0,de)}};function dh(a,b,c,d,e,f){var g;return(g=ay(a)?a:dg[a]||dg.euclidean,0===b&&ay(a))?g(e,f):g(b,c,d,e,f)}dg["squared-euclidean"]=dg.squaredEuclidean,dg.squaredeuclidean=dg.squaredEuclidean;var di=bB({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),dj=function(a){return di(a)},dk=function(a,b,c,d,e){var f="kMedoids"!==e?function(a){return c[a]}:function(a){return d[a](c)};return dh(a,d.length,f,function(a){return d[a](b)},c,b)},dl=function(a,b,c){for(var d=c.length,e=Array(d),f=Array(d),g=Array(b),h=null,i=0;i<d;i++)e[i]=a.min(c[i]).value,f[i]=a.max(c[i]).value;for(var j=0;j<b;j++){h=[];for(var k=0;k<d;k++)h[k]=Math.random()*(f[k]-e[k])+e[k];g[j]=h}return g},dm=function(a,b,c,d,e){for(var f=1/0,g=0,h=0;h<b.length;h++){var i=dk(c,a,b[h],d,e);i<f&&(f=i,g=h)}return g},dn=function(a,b,c){for(var d=[],e=null,f=0;f<b.length;f++)c[(e=b[f]).id()]===a&&d.push(e);return d},dp=function(a,b,c){for(var d=0;d<a.length;d++)for(var e=0;e<a[d].length;e++)if(Math.abs(a[d][e]-b[d][e])>c)return!1;return!0},dq=function(a,b,c){for(var d=0;d<c;d++)if(a===b[d])return!0;return!1},dr=function(a,b){var c=Array(b);if(a.length<50)for(var d=0;d<b;d++){for(var e=a[Math.floor(Math.random()*a.length)];dq(e,c,d);)e=a[Math.floor(Math.random()*a.length)];c[d]=e}else for(var f=0;f<b;f++)c[f]=a[Math.floor(Math.random()*a.length)];return c},ds=function(a,b,c){for(var d=0,e=0;e<b.length;e++)d+=dk("manhattan",b[e],a,c,"kMedoids");return d},dt=function(a,b,c,d,e){for(var f,g,h=0;h<b.length;h++)for(var i=0;i<a.length;i++)d[h][i]=Math.pow(c[h][i],e.m);for(var j=0;j<a.length;j++)for(var k=0;k<e.attributes.length;k++){f=0,g=0;for(var l=0;l<b.length;l++)f+=d[l][j]*e.attributes[k](b[l]),g+=d[l][j];a[j][k]=f/g}},du=function(a,b,c,d,e){for(var f,g=0;g<a.length;g++)b[g]=a[g].slice();for(var h=2/(e.m-1),i=0;i<c.length;i++)for(var j=0;j<d.length;j++){f=0;for(var k=0;k<c.length;k++)f+=Math.pow(dk(e.distance,d[j],c[i],e.attributes,"cmeans")/dk(e.distance,d[j],c[k],e.attributes,"cmeans"),h);a[j][i]=1/f}},dv=function(a,b,c,d){for(var e,f,g=Array(c.k),h=0;h<g.length;h++)g[h]=[];for(var i=0;i<b.length;i++){e=-1/0,f=-1;for(var j=0;j<b[0].length;j++)b[i][j]>e&&(e=b[i][j],f=j);g[f].push(a[i])}for(var k=0;k<g.length;k++)g[k]=d.collection(g[k]);return g},dw=function(a){var b,c,d,e,f=this.cy(),g=this.nodes(),h=dj(a);d=Array(g.length);for(var i=0;i<g.length;i++)d[i]=Array(h.k);c=Array(g.length);for(var j=0;j<g.length;j++)c[j]=Array(h.k);for(var k=0;k<g.length;k++){for(var l=0,n=0;n<h.k;n++)c[k][n]=Math.random(),l+=c[k][n];for(var o=0;o<h.k;o++)c[k][o]=c[k][o]/l}b=Array(h.k);for(var p=0;p<h.k;p++)b[p]=Array(h.attributes.length);e=Array(g.length);for(var q=0;q<g.length;q++)e[q]=Array(h.k);for(var r=!0,s=0;r&&s<h.maxIterations;)r=!1,dt(b,g,c,e,h),du(c,d,b,g,h),dp(c,d,h.sensitivityThreshold)||(r=!0),s++;return{clusters:dv(g,c,h,f),degreeOfMembership:c}},dx=bB({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),dy={single:"min",complete:"max"},dz=function(a){var b=dx(a),c=dy[b.linkage];return null!=c&&(b.linkage=c),b},dA=function(a,b,c,d,e){for(var f,g,h=0,i=1/0,j=e.attributes,k=function(a,b){return dh(e.distance,j.length,function(b){return j[b](a)},function(a){return j[a](b)},a,b)},l=0;l<a.length;l++){var n=a[l].key,o=c[n][d[n]];o<i&&(h=n,i=o)}if("threshold"===e.mode&&i>=e.threshold||"dendrogram"===e.mode&&1===a.length)return!1;var p=b[h],q=b[d[h]];g="dendrogram"===e.mode?{left:p,right:q,key:p.key}:{value:p.value.concat(q.value),key:p.key},a[p.index]=g,a.splice(q.index,1),b[p.key]=g;for(var r=0;r<a.length;r++){var s=a[r];p.key===s.key?f=1/0:"min"===e.linkage?(f=c[p.key][s.key],c[p.key][s.key]>c[q.key][s.key]&&(f=c[q.key][s.key])):"max"===e.linkage?(f=c[p.key][s.key],c[p.key][s.key]<c[q.key][s.key]&&(f=c[q.key][s.key])):f="mean"===e.linkage?(c[p.key][s.key]*p.size+c[q.key][s.key]*q.size)/(p.size+q.size):"dendrogram"===e.mode?k(s.value,p.value):k(s.value[0],p.value[0]),c[p.key][s.key]=c[s.key][p.key]=f}for(var t=0;t<a.length;t++){var u=a[t].key;if(d[u]===p.key||d[u]===q.key){for(var v=u,w=0;w<a.length;w++){var x=a[w].key;c[u][x]<c[u][v]&&(v=x)}d[u]=v}a[t].index=t}return p.key=q.key=p.index=q.index=null,!0},dB=function(a,b,c){a&&(a.value?b.push(a.value):(a.left&&dB(a.left,b),a.right&&dB(a.right,b)))},dC=function(a,b){if(!a)return"";if(a.left&&a.right){var c=dC(a.left,b),d=dC(a.right,b),e=b.add({group:"nodes",data:{id:c+","+d}});return b.add({group:"edges",data:{source:c,target:e.id()}}),b.add({group:"edges",data:{source:d,target:e.id()}}),e.id()}if(a.value)return a.value.id()},dD=function(a,b,c){if(!a)return[];var d=[],e=[],f=[];if(0===b)return a.left&&dB(a.left,d),a.right&&dB(a.right,e),f=d.concat(e),[c.collection(f)];if(1===b)if(a.value)return[c.collection(a.value)];else return a.left&&dB(a.left,d),a.right&&dB(a.right,e),[c.collection(d),c.collection(e)];return a.value?[c.collection(a.value)]:(a.left&&(d=dD(a.left,b-1,c)),a.right&&(e=dD(a.right,b-1,c)),d.concat(e))},dE=function(a){for(var b,c=this.cy(),d=this.nodes(),e=dz(a),f=e.attributes,g=function(a,b){return dh(e.distance,f.length,function(b){return f[b](a)},function(a){return f[a](b)},a,b)},h=[],i=[],j=[],k=[],l=0;l<d.length;l++){var n={value:"dendrogram"===e.mode?d[l]:[d[l]],key:l,index:l};h[l]=n,k[l]=n,i[l]=[],j[l]=0}for(var o=0;o<h.length;o++)for(var p=0;p<=o;p++){var q=void 0;q="dendrogram"===e.mode?o===p?1/0:g(h[o].value,h[p].value):o===p?1/0:g(h[o].value[0],h[p].value[0]),i[o][p]=q,i[p][o]=q,q<i[o][j[o]]&&(j[o]=p)}for(var r=dA(h,k,i,j,e);r;)r=dA(h,k,i,j,e);return"dendrogram"===e.mode?(b=dD(h[0],e.dendrogramDepth,c),e.addDendrogram&&dC(h[0],c)):(b=Array(h.length),h.forEach(function(a,d){a.key=a.index=null,b[d]=c.collection(a.value)})),b},dF=bB({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),dG=function(a){var b=a.damping,c=a.preference;.5<=b&&b<1||bu("Damping must range on [0.5, 1).  Got: ".concat(b));var d=["median","mean","min","max"];return d.some(function(a){return a===c})||aB(c)||bu("Preference must be one of [".concat(d.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(c)),dF(a)},dH=function(a,b,c,d){var e=function(a,b){return d[b](a)};return-dh(a,d.length,function(a){return e(b,a)},function(a){return e(c,a)},b,c)},dI=function(a,b){return"median"===b?b2(a):"mean"===b?b1(a):"min"===b?b_(a):"max"===b?b0(a):b},dJ=function(a,b,c){for(var d=[],e=0;e<a;e++)b[e*a+e]+c[e*a+e]>0&&d.push(e);return d},dK=function(a,b,c){for(var d=[],e=0;e<a;e++){for(var f=-1,g=-1/0,h=0;h<c.length;h++){var i=c[h];b[e*a+i]>g&&(f=i,g=b[e*a+i])}f>0&&d.push(f)}for(var j=0;j<c.length;j++)d[c[j]]=c[j];return d},dL=function(a,b,c){for(var d=dK(a,b,c),e=0;e<c.length;e++){for(var f=[],g=0;g<d.length;g++)d[g]===c[e]&&f.push(g);for(var h=-1,i=-1/0,j=0;j<f.length;j++){for(var k=0,l=0;l<f.length;l++)k+=b[f[l]*a+f[j]];k>i&&(h=j,i=k)}c[e]=f[h]}return dK(a,b,c)},dM=function(a){for(var b,c,d,e,f,g,h,i=this.cy(),j=this.nodes(),k=dG(a),l={},n=0;n<j.length;n++)l[j[n].id()]=n;d=Array(c=(b=j.length)*b);for(var o=0;o<c;o++)d[o]=-1/0;for(var p=0;p<b;p++)for(var q=0;q<b;q++)p!==q&&(d[p*b+q]=dH(k.distance,j[p],j[q],k.attributes));e=dI(d,k.preference);for(var r=0;r<b;r++)d[r*b+r]=e;f=Array(c);for(var s=0;s<c;s++)f[s]=0;g=Array(c);for(var t=0;t<c;t++)g[t]=0;for(var u=Array(b),v=Array(b),w=Array(b),x=0;x<b;x++)u[x]=0,v[x]=0,w[x]=0;for(var y=Array(b*k.minIterations),z=0;z<y.length;z++)y[z]=0;for(h=0;h<k.maxIterations;h++){for(var A=0;A<b;A++){for(var B=-1/0,C=-1/0,D=-1,E=0,F=0;F<b;F++)u[F]=f[A*b+F],(E=g[A*b+F]+d[A*b+F])>=B?(C=B,B=E,D=F):E>C&&(C=E);for(var G=0;G<b;G++)f[A*b+G]=(1-k.damping)*(d[A*b+G]-B)+k.damping*u[G];f[A*b+D]=(1-k.damping)*(d[A*b+D]-C)+k.damping*u[D]}for(var H=0;H<b;H++){for(var I=0,J=0;J<b;J++)u[J]=g[J*b+H],v[J]=Math.max(0,f[J*b+H]),I+=v[J];I-=v[H],v[H]=f[H*b+H],I+=v[H];for(var K=0;K<b;K++)g[K*b+H]=(1-k.damping)*Math.min(0,I-v[K])+k.damping*u[K];g[H*b+H]=(1-k.damping)*(I-v[H])+k.damping*u[H]}for(var L=0,M=0;M<b;M++){var N=+(g[M*b+M]+f[M*b+M]>0);y[h%k.minIterations*b+M]=N,L+=N}if(L>0&&(h>=k.minIterations-1||h==k.maxIterations-1)){for(var O=0,P=0;P<b;P++){w[P]=0;for(var Q=0;Q<k.minIterations;Q++)w[P]+=y[Q*b+P];(0===w[P]||w[P]===k.minIterations)&&O++}if(O===b)break}}for(var R=dJ(b,f,g),S=dL(b,d,R),T={},U=0;U<R.length;U++)T[R[U]]=[];for(var V=0;V<j.length;V++){var W=S[l[j[V].id()]];null!=W&&T[W].push(j[V])}for(var X=Array(R.length),Y=0;Y<R.length;Y++)X[Y]=i.collection(T[R[Y]]);return X},dN=bB({root:void 0,directed:!1}),dO=function(){var a=this,b={},c=0,d=0,e=[],f=[],g={},h=function(c,d){for(var g=f.length-1,h=[],i=a.spawn();f[g].x!=c||f[g].y!=d;)h.push(f.pop().edge),g--;h.push(f.pop().edge),h.forEach(function(c){var d=c.connectedNodes().intersection(a);i.merge(c),d.forEach(function(c){var d=c.id(),e=c.connectedEdges().intersection(a);i.merge(c),b[d].cutVertex?i.merge(e.filter(function(a){return a.isLoop()})):i.merge(e)})}),e.push(i)},i=function(j,k,l){j===l&&(d+=1),b[k]={id:c,low:c++,cutVertex:!1};var n,o,p,q,r=a.getElementById(k).connectedEdges().intersection(a);0===r.size()?e.push(a.spawn(a.getElementById(k))):r.forEach(function(a){n=a.source().id(),o=a.target().id(),(p=n===k?o:n)!==l&&(g[q=a.id()]||(g[q]=!0,f.push({x:k,y:p,edge:a})),p in b?b[k].low=Math.min(b[k].low,b[p].id):(i(j,p,k),b[k].low=Math.min(b[k].low,b[p].low),b[k].id<=b[p].low&&(b[k].cutVertex=!0,h(k,p))))})};a.forEach(function(a){if(a.isNode()){var c=a.id();c in b||(d=0,i(c,c),b[c].cutVertex=d>1)}});var j=Object.keys(b).filter(function(a){return b[a].cutVertex}).map(function(b){return a.getElementById(b)});return{cut:a.spawn(j),components:e}},dP=function(){var a=this,b={},c=0,d=[],e=[],f=a.spawn(a),g=function(h){if(e.push(h),b[h]={index:c,low:c++,explored:!1},a.getElementById(h).connectedEdges().intersection(a).forEach(function(a){var c=a.target().id();c!==h&&(c in b||g(c),b[c].explored||(b[h].low=Math.min(b[h].low,b[c].low)))}),b[h].index===b[h].low){for(var i=a.spawn();;){var j=e.pop();if(i.merge(a.getElementById(j)),b[j].low=b[h].index,b[j].explored=!0,j===h)break}var k=i.edgesWith(i),l=i.merge(k);d.push(l),f=f.difference(l)}};return a.forEach(function(a){if(a.isNode()){var c=a.id();c in b||g(c)}}),{cut:f,components:d}},dQ={};[bN,{dijkstra:function(a){if(!aA(a)){var b=arguments;a={root:b[0],weight:b[1],directed:b[2]}}var c=bR(a),d=c.root,e=c.weight,f=c.directed,g=this,h=ax(d)?this.filter(d)[0]:d[0],i={},j={},k={},l=this.byGroup(),n=l.nodes,o=l.edges;o.unmergeBy(function(a){return a.isLoop()});for(var p=function(a){return i[a.id()]},q=new bQ(function(a,b){return p(a)-p(b)}),r=0;r<n.length;r++){var s=n[r];i[s.id()]=s.same(h)?0:1/0,q.push(s)}for(;q.size()>0;){var t=q.pop(),u=p(t);if(k[t.id()]=u,u!==1/0)for(var v=t.neighborhood().intersect(n),w=0;w<v.length;w++){var x=v[w],y=x.id(),z=function(a,b){for(var c,d=(f?a.edgesTo(b):a.edgesWith(b)).intersect(o),g=1/0,h=0;h<d.length;h++){var i=d[h],j=e(i);(j<g||!c)&&(g=j,c=i)}return{edge:c,dist:g}}(t,x),A=u+z.dist;A<p(x)&&(i[x.id()]=A,q.updateItem(x),j[y]={node:t,edge:z.edge})}}return{distanceTo:function(a){return k[(ax(a)?n.filter(a)[0]:a[0]).id()]},pathTo:function(a){var b=ax(a)?n.filter(a)[0]:a[0],c=[],d=b,e=d.id();if(b.length>0)for(c.unshift(b);j[e];){var f=j[e];c.unshift(f.edge),c.unshift(f.node),e=(d=f.node).id()}return g.spawn(c)}}}},{kruskal:function(a){a=a||function(a){return 1};for(var b=this.byGroup(),c=b.nodes,d=b.edges,e=c.length,f=Array(e),g=function(a){for(var b=0;b<f.length;b++)if(f[b].has(a))return b},h=0;h<e;h++)f[h]=this.spawn(c[h]);for(var i=d.sort(function(b,c){return a(b)-a(c)}),j=0;j<i.length;j++){var k=i[j],l=k.source()[0],n=k.target()[0],o=g(l),p=g(n),q=f[o],r=f[p];o!==p&&(c.merge(k),q.merge(r),f.splice(p,1))}return c}},{aStar:function(a){var b,c,d=this.cy(),e=bS(a),f=e.root,g=e.goal,h=e.heuristic,i=e.directed,j=e.weight;f=d.collection(f)[0],g=d.collection(g)[0];var k=f.id(),l=g.id(),n={},o={},p={},q=new bQ(function(a,b){return o[a.id()]-o[b.id()]}),r=new bK,s={},t={},u=function(a,b){q.push(a),r.add(b)};u(f,k),n[k]=0,o[k]=h(f);for(var v=0;q.size()>0;){if(c=(b=q.pop()).id(),r.delete(c),v++,c===l){for(var w=[],x=g,y=l,z=t[y];w.unshift(x),null!=z&&w.unshift(z),null!=(x=s[y]);)z=t[y=x.id()];return{found:!0,distance:n[c],path:this.spawn(w),steps:v}}p[c]=!0;for(var A=b._private.edges,B=0;B<A.length;B++){var C=A[B];if(this.hasElementWithId(C.id())&&(!i||C.data("source")===c)){var D=C.source(),E=C.target(),F=D.id()!==c?D:E,G=F.id();if(this.hasElementWithId(G)&&!p[G]){var H=n[c]+j(C);if(!r.has(G)){n[G]=H,o[G]=H+h(F),u(F,G),s[G]=b,t[G]=C;continue}H<n[G]&&(n[G]=H,o[G]=H+h(F),s[G]=b,t[G]=C)}}}}return{found:!1,distance:void 0,path:void 0,steps:v}}},{floydWarshall:function(a){for(var b=this.cy(),c=bT(a),d=c.weight,e=c.directed,f=this.byGroup(),g=f.nodes,h=f.edges,i=g.length,j=i*i,k=function(a){return g.indexOf(a)},l=function(a){return g[a]},n=Array(j),o=0;o<j;o++){var p=o%i;(o-p)/i===p?n[o]=0:n[o]=1/0}for(var q=Array(j),r=Array(j),s=0;s<h.length;s++){var t=h[s],u=t.source()[0],v=t.target()[0];if(u!==v){var w=k(u),x=k(v),y=w*i+x,z=d(t);if(n[y]>z&&(n[y]=z,q[y]=x,r[y]=t),!e){var A=x*i+w;!e&&n[A]>z&&(n[A]=z,q[A]=w,r[A]=t)}}}for(var B=0;B<i;B++)for(var C=0;C<i;C++)for(var D=C*i+B,E=0;E<i;E++){var F=C*i+E,G=B*i+E;n[D]+n[G]<n[F]&&(n[F]=n[D]+n[G],q[F]=q[D])}var H=function(a){return k((ax(a)?b.filter(a):a)[0])};return{distance:function(a,b){return n[H(a)*i+H(b)]},path:function(a,c){var d,e=H(a),f=H(c),g=l(e);if(e===f)return g.collection();if(null==q[e*i+f])return b.collection();var h=b.collection(),j=e;for(h.merge(g);e!==f;)j=e,e=q[e*i+f],d=r[j*i+e],h.merge(d),h.merge(l(e));return h}}}},{bellmanFord:function(a){var b=this,c=bU(a),d=c.weight,e=c.directed,f=c.root,g=this,h=this.cy(),i=this.byGroup(),j=i.edges,k=i.nodes,l=k.length,n=new bI,o=!1,p=[];f=h.collection(f)[0],j.unmergeBy(function(a){return a.isLoop()});for(var q=j.length,r=function(a){var b=n.get(a.id());return b||(b={},n.set(a.id(),b)),b},s=function(a){return(ax(a)?h.$(a):a)[0]},t=0;t<l;t++){var u=k[t],v=r(u);u.same(f)?v.dist=0:v.dist=1/0,v.pred=null,v.edge=null}for(var w=!1,x=function(a,b,c,d,e,f){var g=d.dist+f;g<e.dist&&!c.same(d.edge)&&(e.dist=g,e.pred=a,e.edge=c,w=!0)},y=1;y<l;y++){w=!1;for(var z=0;z<q;z++){var A=j[z],B=A.source(),C=A.target(),D=d(A),E=r(B),F=r(C);x(B,C,A,E,F,D),e||x(C,B,A,F,E,D)}if(!w)break}if(w)for(var G=[],H=0;H<q;H++){var I=j[H],J=I.source(),K=I.target(),L=d(I),M=r(J).dist,N=r(K).dist;if(M+L<N||!e&&N+L<M)if(o||(bw("Graph contains a negative weight cycle for Bellman-Ford"),o=!0),!1!==a.findNegativeWeightCycles){var O=[];M+L<N&&O.push(J),!e&&N+L<M&&O.push(K);for(var P=O.length,Q=0;Q<P;Q++){var R=O[Q],S=[R];S.push(r(R).edge);for(var T=r(R).pred;-1===S.indexOf(T);)S.push(T),S.push(r(T).edge),T=r(T).pred;for(var U=(S=S.slice(S.indexOf(T)))[0].id(),V=0,W=2;W<S.length;W+=2)S[W].id()<U&&(U=S[W].id(),V=W);(S=S.slice(V).concat(S.slice(0,V))).push(S[0]);var X=S.map(function(a){return a.id()}).join(",");-1===G.indexOf(X)&&(p.push(g.spawn(S)),G.push(X))}}else break}return{distanceTo:function(a){return r(s(a)).dist},pathTo:function(a){for(var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,d=s(a),e=[],h=d;;){if(null==h)return b.spawn();var i=r(h),j=i.edge,k=i.pred;if(e.unshift(h[0]),h.same(c)&&e.length>0)break;null!=j&&e.unshift(j),h=k}return g.spawn(e)},hasNegativeWeightCycle:o,negativeWeightCycles:p}}},{kargerStein:function(){var a=this,b=this.byGroup(),c=b.nodes,d=b.edges;d.unmergeBy(function(a){return a.isLoop()});var e=c.length,f=d.length,g=Math.ceil(Math.pow(Math.log(e)/Math.LN2,2)),h=Math.floor(e/bV);if(e<2)return void bu("At least 2 nodes are required for Karger-Stein algorithm");for(var i=[],j=0;j<f;j++){var k=d[j];i.push([j,c.indexOf(k.source()),c.indexOf(k.target())])}for(var l=1/0,n=[],o=Array(e),p=Array(e),q=Array(e),r=function(a,b){for(var c=0;c<e;c++)b[c]=a[c]},s=0;s<=g;s++){for(var t=0;t<e;t++)p[t]=t;var u=bX(p,i.slice(),e,h),v=u.slice();r(p,q);var w=bX(p,u,h,2),x=bX(q,v,h,2);w.length<=x.length&&w.length<l?(l=w.length,n=w,r(p,o)):x.length<=w.length&&x.length<l&&(l=x.length,n=x,r(q,o))}for(var y=this.spawn(n.map(function(a){return d[a[0]]})),z=this.spawn(),A=this.spawn(),B=o[0],C=0;C<o.length;C++){var D=o[C],E=c[C];D===B?z.merge(E):A.merge(E)}var F=function(b){var c=a.spawn();return b.forEach(function(b){c.merge(b),b.connectedEdges().forEach(function(b){a.contains(b)&&!y.contains(b)&&c.merge(b)})}),c};return{cut:y,components:[F(z),F(A)],partition1:z,partition2:A}}},{pageRank:function(a){for(var b,c=cS(a),d=c.dampingFactor,e=c.precision,f=c.iterations,g=c.weight,h=this._private.cy,i=this.byGroup(),j=i.nodes,k=i.edges,l=j.length,n=l*l,o=k.length,p=Array(n),q=Array(l),r=(1-d)/l,s=0;s<l;s++){for(var t=0;t<l;t++)p[s*l+t]=0;q[s]=0}for(var u=0;u<o;u++){var v=k[u],w=v.data("source"),x=v.data("target");if(w!==x){var y=j.indexOfId(w),z=j.indexOfId(x),A=g(v),B=z*l+y;p[B]+=A,q[y]+=A}}for(var C=1/l+r,D=0;D<l;D++)if(0===q[D])for(var E=0;E<l;E++)p[E*l+D]=C;else for(var F=0;F<l;F++){var G=F*l+D;p[G]=p[G]/q[D]+r}for(var H=Array(l),I=Array(l),J=0;J<l;J++)H[J]=1;for(var K=0;K<f;K++){for(var L=0;L<l;L++)I[L]=0;for(var M=0;M<l;M++)for(var N=0;N<l;N++){var O=M*l+N;I[M]+=p[O]*H[N]}b8(I),b=H,H=I,I=b;for(var P=0,Q=0;Q<l;Q++){var R=b[Q]-H[Q];P+=R*R}if(P<e)break}return{rank:function(a){return a=h.collection(a)[0],H[j.indexOf(a)]}}}},cU,cW,cY,{markovClustering:c8,mcl:c8},{kMeans:function(a){var b,c=this.cy(),d=this.nodes(),e=null,f=dj(a),g=Array(f.k),h={};f.testMode?"number"==typeof f.testCentroids?(f.testCentroids,b=dl(d,f.k,f.attributes)):b="object"===aq(f.testCentroids)?f.testCentroids:dl(d,f.k,f.attributes):b=dl(d,f.k,f.attributes);for(var i=!0,j=0;i&&j<f.maxIterations;){for(var k=0;k<d.length;k++)h[(e=d[k]).id()]=dm(e,b,f.distance,f.attributes,"kMeans");i=!1;for(var l=0;l<f.k;l++){var n=dn(l,d,h);if(0!==n.length){for(var o=f.attributes.length,p=b[l],q=Array(o),r=Array(o),s=0;s<o;s++){r[s]=0;for(var t,u=0;u<n.length;u++)e=n[u],r[s]+=f.attributes[s](e);q[s]=r[s]/n.length,t=q[s],Math.abs(p[s]-t)<=f.sensitivityThreshold||(i=!0)}b[l]=q,g[l]=c.collection(n)}}j++}return g},kMedoids:function(a){var b,c,d=this.cy(),e=this.nodes(),f=null,g=dj(a),h=Array(g.k),i={},j=Array(g.k);g.testMode?"number"==typeof g.testCentroids||(b="object"===aq(g.testCentroids)?g.testCentroids:dr(e,g.k)):b=dr(e,g.k);for(var k=!0,l=0;k&&l<g.maxIterations;){for(var n=0;n<e.length;n++)i[(f=e[n]).id()]=dm(f,b,g.distance,g.attributes,"kMedoids");k=!1;for(var o=0;o<b.length;o++){var p=dn(o,e,i);if(0!==p.length){j[o]=ds(b[o],p,g.attributes);for(var q=0;q<p.length;q++)(c=ds(p[q],p,g.attributes))<j[o]&&(j[o]=c,b[o]=p[q],k=!0);h[o]=d.collection(p)}}l++}return h},fuzzyCMeans:dw,fcm:dw},{hierarchicalClustering:dE,hca:dE},{affinityPropagation:dM,ap:dM},{hierholzer:function(a){if(!aA(a)){var b,c,d,e=arguments;a={root:e[0],directed:e[1]}}var f=dN(a),g=f.root,h=f.directed,i=!1;g&&(d=ax(g)?this.filter(g)[0].id():g[0].id());var j={},k={};h?this.forEach(function(a){var d=a.id();if(a.isNode()){var e=a.indegree(!0),f=a.outdegree(!0),g=e-f,h=f-e;1==g?b?i=!0:b=d:1==h?c?i=!0:c=d:(h>1||g>1)&&(i=!0),j[d]=[],a.outgoers().forEach(function(a){a.isEdge()&&j[d].push(a.id())})}else k[d]=[void 0,a.target().id()]}):this.forEach(function(a){var d=a.id();a.isNode()?(a.degree(!0)%2&&(b?c?i=!0:c=d:b=d),j[d]=[],a.connectedEdges().forEach(function(a){return j[d].push(a.id())})):k[d]=[a.source().id(),a.target().id()]});var l={found:!1,trail:void 0};if(i)return l;if(c&&b)if(h){if(d&&c!=d)return l;d=c}else{if(d&&c!=d&&b!=d)return l;d||(d=c)}else d||(d=this[0].id());var n=function(a){for(var b,c,d,e=a,f=[a];j[e].length;)c=k[b=j[e].shift()][0],e!=(d=k[b][1])?(j[d]=j[d].filter(function(a){return a!=b}),e=d):h||e==c||(j[c]=j[c].filter(function(a){return a!=b}),e=c),f.unshift(b),f.unshift(e);return f},o=[],p=[];for(p=n(d);1!=p.length;)0==j[p[0]].length?(o.unshift(this.getElementById(p.shift())),o.unshift(this.getElementById(p.shift()))):p=n(p.shift()).concat(p);for(var q in o.unshift(this.getElementById(p.shift())),j)if(j[q].length)return l;return l.found=!0,l.trail=this.spawn(o,!0),l}},{hopcroftTarjanBiconnected:dO,htbc:dO,htb:dO,hopcroftTarjanBiconnectedComponents:dO},{tarjanStronglyConnected:dP,tsc:dP,tscc:dP,tarjanStronglyConnectedComponents:dP}].forEach(function(a){aW(dQ,a)});var dR=function(a){if(!(this instanceof dR))return new dR(a);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof a&&a.call(this,this.fulfill.bind(this),this.reject.bind(this))};dR.prototype={fulfill:function(a){return dS(this,1,"fulfillValue",a)},reject:function(a){return dS(this,2,"rejectReason",a)},then:function(a,b){var c=new dR;return this.onFulfilled.push(dV(a,c,"fulfill")),this.onRejected.push(dV(b,c,"reject")),dT(this),c.proxy}};var dS=function(a,b,c,d){return 0===a.state&&(a.state=b,a[c]=d,dT(a)),a},dT=function(a){1===a.state?dU(a,"onFulfilled",a.fulfillValue):2===a.state&&dU(a,"onRejected",a.rejectReason)},dU=function(a,b,c){if(0!==a[b].length){var d=a[b];a[b]=[];var e=function(){for(var a=0;a<d.length;a++)d[a](c)};"function"==typeof setImmediate?setImmediate(e):setTimeout(e,0)}},dV=function(a,b,c){return function(d){if("function"!=typeof a)b[c].call(b,d);else{var e;try{e=a(d)}catch(a){b.reject(a);return}dW(b,e)}}},dW=function(a,b){if(a===b||a.proxy===b)return void a.reject(TypeError("cannot resolve promise with itself"));if("object"===aq(b)&&null!==b||"function"==typeof b)try{c=b.then}catch(b){a.reject(b);return}if("function"==typeof c){var c,d=!1;try{c.call(b,function(c){d||(d=!0,c===b?a.reject(TypeError("circular thenable chain")):dW(a,c))},function(b){d||(d=!0,a.reject(b))})}catch(b){d||a.reject(b)}return}a.fulfill(b)};dR.all=function(a){return new dR(function(b,c){for(var d=Array(a.length),e=0,f=function(c,f){d[c]=f,++e===a.length&&b(d)},g=0;g<a.length;g++)!function(b){var d=a[b];null!=d&&null!=d.then?d.then(function(a){f(b,a)},function(a){c(a)}):f(b,d)}(g)})},dR.resolve=function(a){return new dR(function(b,c){b(a)})},dR.reject=function(a){return new dR(function(b,c){c(a)})};var dX="u">typeof Promise?Promise:dR,dY=function(a,b,c){var d=aG(a),e=this._private=aW({duration:1e3},b,c);if(e.target=a,e.style=e.style||e.css,e.started=!1,e.playing=!1,e.hooked=!1,e.applying=!1,e.progress=0,e.completes=[],e.frames=[],e.complete&&ay(e.complete)&&e.completes.push(e.complete),!d){var f=a.position();e.startPosition=e.startPosition||{x:f.x,y:f.y},e.startStyle=e.startStyle||a.cy().style().getAnimationStartStyle(a,e.style)}if(d){var g=a.pan();e.startPan={x:g.x,y:g.y},e.startZoom=a.zoom()}this.length=1,this[0]=this},dZ=dY.prototype;function d$(){return hp?ho:(hp=1,ho=Array.isArray)}function d_(){if(hF)return hE;hF=1;var a=function(){if(hB)return hA;hB=1;var a=function(){if(ht)return hs;ht=1;var a=a7(),b=a4();return hs=function(c){if(!b(c))return!1;var d=a(c);return"[object Function]"==d||"[object GeneratorFunction]"==d||"[object AsyncFunction]"==d||"[object Proxy]"==d}}(),b=function(){if(hx)return hw;hx=1;var a,b=hv?hu:(hv=1,hu=a5()["__core-js_shared__"]),c=(a=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";return hw=function(a){return!!c&&c in a}}(),c=a4(),d=function(){if(hz)return hy;hz=1;var a=Function.prototype.toString;return hy=function(b){if(null!=b){try{return a.call(b)}catch(a){}try{return b+""}catch(a){}}return""}}(),e=/^\[object .+?Constructor\]$/,f=Object.prototype,g=Function.prototype.toString,h=f.hasOwnProperty,i=RegExp("^"+g.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return hA=function(f){return!(!c(f)||b(f))&&(a(f)?i:e).test(d(f))}}(),b=hD?hC:(hD=1,hC=function(a,b){return null==a?void 0:a[b]});return hE=function(c,d){var e=b(c,d);return a(e)?e:void 0}}function d0(){return hH?hG:(hH=1,hG=d_()(Object,"create"))}function d1(){return hX?hW:(hX=1,hW=function(a,b){return a===b||a!=a&&b!=b})}function d2(){if(hZ)return hY;hZ=1;var a=d1();return hY=function(b,c){for(var d=b.length;d--;)if(a(b[d][0],c))return d;return -1}}function d3(){if(ig)return ie;ig=1;var a=id?ic:(id=1,ic=function(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a});return ie=function(b,c){var d=b.__data__;return a(c)?d["string"==typeof c?"string":"hash"]:d.map}}function d4(){if(ix)return iw;ix=1;var a=function(){if(iv)return iu;iv=1;var a=function(){if(it)return is;it=1;var a=function(){if(ir)return iq;ir=1;var a=function(){if(ib)return ia;ib=1;var a=function(){if(hT)return hS;hT=1;var a=function(){if(hJ)return hI;hJ=1;var a=d0();return hI=function(){this.__data__=a?a(null):{},this.size=0}}(),b=hL?hK:(hL=1,hK=function(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=!!b,b}),c=function(){if(hN)return hM;hN=1;var a=d0(),b=Object.prototype.hasOwnProperty;return hM=function(c){var d=this.__data__;if(a){var e=d[c];return"__lodash_hash_undefined__"===e?void 0:e}return b.call(d,c)?d[c]:void 0}}(),d=function(){if(hP)return hO;hP=1;var a=d0(),b=Object.prototype.hasOwnProperty;return hO=function(c){var d=this.__data__;return a?void 0!==d[c]:b.call(d,c)}}(),e=function(){if(hR)return hQ;hR=1;var a=d0();return hQ=function(b,c){var d=this.__data__;return this.size+=+!this.has(b),d[b]=a&&void 0===c?"__lodash_hash_undefined__":c,this}}();function f(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}return f.prototype.clear=a,f.prototype.delete=b,f.prototype.get=c,f.prototype.has=d,f.prototype.set=e,hS=f}(),b=function(){if(h7)return h6;h7=1;var a=hV?hU:(hV=1,hU=function(){this.__data__=[],this.size=0}),b=function(){if(h_)return h$;h_=1;var a=d2(),b=Array.prototype.splice;return h$=function(c){var d=this.__data__,e=a(d,c);return!(e<0)&&(e==d.length-1?d.pop():b.call(d,e,1),--this.size,!0)}}(),c=function(){if(h1)return h0;h1=1;var a=d2();return h0=function(b){var c=this.__data__,d=a(c,b);return d<0?void 0:c[d][1]}}(),d=function(){if(h3)return h2;h3=1;var a=d2();return h2=function(b){return a(this.__data__,b)>-1}}(),e=function(){if(h5)return h4;h5=1;var a=d2();return h4=function(b,c){var d=this.__data__,e=a(d,b);return e<0?(++this.size,d.push([b,c])):d[e][1]=c,this}}();function f(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}return f.prototype.clear=a,f.prototype.delete=b,f.prototype.get=c,f.prototype.has=d,f.prototype.set=e,h6=f}(),c=h9?h8:(h9=1,h8=d_()(a5(),"Map"));return ia=function(){this.size=0,this.__data__={hash:new a,map:new(c||b),string:new a}}}(),b=function(){if(ii)return ih;ii=1;var a=d3();return ih=function(b){var c=a(this,b).delete(b);return this.size-=!!c,c}}(),c=function(){if(ik)return ij;ik=1;var a=d3();return ij=function(b){return a(this,b).get(b)}}(),d=function(){if(im)return il;im=1;var a=d3();return il=function(b){return a(this,b).has(b)}}(),e=function(){if(ip)return io;ip=1;var a=d3();return io=function(b,c){var d=a(this,b),e=d.size;return d.set(b,c),this.size+=+(d.size!=e),this}}();function f(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}return f.prototype.clear=a,f.prototype.delete=b,f.prototype.get=c,f.prototype.has=d,f.prototype.set=e,iq=f}();function b(c,d){if("function"!=typeof c||null!=d&&"function"!=typeof d)throw TypeError("Expected a function");var e=function(){var a=arguments,b=d?d.apply(this,a):a[0],f=e.cache;if(f.has(b))return f.get(b);var g=c.apply(this,a);return e.cache=f.set(b,g)||f,g};return e.cache=new(b.Cache||a),e}return b.Cache=a,is=b}();return iu=function(b){var c=a(b,function(a){return 500===d.size&&d.clear(),a}),d=c.cache;return c}}(),b=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g;return iw=a(function(a){var d=[];return 46===a.charCodeAt(0)&&d.push(""),a.replace(b,function(a,b,e,f){d.push(e?f.replace(c,"$1"):b||a)}),d})}function d5(){return iz?iy:(iz=1,iy=function(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e})}function d6(){if(iD)return iC;iD=1;var a=function(){if(iB)return iA;iB=1;var a=a6(),b=d5(),c=d$(),d=a8(),e=a?a.prototype:void 0,f=e?e.toString:void 0;return iA=function a(e){if("string"==typeof e)return e;if(c(e))return b(e,a)+"";if(d(e))return f?f.call(e):"";var g=e+"";return"0"==g&&1/e==-1/0?"-0":g}}();return iC=function(b){return null==b?"":a(b)}}function d7(){if(iF)return iE;iF=1;var a=d$(),b=function(){if(hr)return hq;hr=1;var a=d$(),b=a8(),c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/;return hq=function(e,f){if(a(e))return!1;var g=typeof e;return!!("number"==g||"symbol"==g||"boolean"==g||null==e||b(e))||d.test(e)||!c.test(e)||null!=f&&e in Object(f)}}(),c=d4(),d=d6();return iE=function(e,f){return a(e)?e:b(e,f)?[e]:c(d(e))}}function d8(){if(iH)return iG;iH=1;var a=a8();return iG=function(b){if("string"==typeof b||a(b))return b;var c=b+"";return"0"==c&&1/b==-1/0?"-0":c}}aW(dZ,{instanceString:function(){return"animation"},hook:function(){var a=this._private;if(!a.hooked){var b=a.target._private.animation;(a.queue?b.queue:b.current).push(this),aD(a.target)&&a.target.cy().addToAnimationPool(a.target),a.hooked=!0}return this},play:function(){var a=this._private;return 1===a.progress&&(a.progress=0),a.playing=!0,a.started=!1,a.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var a=this._private;return a.applying=!0,a.started=!1,a.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var a=this._private;return a.playing=!1,a.started=!1,this},stop:function(){var a=this._private;return a.playing=!1,a.started=!1,a.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(a){var b=this._private;return void 0===a?b.progress*b.duration:this.progress(a/b.duration)},progress:function(a){var b=this._private,c=b.playing;return void 0===a?b.progress:(c&&this.pause(),b.progress=a,b.started=!1,c&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var a=this._private,b=a.playing;b&&this.pause(),a.progress=1-a.progress,a.started=!1;var c=function(b,c){var d=a[b];null!=d&&(a[b]=a[c],a[c]=d)};if(c("zoom","startZoom"),c("pan","startPan"),c("position","startPosition"),a.style)for(var d=0;d<a.style.length;d++){var e=a.style[d],f=e.name,g=a.startStyle[f];a.startStyle[f]=e,a.style[d]=g}return b&&this.play(),this},promise:function(a){var b,c=this._private;return b="frame"===a?c.frames:c.completes,new dX(function(a,c){b.push(function(){a()})})}}),dZ.complete=dZ.completed,dZ.run=dZ.play,dZ.running=dZ.playing;var d9=a3(function(){if(iL)return iK;iL=1;var a=function(){if(iJ)return iI;iJ=1;var a=d7(),b=d8();return iI=function(c,d){d=a(d,c);for(var e=0,f=d.length;null!=c&&e<f;)c=c[b(d[e++])];return e&&e==f?c:void 0}}();return iK=function(b,c,d){var e=null==b?void 0:a(b,c);return void 0===e?d:e}}()),ea=a3(function(){if(iX)return iW;iX=1;var a=function(){if(iV)return iU;iV=1;var a=function(){if(iR)return iQ;iR=1;var a=function(){if(iP)return iO;iP=1;var a=function(){if(iN)return iM;iN=1;var a=d_();return iM=function(){try{var b=a(Object,"defineProperty");return b({},"",{}),b}catch(a){}}()}();return iO=function(b,c,d){"__proto__"==c&&a?a(b,c,{configurable:!0,enumerable:!0,value:d,writable:!0}):b[c]=d}}(),b=d1(),c=Object.prototype.hasOwnProperty;return iQ=function(d,e,f){var g=d[e];c.call(d,e)&&b(g,f)&&(void 0!==f||e in d)||a(d,e,f)}}(),b=d7(),c=function(){if(iT)return iS;iT=1;var a=/^(?:0|[1-9]\d*)$/;return iS=function(b,c){var d=typeof b;return!!(c=null==c?0x1fffffffffffff:c)&&("number"==d||"symbol"!=d&&a.test(b))&&b>-1&&b%1==0&&b<c}}(),d=a4(),e=d8();return iU=function(f,g,h,i){if(!d(f))return f;g=b(g,f);for(var j=-1,k=g.length,l=k-1,n=f;null!=n&&++j<k;){var o=e(g[j]),p=h;if("__proto__"===o||"constructor"===o||"prototype"===o)break;if(j!=l){var q=n[o];void 0===(p=i?i(q,o,n):void 0)&&(p=d(q)?q:c(g[j+1])?[]:{})}a(n,o,p),n=n[o]}return f}}();return iW=function(b,c,d){return null==b?b:a(b,c,d)}}()),eb=a3(function(){if(i_)return i$;i_=1;var a=d5(),b=iZ?iY:(iZ=1,iY=function(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}),c=d$(),d=a8(),e=d4(),f=d8(),g=d6();return i$=function(h){return c(h)?a(h,f):d(h)?[h]:b(e(g(h)))}}()),ec={};[{animated:function(){return function(){var a=void 0!==this.length;if(!(this._private.cy||this).styleEnabled())return!1;var b=(a?this:[this])[0];if(b)return b._private.animation.current.length>0}},clearQueue:function(){return function(){var a=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;for(var b=0;b<a.length;b++)a[b]._private.animation.queue=[];return this}},delay:function(){return function(a,b){return(this._private.cy||this).styleEnabled()?this.animate({delay:a,duration:a,complete:b}):this}},delayAnimation:function(){return function(a,b){return(this._private.cy||this).styleEnabled()?this.animation({delay:a,duration:a,complete:b}):this}},animation:function(){return function(a,b){var c=void 0!==this.length,d=c?this:[this],e=this._private.cy||this,f=!c,g=!f;if(!e.styleEnabled())return this;var h=e.style();if(0===Object.keys(a=aW({},a,b)).length)return new dY(d[0],a);switch(void 0===a.duration&&(a.duration=400),a.duration){case"slow":a.duration=600;break;case"fast":a.duration=200}if(g&&(a.style=h.getPropsList(a.style||a.css),a.css=void 0),g&&null!=a.renderedPosition){var i=a.renderedPosition,j=e.pan(),k=e.zoom();a.position=bZ(i,k,j)}if(f&&null!=a.panBy){var l=a.panBy,n=e.pan();a.pan={x:n.x+l.x,y:n.y+l.y}}var o=a.center||a.centre;if(f&&null!=o){var p=e.getCenterPan(o.eles,a.zoom);null!=p&&(a.pan=p)}if(f&&null!=a.fit){var q=a.fit,r=e.getFitViewport(q.eles||q.boundingBox,q.padding);null!=r&&(a.pan=r.pan,a.zoom=r.zoom)}if(f&&aA(a.zoom)){var s=e.getZoomedViewport(a.zoom);null!=s?(s.zoomed&&(a.zoom=s.zoom),s.panned&&(a.pan=s.pan)):a.zoom=null}return new dY(d[0],a)}},animate:function(){return function(a,b){var c=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;b&&(a=aW({},a,b));for(var d=0;d<c.length;d++){var e=c[d],f=e.animated()&&(void 0===a.queue||a.queue);e.animation(a,f?{queue:!0}:void 0).play()}return this}},stop:function(){return function(a,b){var c=void 0!==this.length?this:[this],d=this._private.cy||this;if(!d.styleEnabled())return this;for(var e=0;e<c.length;e++){for(var f=c[e]._private,g=f.animation.current,h=0;h<g.length;h++){var i=g[h]._private;b&&(i.duration=0)}a&&(f.animation.queue=[]),b||(f.animation.current=[])}return d.notify("draw"),this}}},{data:function(a){return a=aW({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,b){},onSet:function(a){},canSet:function(a){return!0}},a),function(b,c){var d,e=a,f=void 0!==this.length,g=f?this:[this],h=f?this[0]:this;if(ax(b)){var i,j=-1!==b.indexOf(".")&&eb(b);if(e.allowGetting&&void 0===c)return h&&(e.beforeGet(h),i=j&&void 0===h._private[e.field][b]?d9(h._private[e.field],j):h._private[e.field][b]),i;if(e.allowSetting&&void 0!==c&&!e.immutableKeys[b]){var k=am({},b,c);e.beforeSet(this,k);for(var l=0,n=g.length;l<n;l++){var o=g[l];e.canSet(o)&&(j&&void 0===h._private[e.field][b]?ea(o._private[e.field],j,c):o._private[e.field][b]=c)}e.updateStyle&&this.updateStyle(),e.onSet(this),e.settingTriggersEvent&&this[e.triggerFnName](e.settingEvent)}}else if(e.allowSetting&&aA(b)){var p,q,r=Object.keys(b);e.beforeSet(this,b);for(var s=0;s<r.length;s++)if(q=b[p=r[s]],!e.immutableKeys[p])for(var t=0;t<g.length;t++){var u=g[t];e.canSet(u)&&(u._private[e.field][p]=q)}e.updateStyle&&this.updateStyle(),e.onSet(this),e.settingTriggersEvent&&this[e.triggerFnName](e.settingEvent)}else if(e.allowBinding&&ay(b))this.on(e.bindingEvent,b);else if(e.allowGetting&&void 0===b)return h&&(e.beforeGet(h),d=h._private[e.field]),d;return this}},removeData:function(a){return a=aW({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},a),function(b){var c=a,d=void 0!==this.length?this:[this];if(ax(b)){for(var e=b.split(/\s+/),f=e.length,g=0;g<f;g++){var h=e[g];if(!aI(h)&&!c.immutableKeys[h])for(var i=0,j=d.length;i<j;i++)d[i]._private[c.field][h]=void 0}c.triggerEvent&&this[c.triggerFnName](c.event)}else if(void 0===b){for(var k=0,l=d.length;k<l;k++)for(var n=d[k]._private[c.field],o=Object.keys(n),p=0;p<o.length;p++){var q=o[p];c.immutableKeys[q]||(n[q]=void 0)}c.triggerEvent&&this[c.triggerFnName](c.event)}return this}}},{eventAliasesOn:function(a){a.addListener=a.listen=a.bind=a.on,a.unlisten=a.unbind=a.off=a.removeListener,a.trigger=a.emit,a.pon=a.promiseOn=function(a,b){var c=this,d=Array.prototype.slice.call(arguments,0);return new dX(function(a,b){var e=d.concat([function(b){c.off.apply(c,f),a(b)}]),f=e.concat([]);c.on.apply(c,e)})}}}].forEach(function(a){aW(ec,a)});var ed={animate:ec.animate(),animation:ec.animation(),animated:ec.animated(),clearQueue:ec.clearQueue(),delay:ec.delay(),delayAnimation:ec.delayAnimation(),stop:ec.stop()},ee={classes:function(a){if(void 0===a){var b=[];return this[0]._private.classes.forEach(function(a){return b.push(a)}),b}az(a)||(a=(a||"").match(/\S+/g)||[]);for(var c=[],d=new bK(a),e=0;e<this.length;e++){for(var f=this[e],g=f._private,h=g.classes,i=!1,j=0;j<a.length;j++){var k=a[j];if(!h.has(k)){i=!0;break}}i||(i=h.size!==a.length),i&&(g.classes=d,c.push(f))}return c.length>0&&this.spawn(c).updateStyle().emit("class"),this},addClass:function(a){return this.toggleClass(a,!0)},hasClass:function(a){var b=this[0];return null!=b&&b._private.classes.has(a)},toggleClass:function(a,b){az(a)||(a=a.match(/\S+/g)||[]);for(var c=void 0===b,d=[],e=0,f=this.length;e<f;e++)for(var g=this[e],h=g._private.classes,i=!1,j=0;j<a.length;j++){var k=a[j],l=h.has(k),n=!1;b||c&&!l?(h.add(k),n=!0):(!b||c&&l)&&(h.delete(k),n=!0),!i&&n&&(d.push(g),i=!0)}return d.length>0&&this.spawn(d).updateStyle().emit("class"),this},removeClass:function(a){return this.toggleClass(a,!1)},flashClass:function(a,b){var c=this;if(null==b)b=250;else if(0===b)return c;return c.addClass(a),setTimeout(function(){c.removeClass(a)},b),c}};ee.className=ee.classNames=ee.classes;var ef={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:aQ,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};for(gT=0,ef.variable="(?:[\\w-.]|(?:\\\\"+ef.metaChar+"))+",ef.className="(?:[\\w-]|(?:\\\\"+ef.metaChar+"))+",ef.value=ef.string+"|"+ef.number,ef.id=ef.variable,gR=ef.comparatorOp.split("|");gT<gR.length;gT++)gS=gR[gT],ef.comparatorOp+="|@"+gS;for(gT=0,gR=ef.comparatorOp.split("|");gT<gR.length;gT++)(gS=gR[gT]).indexOf("!")>=0||"="!==gS&&(ef.comparatorOp+="|\\!"+gS);var eg=function(){return{checks:[]}},eh=[{selector:":selected",matches:function(a){return a.selected()}},{selector:":unselected",matches:function(a){return!a.selected()}},{selector:":selectable",matches:function(a){return a.selectable()}},{selector:":unselectable",matches:function(a){return!a.selectable()}},{selector:":locked",matches:function(a){return a.locked()}},{selector:":unlocked",matches:function(a){return!a.locked()}},{selector:":visible",matches:function(a){return a.visible()}},{selector:":hidden",matches:function(a){return!a.visible()}},{selector:":transparent",matches:function(a){return a.transparent()}},{selector:":grabbed",matches:function(a){return a.grabbed()}},{selector:":free",matches:function(a){return!a.grabbed()}},{selector:":removed",matches:function(a){return a.removed()}},{selector:":inside",matches:function(a){return!a.removed()}},{selector:":grabbable",matches:function(a){return a.grabbable()}},{selector:":ungrabbable",matches:function(a){return!a.grabbable()}},{selector:":animated",matches:function(a){return a.animated()}},{selector:":unanimated",matches:function(a){return!a.animated()}},{selector:":parent",matches:function(a){return a.isParent()}},{selector:":childless",matches:function(a){return a.isChildless()}},{selector:":child",matches:function(a){return a.isChild()}},{selector:":orphan",matches:function(a){return a.isOrphan()}},{selector:":nonorphan",matches:function(a){return a.isChild()}},{selector:":compound",matches:function(a){return a.isNode()?a.isParent():a.source().isParent()||a.target().isParent()}},{selector:":loop",matches:function(a){return a.isLoop()}},{selector:":simple",matches:function(a){return a.isSimple()}},{selector:":active",matches:function(a){return a.active()}},{selector:":inactive",matches:function(a){return!a.active()}},{selector:":backgrounding",matches:function(a){return a.backgrounding()}},{selector:":nonbackgrounding",matches:function(a){return!a.backgrounding()}}].sort(function(a,b){return -1*aV(a.selector,b.selector)}),ei=function(){for(var a,b={},c=0;c<eh.length;c++)b[(a=eh[c]).selector]=a.matches;return b}(),ej="("+eh.map(function(a){return a.selector}).join("|")+")",ek=function(a){return a.replace(RegExp("\\\\("+ef.metaChar+")","g"),function(a,b){return b})},el=function(a,b,c){a[a.length-1]=c},em=[{name:"group",query:!0,regex:"("+ef.group+")",populate:function(a,b,c){var d=an(c,1)[0];b.checks.push({type:0,value:"*"===d?d:d+"s"})}},{name:"state",query:!0,regex:ej,populate:function(a,b,c){var d=an(c,1)[0];b.checks.push({type:7,value:d})}},{name:"id",query:!0,regex:"\\#("+ef.id+")",populate:function(a,b,c){var d=an(c,1)[0];b.checks.push({type:8,value:ek(d)})}},{name:"className",query:!0,regex:"\\.("+ef.className+")",populate:function(a,b,c){var d=an(c,1)[0];b.checks.push({type:9,value:ek(d)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+ef.variable+")\\s*\\]",populate:function(a,b,c){var d=an(c,1)[0];b.checks.push({type:4,field:ek(d)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+ef.variable+")\\s*("+ef.comparatorOp+")\\s*("+ef.value+")\\s*\\]",populate:function(a,b,c){var d=an(c,3),e=d[0],f=d[1],g=d[2];g=null!=RegExp("^"+ef.string+"$").exec(g)?g.substring(1,g.length-1):parseFloat(g),b.checks.push({type:3,field:ek(e),operator:f,value:g})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+ef.boolOp+")\\s*("+ef.variable+")\\s*\\]",populate:function(a,b,c){var d=an(c,2),e=d[0],f=d[1];b.checks.push({type:5,field:ek(f),operator:e})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+ef.meta+")\\s*("+ef.comparatorOp+")\\s*("+ef.number+")\\s*\\]\\]",populate:function(a,b,c){var d=an(c,3),e=d[0],f=d[1],g=d[2];b.checks.push({type:6,field:ek(e),operator:f,value:parseFloat(g)})}},{name:"nextQuery",separator:!0,regex:ef.separator,populate:function(a,b){var c=a.currentSubject,d=a.edgeCount,e=a.compoundCount,f=a[a.length-1];return null!=c&&(f.subject=c,a.currentSubject=null),f.edgeCount=d,f.compoundCount=e,a.edgeCount=0,a.compoundCount=0,a[a.length++]=eg()}},{name:"directedEdge",separator:!0,regex:ef.directedEdge,populate:function(a,b){if(null==a.currentSubject){var c=eg(),d=eg();return c.checks.push({type:11,source:b,target:d}),el(a,b,c),a.edgeCount++,d}var e=eg(),f=eg();return e.checks.push({type:12,source:b,target:f}),el(a,b,e),a.edgeCount++,f}},{name:"undirectedEdge",separator:!0,regex:ef.undirectedEdge,populate:function(a,b){if(null==a.currentSubject){var c=eg(),d=eg();return c.checks.push({type:10,nodes:[b,d]}),el(a,b,c),a.edgeCount++,d}var e=eg(),f=eg();return e.checks.push({type:14,node:b,neighbor:f}),el(a,b,e),f}},{name:"child",separator:!0,regex:ef.child,populate:function(a,b){if(null==a.currentSubject){var c=eg(),d=eg(),e=a[a.length-1];return c.checks.push({type:15,parent:e,child:d}),el(a,b,c),a.compoundCount++,d}if(a.currentSubject===b){var f=eg(),g=a[a.length-1],h=eg(),i=eg(),j=eg(),k=eg();return f.checks.push({type:19,left:g,right:h,subject:i}),i.checks=b.checks,b.checks=[{type:20}],k.checks.push({type:20}),h.checks.push({type:17,parent:k,child:j}),el(a,g,f),a.currentSubject=i,a.compoundCount++,j}var l=eg(),n=eg(),o=[{type:17,parent:l,child:n}];return l.checks=b.checks,b.checks=o,a.compoundCount++,n}},{name:"descendant",separator:!0,regex:ef.descendant,populate:function(a,b){if(null==a.currentSubject){var c=eg(),d=eg(),e=a[a.length-1];return c.checks.push({type:16,ancestor:e,descendant:d}),el(a,b,c),a.compoundCount++,d}if(a.currentSubject===b){var f=eg(),g=a[a.length-1],h=eg(),i=eg(),j=eg(),k=eg();return f.checks.push({type:19,left:g,right:h,subject:i}),i.checks=b.checks,b.checks=[{type:20}],k.checks.push({type:20}),h.checks.push({type:18,ancestor:k,descendant:j}),el(a,g,f),a.currentSubject=i,a.compoundCount++,j}var l=eg(),n=eg(),o=[{type:18,ancestor:l,descendant:n}];return l.checks=b.checks,b.checks=o,a.compoundCount++,n}},{name:"subject",modifier:!0,regex:ef.subject,populate:function(a,b){if(null!=a.currentSubject&&a.currentSubject!==b)return bw("Redefinition of subject in selector `"+a.toString()+"`"),!1;a.currentSubject=b;var c=a[a.length-1].checks[0],d=null==c?null:c.type;11===d?c.type=13:10===d&&(c.type=14,c.node=c.nodes[1],c.neighbor=c.nodes[0],c.nodes=null)}}];em.forEach(function(a){return a.regexObj=RegExp("^"+a.regex)});var en=function(a){for(var b,c,d,e=0;e<em.length;e++){var f=em[e],g=f.name,h=a.match(f.regexObj);if(null!=h){c=h,b=f,d=g;var i=h[0];a=a.substring(i.length);break}}return{expr:b,match:c,name:d,remaining:a}},eo=function(a){var b=a.match(/^\s+/);if(b){var c=b[0];a=a.substring(c.length)}return a},ep=function(a,b,c){var d,e,f,g=ax(a),h=aB(a),i=ax(c),j=!1,k=!1,l=!1;switch(b.indexOf("!")>=0&&(b=b.replace("!",""),k=!0),b.indexOf("@")>=0&&(b=b.replace("@",""),j=!0),(g||i||j)&&(e=g||h?""+a:"",f=""+c),j&&(a=e=e.toLowerCase(),c=f=f.toLowerCase()),b){case"*=":d=e.indexOf(f)>=0;break;case"$=":d=e.indexOf(f,e.length-f.length)>=0;break;case"^=":d=0===e.indexOf(f);break;case"=":d=a===c;break;case">":l=!0,d=a>c;break;case">=":l=!0,d=a>=c;break;case"<":l=!0,d=a<c;break;case"<=":l=!0,d=a<=c;break;default:d=!1}return k&&(null!=a||!l)&&(d=!d),d},eq=function(a,b){switch(b){case"?":return!!a;case"!":return!a;case"^":return void 0===a}},er=function(a,b){return a.data(b)},es=[],et=function(a,b){return a.checks.every(function(a){return es[a.type](a,b)})};es[0]=function(a,b){var c=a.value;return"*"===c||c===b.group()},es[7]=function(a,b){var c;return c=a.value,ei[c](b)},es[8]=function(a,b){var c=a.value;return b.id()===c},es[9]=function(a,b){var c=a.value;return b.hasClass(c)},es[6]=function(a,b){var c=a.field,d=a.operator,e=a.value;return ep(b[c](),d,e)},es[3]=function(a,b){var c=a.field,d=a.operator,e=a.value;return ep(er(b,c),d,e)},es[5]=function(a,b){var c=a.field,d=a.operator;return eq(er(b,c),d)},es[4]=function(a,b){var c=a.field;return a.operator,void 0!==er(b,c)},es[10]=function(a,b){var c=a.nodes[0],d=a.nodes[1],e=b.source(),f=b.target();return et(c,e)&&et(d,f)||et(d,e)&&et(c,f)},es[14]=function(a,b){return et(a.node,b)&&b.neighborhood().some(function(b){return b.isNode()&&et(a.neighbor,b)})},es[11]=function(a,b){return et(a.source,b.source())&&et(a.target,b.target())},es[12]=function(a,b){return et(a.source,b)&&b.outgoers().some(function(b){return b.isNode()&&et(a.target,b)})},es[13]=function(a,b){return et(a.target,b)&&b.incomers().some(function(b){return b.isNode()&&et(a.source,b)})},es[15]=function(a,b){return et(a.child,b)&&et(a.parent,b.parent())},es[17]=function(a,b){return et(a.parent,b)&&b.children().some(function(b){return et(a.child,b)})},es[16]=function(a,b){return et(a.descendant,b)&&b.ancestors().some(function(b){return et(a.ancestor,b)})},es[18]=function(a,b){return et(a.ancestor,b)&&b.descendants().some(function(b){return et(a.descendant,b)})},es[19]=function(a,b){return et(a.subject,b)&&et(a.left,b)&&et(a.right,b)},es[20]=function(){return!0},es[1]=function(a,b){return a.value.has(b)},es[2]=function(a,b){return(0,a.value)(b)};var eu=function(a){this.inputText=a,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==a||ax(a)&&a.match(/^\s*$/)||(aD(a)?this.addQuery({checks:[{type:1,value:a.collection()}]}):ay(a)?this.addQuery({checks:[{type:2,value:a}]}):ax(a)?this.parse(a)||(this.invalid=!0):bu("A selector must be created from a string; found "))},ev=eu.prototype;[{parse:function(a){var b=this.inputText=a,c=this[0]=eg();for(this.length=1,b=eo(b);;){var d=en(b);if(null==d.expr)return bw("The selector `"+a+"`is invalid"),!1;var e=d.match.slice(1),f=d.expr.populate(this,c,e);if(!1===f)return!1;if(null!=f&&(c=f),(b=d.remaining).match(/^\s*$/))break}var g=this[this.length-1];null!=this.currentSubject&&(g.subject=this.currentSubject),g.edgeCount=this.edgeCount,g.compoundCount=this.compoundCount;for(var h=0;h<this.length;h++){var i=this[h];if(i.compoundCount>0&&i.edgeCount>0)return bw("The selector `"+a+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(i.edgeCount>1)return bw("The selector `"+a+"` is invalid because it uses multiple edge selectors"),!1;1===i.edgeCount&&bw("The selector `"+a+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var a=function(a){return null==a?"":a},b=function(b){return ax(b)?'"'+b+'"':a(b)},c=function(a){return" "+a+" "},d=function(d,f){var g=d.type,h=d.value;switch(g){case 0:var i=a(h);return i.substring(0,i.length-1);case 3:return"["+d.field+c(a(d.operator))+b(h)+"]";case 5:var j=d.operator,k=d.field;return"["+a(j)+k+"]";case 4:return"["+d.field+"]";case 6:var l=d.operator;return"[["+d.field+c(a(l))+b(h)+"]]";case 7:return h;case 8:return"#"+h;case 9:return"."+h;case 17:case 15:return e(d.parent,f)+c(">")+e(d.child,f);case 18:case 16:return e(d.ancestor,f)+" "+e(d.descendant,f);case 19:var n=e(d.left,f),o=e(d.subject,f),p=e(d.right,f);return n+(n.length>0?" ":"")+o+p;case 20:return""}},e=function(a,b){return a.checks.reduce(function(c,e,f){return c+(b===a&&0===f?"$":"")+d(e,b)},"")},f="",g=0;g<this.length;g++){var h=this[g];f+=e(h,h.subject),this.length>1&&g<this.length-1&&(f+=", ")}return this.toStringCache=f,f}},{matches:function(a){for(var b=0;b<this.length;b++)if(et(this[b],a))return!0;return!1},filter:function(a){var b=this;if(1===b.length&&1===b[0].checks.length&&8===b[0].checks[0].type)return a.getElementById(b[0].checks[0].value).collection();var c=function(a){for(var c=0;c<b.length;c++)if(et(b[c],a))return!0;return!1};return null==b.text()&&(c=function(){return!0}),a.filter(c)}}].forEach(function(a){return aW(ev,a)}),ev.text=function(){return this.inputText},ev.size=function(){return this.length},ev.eq=function(a){return this[a]},ev.sameText=function(a){return!this.invalid&&!a.invalid&&this.text()===a.text()},ev.addQuery=function(a){this[this.length++]=a},ev.selector=ev.toString;var ew={allAre:function(a){var b=new eu(a);return this.every(function(a){return b.matches(a)})},is:function(a){var b=new eu(a);return this.some(function(a){return b.matches(a)})},some:function(a,b){for(var c=0;c<this.length;c++)if(b?a.apply(b,[this[c],c,this]):a(this[c],c,this))return!0;return!1},every:function(a,b){for(var c=0;c<this.length;c++)if(!(b?a.apply(b,[this[c],c,this]):a(this[c],c,this)))return!1;return!0},same:function(a){if(this===a)return!0;a=this.cy().collection(a);var b=this.length;return b===a.length&&(1===b?this[0]===a[0]:this.every(function(b){return a.hasElementWithId(b.id())}))},anySame:function(a){return a=this.cy().collection(a),this.some(function(b){return a.hasElementWithId(b.id())})},allAreNeighbors:function(a){a=this.cy().collection(a);var b=this.neighborhood();return a.every(function(a){return b.hasElementWithId(a.id())})},contains:function(a){a=this.cy().collection(a);var b=this;return a.every(function(a){return b.hasElementWithId(a.id())})}};ew.allAreNeighbours=ew.allAreNeighbors,ew.has=ew.contains,ew.equal=ew.equals=ew.same;var ex=function(a,b){return function(c,d,e,f){if(null==c?g="":aD(c)&&1===c.length&&(g=c.id()),1!==this.length||!g)return a.call(this,c,d,e,f);var g,h=this[0]._private,i=h.traversalCache=h.traversalCache||{},j=i[b]=i[b]||[],k=bj(g),l=j[k];return l||(j[k]=a.call(this,c,d,e,f))}},ey={parent:function(a){var b=[];if(1===this.length){var c=this[0]._private.parent;if(c)return c}for(var d=0;d<this.length;d++){var e=this[d]._private.parent;e&&b.push(e)}return this.spawn(b,!0).filter(a)},parents:function(a){for(var b=[],c=this.parent();c.nonempty();){for(var d=0;d<c.length;d++){var e=c[d];b.push(e)}c=c.parent()}return this.spawn(b,!0).filter(a)},commonAncestors:function(a){for(var b,c=0;c<this.length;c++){var d=this[c].parents();b=(b=b||d).intersect(d)}return b.filter(a)},orphans:function(a){return this.stdFilter(function(a){return a.isOrphan()}).filter(a)},nonorphans:function(a){return this.stdFilter(function(a){return a.isChild()}).filter(a)},children:ex(function(a){for(var b=[],c=0;c<this.length;c++)for(var d=this[c]._private.children,e=0;e<d.length;e++)b.push(d[e]);return this.spawn(b,!0).filter(a)},"children"),siblings:function(a){return this.parent().children().not(this).filter(a)},isParent:function(){var a=this[0];if(a)return a.isNode()&&0!==a._private.children.length},isChildless:function(){var a=this[0];if(a)return a.isNode()&&0===a._private.children.length},isChild:function(){var a=this[0];if(a)return a.isNode()&&null!=a._private.parent},isOrphan:function(){var a=this[0];if(a)return a.isNode()&&null==a._private.parent},descendants:function(a){var b=[];return!function a(c){for(var d=0;d<c.length;d++){var e=c[d];b.push(e),e.children().nonempty()&&a(e.children())}}(this.children()),this.spawn(b,!0).filter(a)}};function ez(a,b,c,d){for(var e=[],f=new bK,g=a.cy().hasCompoundNodes(),h=0;h<a.length;h++){var i=a[h];c?e.push(i):g&&d(e,f,i)}for(;e.length>0;){var j=e.shift();b(j),f.add(j.id()),g&&d(e,f,j)}return a}function eA(a,b,c){if(c.isParent())for(var d=c._private.children,e=0;e<d.length;e++){var f=d[e];b.has(f.id())||a.push(f)}}function eB(a,b,c){if(c.isChild()){var d=c._private.parent;b.has(d.id())||a.push(d)}}function eC(a,b,c){eB(a,b,c),eA(a,b,c)}ey.forEachDown=function(a){var b=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return ez(this,a,b,eA)},ey.forEachUp=function(a){var b=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return ez(this,a,b,eB)},ey.forEachUpAndDown=function(a){var b=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return ez(this,a,b,eC)},ey.ancestors=ey.parents,(i0=i1={data:ec.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ec.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ec.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ec.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ec.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ec.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var a=this[0];if(a)return a._private.data.id}}).attr=i0.data,i0.removeAttr=i0.removeData;var eD={};function eE(a){return function(b){if(void 0===b&&(b=!0),0!==this.length)if(!this.isNode()||this.removed())return;else{for(var c=0,d=this[0],e=d._private.edges,f=0;f<e.length;f++){var g=e[f];!b&&g.isLoop()||(c+=a(d,g))}return c}}}function eF(a,b){return function(c){for(var d,e=this.nodes(),f=0;f<e.length;f++){var g=e[f][a](c);void 0!==g&&(void 0===d||b(g,d))&&(d=g)}return d}}aW(eD,{degree:eE(function(a,b){return b.source().same(b.target())?2:1}),indegree:eE(function(a,b){return+!!b.target().same(a)}),outdegree:eE(function(a,b){return+!!b.source().same(a)})}),aW(eD,{minDegree:eF("degree",function(a,b){return a<b}),maxDegree:eF("degree",function(a,b){return a>b}),minIndegree:eF("indegree",function(a,b){return a<b}),maxIndegree:eF("indegree",function(a,b){return a>b}),minOutdegree:eF("outdegree",function(a,b){return a<b}),maxOutdegree:eF("outdegree",function(a,b){return a>b})}),aW(eD,{totalDegree:function(a){for(var b=0,c=this.nodes(),d=0;d<c.length;d++)b+=c[d].degree(a);return b}});var eG=function(a,b,c){for(var d=0;d<a.length;d++){var e=a[d];if(!e.locked()){var f=e._private.position,g={x:null!=b.x?b.x-f.x:0,y:null!=b.y?b.y-f.y:0};e.isParent()&&(0!==g.x||0!==g.y)&&e.children().shift(g,c),e.dirtyBoundingBoxCache()}}},eH={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(a){a.updateCompoundBounds()},beforeSet:function(a,b){eG(a,b,!1)},onSet:function(a){a.dirtyCompoundBoundsCache()},canSet:function(a){return!a.locked()}};(i2=i3={position:ec.data(eH),silentPosition:ec.data(aW({},eH,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(a,b){eG(a,b,!0)},onSet:function(a){a.dirtyCompoundBoundsCache()}})),positions:function(a,b){if(aA(a))b?this.silentPosition(a):this.position(a);else if(ay(a)){var c=this.cy();c.startBatch();for(var d=0;d<this.length;d++){var e=this[d],f=void 0;(f=a(e,d))&&(b?e.silentPosition(f):e.position(f))}c.endBatch()}return this},silentPositions:function(a){return this.positions(a,!0)},shift:function(a,b,c){var d;if(aA(a)?(d={x:aB(a.x)?a.x:0,y:aB(a.y)?a.y:0},c=b):ax(a)&&aB(b)&&((d={x:0,y:0})[a]=b),null!=d){var e=this.cy();e.startBatch();for(var f=0;f<this.length;f++){var g=this[f];if(!(e.hasCompoundNodes()&&g.isChild()&&g.ancestors().anySame(this))){var h=g.position(),i={x:h.x+d.x,y:h.y+d.y};c?g.silentPosition(i):g.position(i)}}e.endBatch()}return this},silentShift:function(a,b){return aA(a)?this.shift(a,!0):ax(a)&&aB(b)&&this.shift(a,b,!0),this},renderedPosition:function(a,b){var c=this[0],d=this.cy(),e=d.zoom(),f=d.pan(),g=aA(a)?a:void 0,h=void 0!==g||void 0!==b&&ax(a);if(c&&c.isNode())if(!h)return(g=bY(c.position(),e,f),void 0===a)?g:g[a];else for(var i=0;i<this.length;i++){var j=this[i];void 0!==b?j.position(a,(b-f[a])/e):void 0!==g&&j.position(bZ(g,e,f))}else if(!h)return;return this},relativePosition:function(a,b){var c=this[0],d=this.cy(),e=aA(a)?a:void 0,f=void 0!==e||void 0!==b&&ax(a),g=d.hasCompoundNodes();if(c&&c.isNode())if(f)for(var h=0;h<this.length;h++){var i=this[h],j=g?i.parent():null,k=j&&j.length>0;k&&(j=j[0]);var l=k?j.position():{x:0,y:0};void 0!==b?i.position(a,b+l[a]):void 0!==e&&i.position({x:e.x+l.x,y:e.y+l.y})}else{var n=c.position(),o=g?c.parent():null,p=o&&o.length>0;p&&(o=o[0]);var q=p?o.position():{x:0,y:0};return(e={x:n.x-q.x,y:n.y-q.y},void 0===a)?e:e[a]}else if(!f)return;return this}}).modelPosition=i2.point=i2.position,i2.modelPositions=i2.points=i2.positions,i2.renderedPoint=i2.renderedPosition,i2.relativePoint=i2.relativePosition,i4=i5={},i5.renderedBoundingBox=function(a){var b=this.boundingBox(a),c=this.cy(),d=c.zoom(),e=c.pan(),f=b.x1*d+e.x,g=b.x2*d+e.x,h=b.y1*d+e.y,i=b.y2*d+e.y;return{x1:f,x2:g,y1:h,y2:i,w:g-f,h:i-h}},i5.dirtyCompoundBoundsCache=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],b=this.cy();return b.styleEnabled()&&b.hasCompoundNodes()&&this.forEachUp(function(b){if(b.isParent()){var c=b._private;c.compoundBoundsClean=!1,c.bbCache=null,a||b.emitAndNotify("bounds")}}),this},i5.updateCompoundBounds=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],b=this.cy();if(!b.styleEnabled()||!b.hasCompoundNodes()||!a&&b.batching())return this;for(var c=0;c<this.length;c++){var d=this[c],e=d._private;(!e.compoundBoundsClean||a)&&(!function(a){if(a.isParent()){var b=a._private,c=a.children(),d="include"===a.pstyle("compound-sizing-wrt-labels").value,e={width:{val:a.pstyle("min-width").pfValue,left:a.pstyle("min-width-bias-left"),right:a.pstyle("min-width-bias-right")},height:{val:a.pstyle("min-height").pfValue,top:a.pstyle("min-height-bias-top"),bottom:a.pstyle("min-height-bias-bottom")}},f=c.boundingBox({includeLabels:d,includeOverlays:!1,useCache:!1}),g=b.position;(0===f.w||0===f.h)&&((f={w:a.pstyle("width").pfValue,h:a.pstyle("height").pfValue}).x1=g.x-f.w/2,f.x2=g.x+f.w/2,f.y1=g.y-f.h/2,f.y2=g.y+f.h/2);var h=e.width.left.value;"px"===e.width.left.units&&e.width.val>0&&(h=100*h/e.width.val);var i=e.width.right.value;"px"===e.width.right.units&&e.width.val>0&&(i=100*i/e.width.val);var j=e.height.top.value;"px"===e.height.top.units&&e.height.val>0&&(j=100*j/e.height.val);var k=e.height.bottom.value;"px"===e.height.bottom.units&&e.height.val>0&&(k=100*k/e.height.val);var l=s(e.width.val-f.w,h,i),n=l.biasDiff,o=l.biasComplementDiff,p=s(e.height.val-f.h,j,k),q=p.biasDiff,r=p.biasComplementDiff;b.autoPadding=function(a,b,c,d){if("%"===c.units)switch(d){case"width":return a>0?c.pfValue*a:0;case"height":return b>0?c.pfValue*b:0;case"average":return a>0&&b>0?c.pfValue*(a+b)/2:0;case"min":return a>0&&b>0?a>b?c.pfValue*b:c.pfValue*a:0;case"max":return a>0&&b>0?a>b?c.pfValue*a:c.pfValue*b:0;default:return 0}return"px"===c.units?c.pfValue:0}(f.w,f.h,a.pstyle("padding"),a.pstyle("padding-relative-to").value),b.autoWidth=Math.max(f.w,e.width.val),g.x=(-n+f.x1+f.x2+o)/2,b.autoHeight=Math.max(f.h,e.height.val),g.y=(-q+f.y1+f.y2+r)/2}function s(a,b,c){var d=0,e=0,f=b+c;return a>0&&f>0&&(d=b/f*a,e=c/f*a),{biasDiff:d,biasComplementDiff:e}}}(d),b.batching()||(e.compoundBoundsClean=!0))}return this};var eI=function(a){return a===1/0||a===-1/0?0:a},eJ=function(a,b,c,d,e){d-b==0||e-c==0||null!=b&&null!=c&&null!=d&&null!=e&&(a.x1=b<a.x1?b:a.x1,a.x2=d>a.x2?d:a.x2,a.y1=c<a.y1?c:a.y1,a.y2=e>a.y2?e:a.y2,a.w=a.x2-a.x1,a.h=a.y2-a.y1)},eK=function(a,b){return null==b?a:eJ(a,b.x1,b.y1,b.x2,b.y2)},eL=function(a,b,c){return bF(a,b,c)},eM=function(a,b,c){if(!b.cy().headless()){var d,e,f=b._private,g=f.rstyle,h=g.arrowWidth/2;if("none"!==b.pstyle(c+"-arrow-shape").value){"source"===c?(d=g.srcX,e=g.srcY):"target"===c?(d=g.tgtX,e=g.tgtY):(d=g.midX,e=g.midY);var i=f.arrowBounds=f.arrowBounds||{},j=i[c]=i[c]||{};j.x1=d-h,j.y1=e-h,j.x2=d+h,j.y2=e+h,j.w=j.x2-j.x1,j.h=j.y2-j.y1,ch(j,1),eJ(a,j.x1,j.y1,j.x2,j.y2)}}},eN=function(a,b,c){if(!b.cy().headless()){f=c?c+"-":"";var d=b._private,e=d.rstyle;if(b.pstyle(f+"label").strValue){var f,g,h,i,j,k=b.pstyle("text-halign"),l=b.pstyle("text-valign"),n=eL(e,"labelWidth",c),o=eL(e,"labelHeight",c),p=eL(e,"labelX",c),q=eL(e,"labelY",c),r=b.pstyle(f+"text-margin-x").pfValue,s=b.pstyle(f+"text-margin-y").pfValue,t=b.isEdge(),u=b.pstyle(f+"text-rotation"),v=b.pstyle("text-outline-width").pfValue,w=b.pstyle("text-border-width").pfValue/2,x=b.pstyle("text-background-padding").pfValue,y=n/2,z=o/2;if(t)g=p-y,h=p+y,i=q-z,j=q+z;else{switch(k.value){case"left":g=p-n,h=p;break;case"center":g=p-y,h=p+y;break;case"right":g=p,h=p+n}switch(l.value){case"top":i=q-o,j=q;break;case"center":i=q-z,j=q+z;break;case"bottom":i=q,j=q+o}}var A=r-Math.max(v,w)-x-2,B=r+Math.max(v,w)+x+2,C=s-Math.max(v,w)-x-2,D=s+Math.max(v,w)+x+2;g+=A,h+=B,i+=C,j+=D;var E=c||"main",F=d.labelBounds,G=F[E]=F[E]||{};G.x1=g,G.y1=i,G.x2=h,G.y2=j,G.w=h-g,G.h=j-i,G.leftPad=A,G.rightPad=B,G.topPad=C,G.botPad=D;var H=t&&"autorotate"===u.strValue,I=null!=u.pfValue&&0!==u.pfValue;if(H||I){var J=H?eL(d.rstyle,"labelAngle",c):u.pfValue,K=Math.cos(J),L=Math.sin(J),M=(g+h)/2,N=(i+j)/2;if(!t){switch(k.value){case"left":M=h;break;case"right":M=g}switch(l.value){case"top":N=j;break;case"bottom":N=i}}var O=function(a,b){return{x:(a-=M)*K-(b-=N)*L+M,y:a*L+b*K+N}},P=O(g,i),Q=O(g,j),R=O(h,i),S=O(h,j);g=Math.min(P.x,Q.x,R.x,S.x),h=Math.max(P.x,Q.x,R.x,S.x),i=Math.min(P.y,Q.y,R.y,S.y),j=Math.max(P.y,Q.y,R.y,S.y)}var T=E+"Rot",U=F[T]=F[T]||{};U.x1=g,U.y1=i,U.x2=h,U.y2=j,U.w=h-g,U.h=j-i,eJ(a,g,i,h,j),eJ(d.labelBounds.all,g,i,h,j)}return a}},eO=function(a,b){if(!b.cy().headless()){var c=b.pstyle("outline-opacity").value,d=b.pstyle("outline-width").value+b.pstyle("outline-offset").value;eP(a,b,c,d,"outside",d/2)}},eP=function(a,b,c,d,e,f){if(0!==c&&!(d<=0)&&"inside"!==e){var g=b.cy(),h=b.pstyle("shape").value,i=g.renderer().nodeShapes[h],j=b.position(),k=j.x,l=j.y,n=b.width(),o=b.height();i.hasMiterBounds?("center"===e&&(d/=2),eK(a,i.miterBounds(k,l,n,o,d))):null!=f&&f>0&&ci(a,[f,f,f,f])}},eQ=function(a,b){if(!b.cy().headless()){var c=b.pstyle("border-opacity").value,d=b.pstyle("border-width").pfValue,e=b.pstyle("border-position").value;eP(a,b,c,d,e)}},eR=function(a,b){var c=a._private.cy,d=c.styleEnabled(),e=c.headless(),f=cd(),g=a._private,h=a.isNode(),i=a.isEdge(),j=g.rstyle,k=h&&d?a.pstyle("bounds-expansion").pfValue:[0],l=function(a){return"none"!==a.pstyle("display").value},n=!d||l(a)&&(!i||l(a.source())&&l(a.target()));if(n){var o=0;d&&b.includeOverlays&&0!==a.pstyle("overlay-opacity").value&&(o=a.pstyle("overlay-padding").value);var p=0;d&&b.includeUnderlays&&0!==a.pstyle("underlay-opacity").value&&(p=a.pstyle("underlay-padding").value);var q=Math.max(o,p),r=0;if(d&&(r=a.pstyle("width").pfValue/2),h&&b.includeNodes){var s=a.position();z=s.x,A=s.y;var t=a.outerWidth()/2,u=a.outerHeight()/2;v=z-t,w=z+t,eJ(f,v,x=A-u,w,y=A+u),d&&eO(f,a),d&&b.includeOutlines&&!e&&eO(f,a),d&&eQ(f,a)}else if(i&&b.includeEdges)if(d&&!e){var v,w,x,y,z,A,B,C=a.pstyle("curve-style").strValue;if(v=Math.min(j.srcX,j.midX,j.tgtX),w=Math.max(j.srcX,j.midX,j.tgtX),x=Math.min(j.srcY,j.midY,j.tgtY),y=Math.max(j.srcY,j.midY,j.tgtY),v-=r,w+=r,eJ(f,v,x-=r,w,y+=r),"haystack"===C){var D=j.haystackPts;if(D&&2===D.length){if(v=D[0].x,x=D[0].y,w=D[1].x,y=D[1].y,v>w){var E=v;v=w,w=E}if(x>y){var F=x;x=y,y=F}eJ(f,v-r,x-r,w+r,y+r)}}else if("bezier"===C||"unbundled-bezier"===C||aP(C,"segments")||aP(C,"taxi")){switch(C){case"bezier":case"unbundled-bezier":B=j.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":B=j.linePts}if(null!=B)for(var G=0;G<B.length;G++){var H=B[G];v=H.x-r,w=H.x+r,eJ(f,v,x=H.y-r,w,y=H.y+r)}}}else{var I=a.source().position(),J=a.target().position();if(v=I.x,w=J.x,x=I.y,y=J.y,v>w){var K=v;v=w,w=K}if(x>y){var L=x;x=y,y=L}v-=r,w+=r,eJ(f,v,x-=r,w,y+=r)}if(d&&b.includeEdges&&i&&(eM(f,a,"mid-source"),eM(f,a,"mid-target"),eM(f,a,"source"),eM(f,a,"target")),d&&"yes"===a.pstyle("ghost").value){var M=a.pstyle("ghost-offset-x").pfValue,N=a.pstyle("ghost-offset-y").pfValue;eJ(f,f.x1+M,f.y1+N,f.x2+M,f.y2+N)}var O=g.bodyBounds=g.bodyBounds||{};cj(O,f),ci(O,k),ch(O,1),d&&(v=f.x1,w=f.x2,x=f.y1,y=f.y2,eJ(f,v-q,x-q,w+q,y+q));var P=g.overlayBounds=g.overlayBounds||{};cj(P,f),ci(P,k),ch(P,1);var Q=g.labelBounds=g.labelBounds||{};null!=Q.all?ce(Q.all):Q.all=cd(),d&&b.includeLabels&&(b.includeMainLabels&&eN(f,a,null),i&&(b.includeSourceLabels&&eN(f,a,"source"),b.includeTargetLabels&&eN(f,a,"target")))}return f.x1=eI(f.x1),f.y1=eI(f.y1),f.x2=eI(f.x2),f.y2=eI(f.y2),f.w=eI(f.x2-f.x1),f.h=eI(f.y2-f.y1),f.w>0&&f.h>0&&n&&(ci(f,k),ch(f,1)),f},eS=function(a){var b=0,c=function(a){return!!a<<b++};return 0+c(a.incudeNodes)+c(a.includeEdges)+c(a.includeLabels)+c(a.includeMainLabels)+c(a.includeSourceLabels)+c(a.includeTargetLabels)+c(a.includeOverlays)+c(a.includeOutlines)},eT=function(a){var b=function(a){return Math.round(a)};if(a.isEdge()){var c=a.source().position(),d=a.target().position();return bi([b(c.x),b(c.y),b(d.x),b(d.y)])}var e=a.position();return bi([b(e.x),b(e.y)])},eU=function(a,b){var c,d=a._private,e=a.isEdge(),f=null==b?eW:eS(b);if(null==d.bbCache?(d.bbCache=c=eR(a,eV),d.bbCachePosKey=eT(a)):c=d.bbCache,f!==eW){var g=a.isNode();c=cd(),(b.includeNodes&&g||b.includeEdges&&!g)&&(b.includeOverlays?eK(c,d.overlayBounds):eK(c,d.bodyBounds)),b.includeLabels&&(b.includeMainLabels&&(!e||b.includeSourceLabels&&b.includeTargetLabels)?eK(c,d.labelBounds.all):(b.includeMainLabels&&eK(c,d.labelBounds.mainRot),b.includeSourceLabels&&eK(c,d.labelBounds.sourceRot),b.includeTargetLabels&&eK(c,d.labelBounds.targetRot))),c.w=c.x2-c.x1,c.h=c.y2-c.y1}return c},eV={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},eW=eS(eV),eX=bB(eV);i5.boundingBox=function(a){var b,c=void 0===a||void 0===a.useCache||!0===a.useCache,d=aK(function(a){var b=a._private;return null==b.bbCache||b.styleDirty||b.bbCachePosKey!==eT(a)},function(a){return a.id()});if(c&&1===this.length&&!d(this[0]))a=void 0===a?eV:eX(a),b=eU(this[0],a);else{b=cd();var e=eX(a=a||eV),f=this.cy().styleEnabled();this.edges().forEach(d),this.nodes().forEach(d),f&&this.recalculateRenderedStyle(c),this.updateCompoundBounds(!c);for(var g=0;g<this.length;g++){var h=this[g];d(h)&&h.dirtyBoundingBoxCache(),eK(b,eU(h,e))}}return b.x1=eI(b.x1),b.y1=eI(b.y1),b.x2=eI(b.x2),b.y2=eI(b.y2),b.w=eI(b.x2-b.x1),b.h=eI(b.y2-b.y1),b},i5.dirtyBoundingBoxCache=function(){for(var a=0;a<this.length;a++){var b=this[a]._private;b.bbCache=null,b.bbCachePosKey=null,b.bodyBounds=null,b.overlayBounds=null,b.labelBounds.all=null,b.labelBounds.source=null,b.labelBounds.target=null,b.labelBounds.main=null,b.labelBounds.sourceRot=null,b.labelBounds.targetRot=null,b.labelBounds.mainRot=null,b.arrowBounds.source=null,b.arrowBounds.target=null,b.arrowBounds["mid-source"]=null,b.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},i5.boundingBoxAt=function(a){var b,c=this.nodes(),d=this.cy(),e=d.hasCompoundNodes(),f=d.collection();if(e&&(f=c.filter(function(a){return a.isParent()}),c=c.not(f)),aA(a)){var g=a;a=function(){return g}}d.startBatch(),c.forEach(function(b,c){return b._private.bbAtOldPos=a(b,c)}).silentPositions(a),e&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0));var h={x1:(b=this.boundingBox({useCache:!1})).x1,x2:b.x2,w:b.w,y1:b.y1,y2:b.y2,h:b.h};return c.silentPositions(function(a){return a._private.bbAtOldPos}),e&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0)),d.endBatch(),h},i4.boundingbox=i4.bb=i4.boundingBox,i4.renderedBoundingbox=i4.renderedBoundingBox,i6=i7={};var eY=function(a){a.uppercaseName=aO(a.name),a.autoName="auto"+a.uppercaseName,a.labelName="label"+a.uppercaseName,a.outerName="outer"+a.uppercaseName,a.uppercaseOuterName=aO(a.outerName),i6[a.name]=function(){var b=this[0],c=b._private,d=c.cy._private.styleEnabled;if(b)if(!d)return 1;else{if(b.isParent())return b.updateCompoundBounds(),c[a.autoName]||0;var e=b.pstyle(a.name);return"label"===e.strValue?(b.recalculateRenderedStyle(),c.rstyle[a.labelName]||0):e.pfValue}},i6["outer"+a.uppercaseName]=function(){var b=this[0],c=b._private.cy._private.styleEnabled;if(b)if(!c)return 1;else{var d=b[a.name](),e=b.pstyle("border-position").value;return d+("center"===e?b.pstyle("border-width").pfValue:"outside"===e?2*b.pstyle("border-width").pfValue:0)+2*b.padding()}},i6["rendered"+a.uppercaseName]=function(){var b=this[0];if(b)return b[a.name]()*this.cy().zoom()},i6["rendered"+a.uppercaseOuterName]=function(){var b=this[0];if(b)return b[a.outerName]()*this.cy().zoom()}};eY({name:"width"}),eY({name:"height"}),i7.padding=function(){var a=this[0],b=a._private;return a.isParent()&&(a.updateCompoundBounds(),void 0!==b.autoPadding)?b.autoPadding:a.pstyle("padding").pfValue},i7.paddedHeight=function(){var a=this[0];return a.height()+2*a.padding()},i7.paddedWidth=function(){var a=this[0];return a.width()+2*a.padding()};var eZ=function(a,b){if(a.isEdge()&&a.takesUpSpace())return b(a)},e$=function(a,b){if(a.isEdge()&&a.takesUpSpace()){var c=a.cy();return bY(b(a),c.zoom(),c.pan())}},e_=function(a,b){if(a.isEdge()&&a.takesUpSpace()){var c=a.cy(),d=c.pan(),e=c.zoom();return b(a).map(function(a){return bY(a,e,d)})}},e0={controlPoints:{get:function(a){return a.renderer().getControlPoints(a)},mult:!0},segmentPoints:{get:function(a){return a.renderer().getSegmentPoints(a)},mult:!0},sourceEndpoint:{get:function(a){return a.renderer().getSourceEndpoint(a)}},targetEndpoint:{get:function(a){return a.renderer().getTargetEndpoint(a)}},midpoint:{get:function(a){return a.renderer().getEdgeMidpoint(a)}}},e1=aW({},i3,i5,i7,Object.keys(e0).reduce(function(a,b){var c=e0[b],d="rendered"+b[0].toUpperCase()+b.substr(1);return a[b]=function(){return eZ(this,c.get)},c.mult?a[d]=function(){return e_(this,c.get)}:a[d]=function(){return e$(this,c.get)},a},{})),e2=function(a,b){this.recycle(a,b)};function e3(){return!1}function e4(){return!0}e2.prototype={instanceString:function(){return"event"},recycle:function(a,b){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=e3,null!=a&&a.preventDefault?(this.type=a.type,this.isDefaultPrevented=a.defaultPrevented?e4:e3):null!=a&&a.type?b=a:this.type=a,null!=b&&(this.originalEvent=b.originalEvent,this.type=null!=b.type?b.type:this.type,this.cy=b.cy,this.target=b.target,this.position=b.position,this.renderedPosition=b.renderedPosition,this.namespace=b.namespace,this.layout=b.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var c=this.position,d=this.cy.zoom(),e=this.cy.pan();this.renderedPosition={x:c.x*d+e.x,y:c.y*d+e.y}}this.timeStamp=a&&a.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=e4;var a=this.originalEvent;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){this.isPropagationStopped=e4;var a=this.originalEvent;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=e4,this.stopPropagation()},isDefaultPrevented:e3,isPropagationStopped:e3,isImmediatePropagationStopped:e3};var e5=/^([^.]+)(\.(?:[^.]+))?$/,e6={qualifierCompare:function(a,b){return a===b},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(a){return a},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},e7=Object.keys(e6),e8={};function e9(){for(var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e8,b=arguments.length>1?arguments[1]:void 0,c=0;c<e7.length;c++){var d=e7[c];this[d]=a[d]||e6[d]}this.context=b||this.context,this.listeners=[],this.emitting=0}var fa=e9.prototype,fb=function(a,b,c,d,e,f,g){ay(d)&&(e=d,d=null),g&&(f=null==f?g:aW({},f,g));for(var h=az(c)?c:c.split(/\s+/),i=0;i<h.length;i++){var j=h[i];if(!aI(j)){var k=j.match(e5);if(k&&!1===b(a,j,k[1],k[2]?k[2]:null,d,e,f))break}}},fc=function(a,b){return a.addEventFields(a.context,b),new e2(b.type,b)},fd=function(a,b,c){if("event"===aw(c))return void b(a,c);if(aA(c))return void b(a,fc(a,c));for(var d=az(c)?c:c.split(/\s+/),e=0;e<d.length;e++){var f=d[e];if(!aI(f)){var g=f.match(e5);if(g){var h=fc(a,{type:g[1],namespace:g[2]?g[2]:null,target:a.context});b(a,h)}}}};fa.on=fa.addListener=function(a,b,c,d,e){return fb(this,function(a,b,c,d,e,f,g){ay(f)&&a.listeners.push({event:b,callback:f,type:c,namespace:d,qualifier:e,conf:g})},a,b,c,d,e),this},fa.one=function(a,b,c,d){return this.on(a,b,c,d,{one:!0})},fa.removeListener=fa.off=function(a,b,c,d){var e=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var f=this.listeners,g=function(g){var h=f[g];fb(e,function(b,c,d,e,i,j){if((h.type===d||"*"===a)&&(!e&&".*"!==h.namespace||h.namespace===e)&&(!i||b.qualifierCompare(h.qualifier,i))&&(!j||h.callback===j))return f.splice(g,1),!1},a,b,c,d)},h=f.length-1;h>=0;h--)g(h);return this},fa.removeAllListeners=function(){return this.removeListener("*")},fa.emit=fa.trigger=function(a,b,c){var d=this.listeners,e=d.length;return this.emitting++,az(b)||(b=[b]),fd(this,function(a,f){null!=c&&(e=(d=[{event:f.event,type:f.type,namespace:f.namespace,callback:c}]).length);for(var g=0;g<e;g++)!function(){var c=d[g];if(c.type===f.type&&(!c.namespace||c.namespace===f.namespace||".*"===c.namespace)&&a.eventMatches(a.context,c,f)){var e=[f];null!=b&&bE(e,b),a.beforeEmit(a.context,c,f),c.conf&&c.conf.one&&(a.listeners=a.listeners.filter(function(a){return a!==c}));var h=a.callbackContext(a.context,c,f),i=c.callback.apply(h,e);a.afterEmit(a.context,c,f),!1===i&&(f.stopPropagation(),f.preventDefault())}}();a.bubble(a.context)&&!f.isPropagationStopped()&&a.parent(a.context).emit(f,b)},a),this.emitting--,this};var fe={qualifierCompare:function(a,b){return null==a||null==b?null==a&&null==b:a.sameText(b)},eventMatches:function(a,b,c){var d=b.qualifier;return null==d||a!==c.target&&aE(c.target)&&d.matches(c.target)},addEventFields:function(a,b){b.cy=a.cy(),b.target=a},callbackContext:function(a,b,c){return null!=b.qualifier?c.target:a},beforeEmit:function(a,b){b.conf&&b.conf.once&&b.conf.onceCollection.removeListener(b.event,b.qualifier,b.callback)},bubble:function(){return!0},parent:function(a){return a.isChild()?a.parent():a.cy()}},ff=function(a){return ax(a)?new eu(a):a},fg={createEmitter:function(){for(var a=0;a<this.length;a++){var b=this[a],c=b._private;c.emitter||(c.emitter=new e9(fe,b))}return this},emitter:function(){return this._private.emitter},on:function(a,b,c){for(var d=ff(b),e=0;e<this.length;e++)this[e].emitter().on(a,d,c);return this},removeListener:function(a,b,c){for(var d=ff(b),e=0;e<this.length;e++)this[e].emitter().removeListener(a,d,c);return this},removeAllListeners:function(){for(var a=0;a<this.length;a++)this[a].emitter().removeAllListeners();return this},one:function(a,b,c){for(var d=ff(b),e=0;e<this.length;e++)this[e].emitter().one(a,d,c);return this},once:function(a,b,c){for(var d=ff(b),e=0;e<this.length;e++)this[e].emitter().on(a,d,c,{once:!0,onceCollection:this})},emit:function(a,b){for(var c=0;c<this.length;c++)this[c].emitter().emit(a,b);return this},emitAndNotify:function(a,b){if(0!==this.length)return this.cy().notify(a,this),this.emit(a,b),this}};ec.eventAliasesOn(fg);var fh={nodes:function(a){return this.filter(function(a){return a.isNode()}).filter(a)},edges:function(a){return this.filter(function(a){return a.isEdge()}).filter(a)},byGroup:function(){for(var a=this.spawn(),b=this.spawn(),c=0;c<this.length;c++){var d=this[c];d.isNode()?a.push(d):b.push(d)}return{nodes:a,edges:b}},filter:function(a,b){if(void 0===a)return this;if(ax(a)||aD(a))return new eu(a).filter(this);if(ay(a)){for(var c=this.spawn(),d=0;d<this.length;d++){var e=this[d];(b?a.apply(b,[e,d,this]):a(e,d,this))&&c.push(e)}return c}return this.spawn()},not:function(a){if(!a)return this;ax(a)&&(a=this.filter(a));for(var b=this.spawn(),c=0;c<this.length;c++){var d=this[c];a.has(d)||b.push(d)}return b},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(a){if(ax(a))return this.filter(a);for(var b=this.spawn(),c=this.length<a.length,d=c?this:a,e=c?a:this,f=0;f<d.length;f++){var g=d[f];e.has(g)&&b.push(g)}return b},xor:function(a){var b=this._private.cy;ax(a)&&(a=b.$(a));var c=this.spawn(),d=a,e=function(a,b){for(var d=0;d<a.length;d++){var e=a[d],f=e._private.data.id;b.hasElementWithId(f)||c.push(e)}};return e(this,d),e(d,this),c},diff:function(a){var b=this._private.cy;ax(a)&&(a=b.$(a));var c=this.spawn(),d=this.spawn(),e=this.spawn(),f=a,g=function(a,b,c){for(var d=0;d<a.length;d++){var f=a[d],g=f._private.data.id;b.hasElementWithId(g)?e.merge(f):c.push(f)}};return g(this,f,c),g(f,this,d),{left:c,right:d,both:e}},add:function(a){var b=this._private.cy;if(!a)return this;if(ax(a)){var c=a;a=b.mutableElements().filter(c)}for(var d=this.spawnSelf(),e=0;e<a.length;e++){var f=a[e];this.has(f)||d.push(f)}return d},merge:function(a){var b=this._private,c=b.cy;if(!a)return this;if(a&&ax(a)){var d=a;a=c.mutableElements().filter(d)}for(var e=b.map,f=0;f<a.length;f++){var g=a[f],h=g._private.data.id;if(!e.has(h)){var i=this.length++;this[i]=g,e.set(h,{ele:g,index:i})}}return this},unmergeAt:function(a){var b=this[a].id(),c=this._private.map;this[a]=void 0,c.delete(b);var d=a===this.length-1;if(this.length>1&&!d){var e=this.length-1,f=this[e],g=f._private.data.id;this[e]=void 0,this[a]=f,c.set(g,{ele:f,index:a})}return this.length--,this},unmergeOne:function(a){a=a[0];var b=this._private,c=a._private.data.id,d=b.map.get(c);if(!d)return this;var e=d.index;return this.unmergeAt(e),this},unmerge:function(a){var b=this._private.cy;if(!a)return this;if(a&&ax(a)){var c=a;a=b.mutableElements().filter(c)}for(var d=0;d<a.length;d++)this.unmergeOne(a[d]);return this},unmergeBy:function(a){for(var b=this.length-1;b>=0;b--)a(this[b])&&this.unmergeAt(b);return this},map:function(a,b){for(var c=[],d=0;d<this.length;d++){var e=this[d],f=b?a.apply(b,[e,d,this]):a(e,d,this);c.push(f)}return c},reduce:function(a,b){for(var c=b,d=0;d<this.length;d++)c=a(c,this[d],d,this);return c},max:function(a,b){for(var c,d=-1/0,e=0;e<this.length;e++){var f=this[e],g=b?a.apply(b,[f,e,this]):a(f,e,this);g>d&&(d=g,c=f)}return{value:d,ele:c}},min:function(a,b){for(var c,d=1/0,e=0;e<this.length;e++){var f=this[e],g=b?a.apply(b,[f,e,this]):a(f,e,this);g<d&&(d=g,c=f)}return{value:d,ele:c}}};fh.u=fh["|"]=fh["+"]=fh.union=fh.or=fh.add,fh["\\"]=fh["!"]=fh["-"]=fh.difference=fh.relativeComplement=fh.subtract=fh.not,fh.n=fh["&"]=fh["."]=fh.and=fh.intersection=fh.intersect,fh["^"]=fh["(+)"]=fh["(-)"]=fh.symmetricDifference=fh.symdiff=fh.xor,fh.fnFilter=fh.filterFn=fh.stdFilter=fh.filter,fh.complement=fh.abscomp=fh.absoluteComplement;var fi=function(a,b){var c=a.cy().hasCompoundNodes();function d(a){var b=a.pstyle("z-compound-depth");return"auto"===b.value?c?a.zDepth():0:"bottom"===b.value?-1:"top"===b.value?bp:0}var e=d(a)-d(b);if(0!==e)return e;function f(a){return"auto"===a.pstyle("z-index-compare").value?+!!a.isNode():0}var g=f(a)-f(b);if(0!==g)return g;var h=a.pstyle("z-index").value-b.pstyle("z-index").value;return 0!==h?h:a.poolIndex()-b.poolIndex()},fj={forEach:function(a,b){if(ay(a))for(var c=this.length,d=0;d<c;d++){var e=this[d];if(!1===(b?a.apply(b,[e,d,this]):a(e,d,this)))break}return this},toArray:function(){for(var a=[],b=0;b<this.length;b++)a.push(this[b]);return a},slice:function(a,b){var c=[],d=this.length;null==b&&(b=d),null==a&&(a=0),a<0&&(a=d+a),b<0&&(b=d+b);for(var e=a;e>=0&&e<b&&e<d;e++)c.push(this[e]);return this.spawn(c)},size:function(){return this.length},eq:function(a){return this[a]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(a){if(!ay(a))return this;var b=this.toArray().sort(a);return this.spawn(b)},sortByZIndex:function(){return this.sort(fi)},zDepth:function(){var a=this[0];if(a){var b=a._private;if("nodes"===b.group){var c=b.data.parent?a.parents().size():0;return a.isParent()?c:bp-1}var d=b.source,e=b.target;return Math.max(d.zDepth(),e.zDepth(),0)}}};fj.each=fj.forEach,("u"<typeof Symbol?"undefined":aq(Symbol))!="undefined"&&"undefined"!=aq(Symbol.iterator)&&(fj[Symbol.iterator]=function(){var a=this,b={value:void 0,done:!1},c=0,d=this.length;return am({next:function(){return c<d?b.value=a[c++]:(b.value=void 0,b.done=!0),b}},Symbol.iterator,function(){return this})});var fk=bB({nodeDimensionsIncludeLabels:!1}),fl={layoutDimensions:function(a){if(a=fk(a),this.takesUpSpace())if(a.nodeDimensionsIncludeLabels){var b,c=this.boundingBox();b={w:c.w,h:c.h}}else b={w:this.outerWidth(),h:this.outerHeight()};else b={w:0,h:0};return(0===b.w||0===b.h)&&(b.w=b.h=1),b},layoutPositions:function(a,b,c){var d=this.nodes().filter(function(a){return!a.isParent()}),e=this.cy(),f=b.eles,g=function(a){return a.id()},h=aK(c,g);a.emit({type:"layoutstart",layout:a}),a.animations=[];var i=function(a,b,c){var d={x:b.x1+b.w/2,y:b.y1+b.h/2},e={x:(c.x-d.x)*a,y:(c.y-d.y)*a};return{x:d.x+e.x,y:d.y+e.y}},j=b.spacingFactor&&1!==b.spacingFactor,k=function(){if(!j)return null;for(var a=cd(),b=0;b<d.length;b++){var c=h(d[b],b);cg(a,c.x,c.y)}return a}(),l=aK(function(a,c){var d=h(a,c);return j&&(d=i(Math.abs(b.spacingFactor),k,d)),null!=b.transform&&(d=b.transform(a,d)),d},g);if(b.animate){for(var n=0;n<d.length;n++){var o=d[n],p=l(o,n);if(null==b.animateFilter||b.animateFilter(o,n)){var q=o.animation({position:p,duration:b.animationDuration,easing:b.animationEasing});a.animations.push(q)}else o.position(p)}if(b.fit){var r=e.animation({fit:{boundingBox:f.boundingBoxAt(l),padding:b.padding},duration:b.animationDuration,easing:b.animationEasing});a.animations.push(r)}else if(void 0!==b.zoom&&void 0!==b.pan){var s=e.animation({zoom:b.zoom,pan:b.pan,duration:b.animationDuration,easing:b.animationEasing});a.animations.push(s)}a.animations.forEach(function(a){return a.play()}),a.one("layoutready",b.ready),a.emit({type:"layoutready",layout:a}),dX.all(a.animations.map(function(a){return a.promise()})).then(function(){a.one("layoutstop",b.stop),a.emit({type:"layoutstop",layout:a})})}else d.positions(l),b.fit&&e.fit(b.eles,b.padding),null!=b.zoom&&e.zoom(b.zoom),b.pan&&e.pan(b.pan),a.one("layoutready",b.ready),a.emit({type:"layoutready",layout:a}),a.one("layoutstop",b.stop),a.emit({type:"layoutstop",layout:a});return this},layout:function(a){return this.cy().makeLayout(aW({},a,{eles:this}))}};function fm(a,b,c){var d,e=c._private,f=e.styleCache=e.styleCache||[];return null!=(d=f[a])?d:d=f[a]=b(c)}function fn(a,b){return a=bj(a),function(c){return fm(a,b,c)}}function fo(a,b){a=bj(a);var c=function(a){return b.call(a)};return function(){var b=this[0];if(b)return fm(a,c,b)}}fl.createLayout=fl.makeLayout=fl.layout;var fp={recalculateRenderedStyle:function(a){var b=this.cy(),c=b.renderer(),d=b.styleEnabled();return c&&d&&c.recalculateRenderedStyle(this,a),this},dirtyStyleCache:function(){var a,b=this.cy(),c=function(a){return a._private.styleCache=null};return b.hasCompoundNodes()?((a=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(a.connectedEdges()),a.forEach(c)):this.forEach(function(a){c(a),a.connectedEdges().forEach(c)}),this},updateStyle:function(a){var b=this._private.cy;if(!b.styleEnabled())return this;if(b.batching())return b._private.batchStyleEles.merge(this),this;var c=b.hasCompoundNodes(),d=this;a=!!a||void 0===a,c&&(d=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var e=d;return a?e.emitAndNotify("style"):e.emit("style"),d.forEach(function(a){return a._private.styleDirty=!0}),this},cleanStyle:function(){var a=this.cy();if(a.styleEnabled())for(var b=0;b<this.length;b++){var c=this[b];c._private.styleDirty&&(c._private.styleDirty=!1,a.style().apply(c))}},parsedStyle:function(a){var b=!(arguments.length>1)||void 0===arguments[1]||arguments[1],c=this[0],d=c.cy();if(d.styleEnabled()&&c){c._private.styleDirty&&(c._private.styleDirty=!1,d.style().apply(c));var e=c._private.style[a];return null!=e?e:b?d.style().getDefaultProperty(a):null}},numericStyle:function(a){var b=this[0];if(b.cy().styleEnabled()&&b){var c=b.pstyle(a);return void 0!==c.pfValue?c.pfValue:c.value}},numericStyleUnits:function(a){var b=this[0];if(b.cy().styleEnabled()&&b)return b.pstyle(a).units},renderedStyle:function(a){var b=this.cy();if(!b.styleEnabled())return this;var c=this[0];if(c)return b.style().getRenderedStyle(c,a)},style:function(a,b){var c=this.cy();if(!c.styleEnabled())return this;var d=c.style();if(aA(a))d.applyBypass(this,a,!1),this.emitAndNotify("style");else if(ax(a))if(void 0===b){var e=this[0];return e?d.getStylePropertyValue(e,a):void 0}else d.applyBypass(this,a,b,!1),this.emitAndNotify("style");else if(void 0===a){var f=this[0];return f?d.getRawStyle(f):void 0}return this},removeStyle:function(a){var b=this.cy();if(!b.styleEnabled())return this;var c=b.style();if(void 0===a)for(var d=0;d<this.length;d++){var e=this[d];c.removeAllBypasses(e,!1)}else{a=a.split(/\s+/);for(var f=0;f<this.length;f++){var g=this[f];c.removeBypasses(g,a,!1)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var a=this.cy();if(!a.styleEnabled())return 1;var b=a.hasCompoundNodes(),c=this[0];if(c){var d=c._private,e=c.pstyle("opacity").value;if(!b)return e;var f=d.data.parent?c.parents():null;if(f)for(var g=0;g<f.length;g++)e*=f[g].pstyle("opacity").value;return e}},transparent:function(){if(!this.cy().styleEnabled())return!1;var a=this[0],b=a.cy().hasCompoundNodes();if(a)if(!b)return 0===a.pstyle("opacity").value;else return 0===a.effectiveOpacity()},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function fq(a,b){var c=a._private.data.parent?a.parents():null;if(c){for(var d=0;d<c.length;d++)if(!b(c[d]))return!1}return!0}function fr(a){var b=a.ok,c=a.edgeOkViaNode||a.ok,d=a.parentOk||a.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var e=this[0],f=a.hasCompoundNodes();if(e){var g=e._private;if(!b(e))return!1;if(e.isNode())return!f||fq(e,d);var h=g.source,i=g.target;return c(h)&&(!f||fq(h,c))&&(h===i||c(i)&&(!f||fq(i,c)))}}}var fs=fn("eleTakesUpSpace",function(a){return"element"===a.pstyle("display").value&&0!==a.width()&&(!a.isNode()||0!==a.height())});fp.takesUpSpace=fo("takesUpSpace",fr({ok:fs})),fp.interactive=fo("interactive",fr({ok:fn("eleInteractive",function(a){return"yes"===a.pstyle("events").value&&"visible"===a.pstyle("visibility").value&&fs(a)}),parentOk:fn("parentInteractive",function(a){return"visible"===a.pstyle("visibility").value&&fs(a)}),edgeOkViaNode:fs})),fp.noninteractive=function(){var a=this[0];if(a)return!a.interactive()},fp.visible=fo("visible",fr({ok:fn("eleVisible",function(a){return"visible"===a.pstyle("visibility").value&&0!==a.pstyle("opacity").pfValue&&fs(a)}),edgeOkViaNode:fs})),fp.hidden=function(){var a=this[0];if(a)return!a.visible()},fp.isBundledBezier=fo("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),fp.bypass=fp.css=fp.style,fp.renderedCss=fp.renderedStyle,fp.removeBypass=fp.removeCss=fp.removeStyle,fp.pstyle=fp.parsedStyle;var ft={};function fu(a){return function(){var b=arguments,c=[];if(2===b.length){var d=b[0],e=b[1];this.on(a.event,d,e)}else if(1===b.length&&ay(b[0])){var f=b[0];this.on(a.event,f)}else if(0===b.length||1===b.length&&az(b[0])){for(var g=1===b.length?b[0]:null,h=0;h<this.length;h++){var i=this[h],j=!a.ableField||i._private[a.ableField],k=i._private[a.field]!=a.value;if(a.overrideAble){var l=a.overrideAble(i);if(void 0!==l&&(j=l,!l))return this}j&&(i._private[a.field]=a.value,k&&c.push(i))}var n=this.spawn(c);n.updateStyle(),n.emit(a.event),g&&n.emit(g)}return this}}function fv(a){ft[a.field]=function(){var b=this[0];if(b){if(a.overrideField){var c=a.overrideField(b);if(void 0!==c)return c}return b._private[a.field]}},ft[a.on]=fu({event:a.on,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!0}),ft[a.off]=fu({event:a.off,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!1})}fv({field:"locked",overrideField:function(a){return!!a.cy().autolock()||void 0},on:"lock",off:"unlock"}),fv({field:"grabbable",overrideField:function(a){return!(a.cy().autoungrabify()||a.pannable())&&void 0},on:"grabify",off:"ungrabify"}),fv({field:"selected",ableField:"selectable",overrideAble:function(a){return!a.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),fv({field:"selectable",overrideField:function(a){return!a.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),ft.deselect=ft.unselect,ft.grabbed=function(){var a=this[0];if(a)return a._private.grabbed},fv({field:"active",on:"activate",off:"unactivate"}),fv({field:"pannable",on:"panify",off:"unpanify"}),ft.inactive=function(){var a=this[0];if(a)return!a._private.active};var fw={},fx=function(a){return function(b){for(var c=[],d=0;d<this.length;d++){var e=this[d];if(e.isNode()){for(var f=!1,g=e.connectedEdges(),h=0;h<g.length;h++){var i=g[h],j=i.source(),k=i.target();if(a.noIncomingEdges&&k===e&&j!==e||a.noOutgoingEdges&&j===e&&k!==e){f=!0;break}}f||c.push(e)}}return this.spawn(c,!0).filter(b)}},fy=function(a){return function(b){for(var c=[],d=0;d<this.length;d++){var e=this[d];if(e.isNode())for(var f=e.connectedEdges(),g=0;g<f.length;g++){var h=f[g],i=h.source(),j=h.target();a.outgoing&&i===e?(c.push(h),c.push(j)):a.incoming&&j===e&&(c.push(h),c.push(i))}}return this.spawn(c,!0).filter(b)}},fz=function(a){return function(b){for(var c=this,d=[],e={};;){var f=a.outgoing?c.outgoers():c.incomers();if(0===f.length)break;for(var g=!1,h=0;h<f.length;h++){var i=f[h],j=i.id();e[j]||(e[j]=!0,d.push(i),g=!0)}if(!g)break;c=f}return this.spawn(d,!0).filter(b)}};function fA(a){return function(b){for(var c=[],d=0;d<this.length;d++){var e=this[d]._private[a.attr];e&&c.push(e)}return this.spawn(c,!0).filter(b)}}function fB(a){return function(b){var c=[],d=this._private.cy,e=a||{};ax(b)&&(b=d.$(b));for(var f=0;f<b.length;f++)for(var g=b[f]._private.edges,h=0;h<g.length;h++){var i=g[h],j=i._private.data,k=this.hasElementWithId(j.source)&&b.hasElementWithId(j.target),l=b.hasElementWithId(j.source)&&this.hasElementWithId(j.target);if(k||l){if((e.thisIsSrc||e.thisIsTgt)&&(e.thisIsSrc&&!k||e.thisIsTgt&&!l))continue;c.push(i)}}return this.spawn(c,!0)}}function fC(a){return a=aW({},{codirected:!1},a),function(b){for(var c=[],d=this.edges(),e=a,f=0;f<d.length;f++)for(var g=d[f]._private,h=g.source,i=h._private.data.id,j=g.data.target,k=h._private.edges,l=0;l<k.length;l++){var n=k[l],o=n._private.data,p=o.target,q=o.source,r=p===j&&q===i,s=i===p&&j===q;(e.codirected&&r||!e.codirected&&(r||s))&&c.push(n)}return this.spawn(c,!0).filter(b)}}fw.clearTraversalCache=function(){for(var a=0;a<this.length;a++)this[a]._private.traversalCache=null},aW(fw,{roots:fx({noIncomingEdges:!0}),leaves:fx({noOutgoingEdges:!0}),outgoers:ex(fy({outgoing:!0}),"outgoers"),successors:fz({outgoing:!0}),incomers:ex(fy({incoming:!0}),"incomers"),predecessors:fz({})}),aW(fw,{neighborhood:ex(function(a){for(var b=[],c=this.nodes(),d=0;d<c.length;d++)for(var e=c[d],f=e.connectedEdges(),g=0;g<f.length;g++){var h=f[g],i=h.source(),j=h.target(),k=e===i?j:i;k.length>0&&b.push(k[0]),b.push(h[0])}return this.spawn(b,!0).filter(a)},"neighborhood"),closedNeighborhood:function(a){return this.neighborhood().add(this).filter(a)},openNeighborhood:function(a){return this.neighborhood(a)}}),fw.neighbourhood=fw.neighborhood,fw.closedNeighbourhood=fw.closedNeighborhood,fw.openNeighbourhood=fw.openNeighborhood,aW(fw,{source:ex(function(a){var b,c=this[0];return c&&(b=c._private.source||c.cy().collection()),b&&a?b.filter(a):b},"source"),target:ex(function(a){var b,c=this[0];return c&&(b=c._private.target||c.cy().collection()),b&&a?b.filter(a):b},"target"),sources:fA({attr:"source"}),targets:fA({attr:"target"})}),aW(fw,{edgesWith:ex(fB(),"edgesWith"),edgesTo:ex(fB({thisIsSrc:!0}),"edgesTo")}),aW(fw,{connectedEdges:ex(function(a){for(var b=[],c=0;c<this.length;c++){var d=this[c];if(d.isNode())for(var e=d._private.edges,f=0;f<e.length;f++){var g=e[f];b.push(g)}}return this.spawn(b,!0).filter(a)},"connectedEdges"),connectedNodes:ex(function(a){for(var b=[],c=0;c<this.length;c++){var d=this[c];d.isEdge()&&(b.push(d.source()[0]),b.push(d.target()[0]))}return this.spawn(b,!0).filter(a)},"connectedNodes"),parallelEdges:ex(fC(),"parallelEdges"),codirectedEdges:ex(fC({codirected:!0}),"codirectedEdges")}),aW(fw,{components:function(a){var b=this,c=b.cy(),d=c.collection(),e=null==a?b.nodes():a.nodes(),f=[];null!=a&&e.empty()&&(e=a.sources());var g=function(a,b){d.merge(a),e.unmerge(a),b.merge(a)};if(e.empty())return b.spawn();do!function(){var a=c.collection();f.push(a);var d=e[0];g(d,a),b.bfs({directed:!1,roots:d,visit:function(b){return g(b,a)}}),a.forEach(function(c){c.connectedEdges().forEach(function(c){b.has(c)&&a.has(c.source())&&a.has(c.target())&&a.merge(c)})})}();while(e.length>0)return f},component:function(){var a=this[0];return a.cy().mutableElements().components(a)[0]}}),fw.componentsOf=fw.components;var fD=function(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0===a)return void bu("A collection must have a reference to the core");var e=new bI,f=!1;if(b){if(b.length>0&&aA(b[0])&&!aE(b[0])){f=!0;for(var g=[],h=new bK,i=0,j=b.length;i<j;i++){var k=b[i];null==k.data&&(k.data={});var l=k.data;if(null==l.id)l.id=by();else if(a.hasElementWithId(l.id)||h.has(l.id))continue;var n=new bL(a,k,!1);g.push(n),h.add(l.id)}b=g}}else b=[];this.length=0;for(var o=0,p=b.length;o<p;o++){var q=b[o][0];if(null!=q){var r=q._private.data.id;(!c||!e.has(r))&&(c&&e.set(r,{index:this.length,ele:q}),this[this.length]=q,this.length++)}}this._private={eles:this,cy:a,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(m){this.lazyMap=m},rebuildMap:function(){for(var a=this.lazyMap=new bI,b=this.eles,c=0;c<b.length;c++){var d=b[c];a.set(d.id(),{index:c,ele:d})}}},c&&(this._private.map=e),f&&!d&&this.restore()},fE=bL.prototype=fD.prototype=Object.create(Array.prototype);fE.instanceString=function(){return"collection"},fE.spawn=function(a,b){return new fD(this.cy(),a,b)},fE.spawnSelf=function(){return this.spawn(this)},fE.cy=function(){return this._private.cy},fE.renderer=function(){return this._private.cy.renderer()},fE.element=function(){return this[0]},fE.collection=function(){return aF(this)?this:new fD(this._private.cy,[this])},fE.unique=function(){return new fD(this._private.cy,this,!0)},fE.hasElementWithId=function(a){return a=""+a,this._private.map.has(a)},fE.getElementById=function(a){a=""+a;var b=this._private.cy,c=this._private.map.get(a);return c?c.ele:new fD(b)},fE.$id=fE.getElementById,fE.poolIndex=function(){var a=this._private.cy._private.elements,b=this[0]._private.data.id;return a._private.map.get(b).index},fE.indexOf=function(a){var b=a[0]._private.data.id;return this._private.map.get(b).index},fE.indexOfId=function(a){return a=""+a,this._private.map.get(a).index},fE.json=function(a){var b=this.element(),c=this.cy();if(null==b&&a)return this;if(null!=b){var d=b._private;if(aA(a)){if(c.startBatch(),a.data){b.data(a.data);var e=d.data;if(b.isEdge()){var f=!1,g={},h=a.data.source,i=a.data.target;null!=h&&h!=e.source&&(g.source=""+h,f=!0),null!=i&&i!=e.target&&(g.target=""+i,f=!0),f&&(b=b.move(g))}else{var j="parent"in a.data,k=a.data.parent;j&&(null!=k||null!=e.parent)&&k!=e.parent&&(void 0===k&&(k=null),null!=k&&(k=""+k),b=b.move({parent:k}))}}a.position&&b.position(a.position);var l=function(c,e,f){var g=a[c];null!=g&&g!==d[c]&&(g?b[e]():b[f]())};return l("removed","remove","restore"),l("selected","select","unselect"),l("selectable","selectify","unselectify"),l("locked","lock","unlock"),l("grabbable","grabify","ungrabify"),l("pannable","panify","unpanify"),null!=a.classes&&b.classes(a.classes),c.endBatch(),this}if(void 0===a){var n={data:bx(d.data),position:bx(d.position),group:d.group,removed:d.removed,selected:d.selected,selectable:d.selectable,locked:d.locked,grabbable:d.grabbable,pannable:d.pannable,classes:null};n.classes="";var o=0;return d.classes.forEach(function(a){return n.classes+=0==o++?a:" "+a}),n}}},fE.jsons=function(){for(var a=[],b=0;b<this.length;b++){var c=this[b].json();a.push(c)}return a},fE.clone=function(){for(var a=this.cy(),b=[],c=0;c<this.length;c++){var d=new bL(a,this[c].json(),!1);b.push(d)}return new fD(a,b)},fE.copy=fE.clone,fE.restore=function(){for(var a=!(arguments.length>0)||void 0===arguments[0]||arguments[0],b=!(arguments.length>1)||void 0===arguments[1]||arguments[1],c=this.cy(),d=c._private,e=[],f=[],g=0,h=this.length;g<h;g++){var i=this[g];(!b||i.removed())&&(i.isNode()?e.push(i):f.push(i))}F=e.concat(f);var j=function(){F.splice(G,1),G--};for(G=0;G<F.length;G++){var k=F[G],l=k._private,n=l.data;if(k.clearTraversalCache(),b||l.removed){if(void 0===n.id)n.id=by();else if(aB(n.id))n.id=""+n.id;else if(aI(n.id)||!ax(n.id)){bu("Can not create element with invalid string ID `"+n.id+"`"),j();continue}else if(c.hasElementWithId(n.id)){bu("Can not create second element with ID `"+n.id+"`"),j();continue}}var o=n.id;if(k.isNode()){var p=l.position;null==p.x&&(p.x=0),null==p.y&&(p.y=0)}if(k.isEdge()){for(var q=["source","target"],r=q.length,s=!1,t=0;t<r;t++){var u=q[t],v=n[u];aB(v)&&(v=n[u]=""+n[u]),null==v||""===v?(bu("Can not create edge `"+o+"` with unspecified "+u),s=!0):c.hasElementWithId(v)||(bu("Can not create edge `"+o+"` with nonexistant "+u+" `"+v+"`"),s=!0)}if(s){j();continue}var w=c.getElementById(n.source),x=c.getElementById(n.target);w.same(x)?w._private.edges.push(k):(w._private.edges.push(k),x._private.edges.push(k)),k._private.source=w,k._private.target=x}l.map=new bI,l.map.set(o,{ele:k,index:0}),l.removed=!1,b&&c.addToPool(k)}for(var y=0;y<e.length;y++){var z=e[y],A=z._private.data;aB(A.parent)&&(A.parent=""+A.parent);var B=A.parent;if(null!=B||z._private.parent){var C=z._private.parent?c.collection().merge(z._private.parent):c.getElementById(B);if(C.empty())A.parent=void 0;else if(C[0].removed())bw("Node added with missing parent, reference to parent removed"),A.parent=void 0,z._private.parent=null;else{for(var D=!1,E=C;!E.empty();){if(z.same(E)){D=!0,A.parent=void 0;break}E=E.parent()}D||(C[0]._private.children.push(z),z._private.parent=C[0],d.hasCompoundNodes=!0)}}}if(F.length>0){for(var F,G,H,I=F.length===this.length?this:new fD(c,F),J=0;J<I.length;J++){var K=I[J];K.isNode()||(K.parallelEdges().clearTraversalCache(),K.source().clearTraversalCache(),K.target().clearTraversalCache())}(d.hasCompoundNodes?c.collection().merge(I).merge(I.connectedNodes()).merge(I.parent()):I).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(a),a?I.emitAndNotify("add"):b&&I.emit("add")}return this},fE.removed=function(){var a=this[0];return a&&a._private.removed},fE.inside=function(){var a=this[0];return a&&!a._private.removed},fE.remove=function(){for(var a=!(arguments.length>0)||void 0===arguments[0]||arguments[0],b=!(arguments.length>1)||void 0===arguments[1]||arguments[1],c=[],d={},e=this._private.cy,f=0,g=this.length;f<g;f++)!function a(e){var f=d[e.id()];if(!(b&&e.removed())&&!f)if(d[e.id()]=!0,e.isNode()){c.push(e);for(var g=e._private.edges,h=0;h<g.length;h++)a(g[h]);for(var i=e._private.children,j=0;j<i.length;j++)a(i[j])}else c.unshift(e)}(this[f]);function h(a,b){bC(a._private.edges,b),a.clearTraversalCache()}var i=[];i.ids={},this.dirtyCompoundBoundsCache(),b&&e.removeFromPool(c);for(var j=0;j<c.length;j++){var k=c[j];if(k.isEdge()){var l=k.source()[0],n=k.target()[0];h(l,k),h(n,k);for(var o=k.parallelEdges(),p=0;p<o.length;p++){var q=o[p];q.clearTraversalCache(),q.isBundledBezier()&&q.dirtyBoundingBoxCache()}}else{var r=k.parent();0!==r.length&&function(a,b){b=b[0];var c=(a=a[0])._private.children,d=a.id();bC(c,b),b._private.parent=null,i.ids[d]||(i.ids[d]=!0,i.push(a))}(r,k)}b&&(k._private.removed=!0)}var s=e._private.elements;e._private.hasCompoundNodes=!1;for(var t=0;t<s.length;t++)if(s[t].isParent()){e._private.hasCompoundNodes=!0;break}var u=new fD(this.cy(),c);u.size()>0&&(a?u.emitAndNotify("remove"):b&&u.emit("remove"));for(var v=0;v<i.length;v++){var w=i[v];b&&w.removed()||w.updateStyle()}return u},fE.move=function(a){var b=this._private.cy,c=this,d=function(a){return null==a?a:""+a};if(void 0!==a.source||void 0!==a.target){var e=d(a.source),f=d(a.target),g=null!=e&&b.hasElementWithId(e),h=null!=f&&b.hasElementWithId(f);(g||h)&&(b.batch(function(){c.remove(!1,!1),c.emitAndNotify("moveout");for(var a=0;a<c.length;a++){var b=c[a],d=b._private.data;b.isEdge()&&(g&&(d.source=e),h&&(d.target=f))}c.restore(!1,!1)}),c.emitAndNotify("move"))}else if(void 0!==a.parent){var i=d(a.parent);if(null===i||b.hasElementWithId(i)){var j=null===i?void 0:i;b.batch(function(){var a=c.remove(!1,!1);a.emitAndNotify("moveout");for(var b=0;b<c.length;b++){var d=c[b],e=d._private.data;d.isNode()&&(e.parent=j)}a.restore(!1,!1)}),c.emitAndNotify("move")}}return this},[dQ,ed,ee,ew,ey,i1,eD,e1,fg,fh,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var a=this[0];if(a)return a._private.group}},fj,fl,fp,ft,fw].forEach(function(a){aW(fE,a)});var fF=function(){function a(a){return-a.tension*a.x-a.friction*a.v}function b(b,c,d){var e={x:b.x+d.dx*c,v:b.v+d.dv*c,tension:b.tension,friction:b.friction};return{dx:e.v,dv:a(e)}}return function c(d,e,f){var g,h,i,j,k,l,n,o,p,q,r,s={x:-1,v:0,tension:null,friction:null},t=[0],u=0;for(d=parseFloat(d)||500,e=parseFloat(e)||20,f=f||null,s.tension=d,s.friction=e,q=(p=null!==f)?(u=c(d,e))/f*.016:.016;g=r||s,h=q,i={dx:g.v,dv:a(g)},j=b(g,.5*h,i),k=b(g,.5*h,j),l=b(g,h,k),n=1/6*(i.dx+2*(j.dx+k.dx)+l.dx),o=1/6*(i.dv+2*(j.dv+k.dv)+l.dv),g.x=g.x+n*h,g.v=g.v+o*h,r=g,t.push(1+r.x),u+=16,Math.abs(r.x)>1e-4&&Math.abs(r.v)>1e-4;);return p?function(a){return t[a*(t.length-1)|0]}:u}}(),fG=function(a,b,c,d){var e=function(a,b,c,d){var e="u">typeof Float32Array;if(4!=arguments.length)return!1;for(var f=0;f<4;++f)if("number"!=typeof arguments[f]||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;a=Math.min(a,1),c=Math.min(c,1),a=Math.max(a,0),c=Math.max(c,0);var g=e?new Float32Array(11):Array(11);function h(a,b,c){return(((1-3*c+3*b)*a+(3*c-6*b))*a+3*b)*a}function i(a,b,c){return 3*(1-3*c+3*b)*a*a+2*(3*c-6*b)*a+3*b}var j=!1,k=function(e){return(j||(j=!0,(a!==b||c!==d)&&function(){for(var b=0;b<11;++b)g[b]=h(.1*b,a,c)}()),a===b&&c===d)?e:0===e?0:1===e?1:h(function(b){for(var d=0,e=1;10!==e&&g[e]<=b;++e)d+=.1;var f=d+(b-g[--e])/(g[e+1]-g[e])*.1,j=i(f,a,c);if(j>=.001){for(var k=f,l=0;l<4;++l){var n=i(k,a,c);if(0===n)break;var o=h(k,a,c)-b;k-=o/n}return k}return 0===j?f:function(b,d,e){var f,g,i=0;do(f=h(g=d+(e-d)/2,a,c)-b)>0?e=g:d=g;while(Math.abs(f)>1e-7&&++i<10)return g}(b,d,d+.1)}(e),b,d)};k.getControlPoints=function(){return[{x:a,y:b},{x:c,y:d}]};var l="generateBezier("+[a,b,c,d]+")";return k.toString=function(){return l},k}(a,b,c,d);return function(a,b,c){return a+(b-a)*e(c)}},fH={linear:function(a,b,c){return a+(b-a)*c},ease:fG(.25,.1,.25,1),"ease-in":fG(.42,0,1,1),"ease-out":fG(0,0,.58,1),"ease-in-out":fG(.42,0,.58,1),"ease-in-sine":fG(.47,0,.745,.715),"ease-out-sine":fG(.39,.575,.565,1),"ease-in-out-sine":fG(.445,.05,.55,.95),"ease-in-quad":fG(.55,.085,.68,.53),"ease-out-quad":fG(.25,.46,.45,.94),"ease-in-out-quad":fG(.455,.03,.515,.955),"ease-in-cubic":fG(.55,.055,.675,.19),"ease-out-cubic":fG(.215,.61,.355,1),"ease-in-out-cubic":fG(.645,.045,.355,1),"ease-in-quart":fG(.895,.03,.685,.22),"ease-out-quart":fG(.165,.84,.44,1),"ease-in-out-quart":fG(.77,0,.175,1),"ease-in-quint":fG(.755,.05,.855,.06),"ease-out-quint":fG(.23,1,.32,1),"ease-in-out-quint":fG(.86,0,.07,1),"ease-in-expo":fG(.95,.05,.795,.035),"ease-out-expo":fG(.19,1,.22,1),"ease-in-out-expo":fG(1,0,0,1),"ease-in-circ":fG(.6,.04,.98,.335),"ease-out-circ":fG(.075,.82,.165,1),"ease-in-out-circ":fG(.785,.135,.15,.86),spring:function(a,b,c){if(0===c)return fH.linear;var d=fF(a,b,c);return function(a,b,c){return a+(b-a)*d(c)}},"cubic-bezier":fG};function fI(a,b,c,d,e){if(1===d||b===c)return c;var f=e(b,c,d);return null==a||((a.roundValue||a.color)&&(f=Math.round(f)),void 0!==a.min&&(f=Math.max(f,a.min)),void 0!==a.max&&(f=Math.min(f,a.max))),f}function fJ(a,b){return null==a.pfValue&&null==a.value?a:null!=a.pfValue&&(null==b||"%"!==b.type.units)?a.pfValue:a.value}function fK(a,b,c,d,e){var f=null!=e?e.type:null;c<0?c=0:c>1&&(c=1);var g=fJ(a,e),h=fJ(b,e);if(aB(g)&&aB(h))return fI(f,g,h,c,d);if(az(g)&&az(h)){for(var i=[],j=0;j<h.length;j++){var k=g[j],l=h[j];if(null!=k&&null!=l){var n=fI(f,k,l,c,d);i.push(n)}else i.push(l)}return i}}function fL(a,b){return null!=a&&null!=b&&(!!(aB(a)&&aB(b))||!!a&&!!b)}function fM(a,b){var c=b._private.aniEles,d=[];function e(b,c){var e=b._private,f=e.animation.current,g=e.animation.queue,h=!1;if(0===f.length){var i=g.shift();i&&f.push(i)}for(var j=function(a){for(var b=a.length-1;b>=0;b--)(0,a[b])();a.splice(0,a.length)},k=f.length-1;k>=0;k--){var l=f[k],n=l._private;if(n.stopped){f.splice(k,1),n.hooked=!1,n.playing=!1,n.started=!1,j(n.frames);continue}(n.playing||n.applying)&&(n.playing&&n.applying&&(n.applying=!1),n.started||function(a,b,c,d){var e=b._private;e.started=!0,e.startTime=c-e.progress*e.duration}(0,l,a),function(a,b,c,d){var e,f,g,h,i=!d,j=a._private,k=b._private,l=k.easing,n=k.startTime,o=(d?a:a.cy()).style();k.easingImpl||(null==l?k.easingImpl=fH.linear:(e=ax(l)?o.parse("transition-timing-function",l).value:l,ax(e)?(f=e,g=[]):(f=e[1],g=e.slice(2).map(function(a){return+a})),g.length>0?("spring"===f&&g.push(k.duration),k.easingImpl=fH[f].apply(null,g)):k.easingImpl=fH[f]));var p=k.easingImpl;if(h=0===k.duration?1:(c-n)/k.duration,k.applying&&(h=k.progress),h<0?h=0:h>1&&(h=1),null==k.delay){var q=k.startPosition,r=k.position;if(r&&i&&!a.locked()){var s={};fL(q.x,r.x)&&(s.x=fK(q.x,r.x,h,p)),fL(q.y,r.y)&&(s.y=fK(q.y,r.y,h,p)),a.position(s)}var t=k.startPan,u=k.pan,v=j.pan,w=null!=u&&d;w&&(fL(t.x,u.x)&&(v.x=fK(t.x,u.x,h,p)),fL(t.y,u.y)&&(v.y=fK(t.y,u.y,h,p)),a.emit("pan"));var x=k.startZoom,y=k.zoom,z=null!=y&&d;z&&(fL(x,y)&&(j.zoom=cc(j.minZoom,fK(x,y,h,p),j.maxZoom)),a.emit("zoom")),(w||z)&&a.emit("viewport");var A=k.style;if(A&&A.length>0&&i){for(var B=0;B<A.length;B++){var C=A[B],D=C.name,E=k.startStyle[D],F=o.properties[E.name],G=fK(E,C,h,p,F);o.overrideBypass(a,D,G)}a.emit("style")}}k.progress=h}(b,l,a,c),n.applying&&(n.applying=!1),j(n.frames),null!=n.step&&n.step(a),l.completed()&&(f.splice(k,1),n.hooked=!1,n.playing=!1,n.started=!1,j(n.completes)),h=!0)}return c||0!==f.length||0!==g.length||d.push(b),h}for(var f=!1,g=0;g<c.length;g++){var h=e(c[g]);f=f||h}var i=e(b,!0);(f||i)&&(c.length>0?b.notify("draw",c):b.notify("draw")),c.unmerge(d),b.emit("step")}var fN={animate:ec.animate(),animation:ec.animation(),animated:ec.animated(),clearQueue:ec.clearQueue(),delay:ec.delay(),delayAnimation:ec.delayAnimation(),stop:ec.stop(),addToAnimationPool:function(a){this.styleEnabled()&&this._private.aniEles.merge(a)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var a=this;if(a._private.animationsRunning=!0,a.styleEnabled()){var b=a.renderer();b&&b.beforeRender?b.beforeRender(function(b,c){fM(c,a)},b.beforeRenderPriorities.animations):function b(){a._private.animationsRunning&&bc(function(c){fM(c,a),b()})}()}}},fO={qualifierCompare:function(a,b){return null==a||null==b?null==a&&null==b:a.sameText(b)},eventMatches:function(a,b,c){var d=b.qualifier;return null==d||a!==c.target&&aE(c.target)&&d.matches(c.target)},addEventFields:function(a,b){b.cy=a,b.target=a},callbackContext:function(a,b,c){return null!=b.qualifier?c.target:a}},fP=function(a){return ax(a)?new eu(a):a},fQ={createEmitter:function(){var a=this._private;return a.emitter||(a.emitter=new e9(fO,this)),this},emitter:function(){return this._private.emitter},on:function(a,b,c){return this.emitter().on(a,fP(b),c),this},removeListener:function(a,b,c){return this.emitter().removeListener(a,fP(b),c),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(a,b,c){return this.emitter().one(a,fP(b),c),this},once:function(a,b,c){return this.emitter().one(a,fP(b),c),this},emit:function(a,b){return this.emitter().emit(a,b),this},emitAndNotify:function(a,b){return this.emit(a),this.notify(a,b),this}};ec.eventAliasesOn(fQ);var fR={png:function(a){return a=a||{},this._private.renderer.png(a)},jpg:function(a){var b=this._private.renderer;return(a=a||{}).bg=a.bg||"#fff",b.jpg(a)}};fR.jpeg=fR.jpg;var fS={layout:function(a){if(null==a)return void bu("Layout options must be specified to make a layout");if(null==a.name)return void bu("A `name` must be specified to make a layout");var b,c=a.name,d=this.extension("layout",c);return null==d?void bu("No such layout `"+c+"` found.  Did you forget to import it and `cytoscape.use()` it?"):(b=ax(a.eles)?this.$(a.eles):null!=a.eles?a.eles:this.$(),new d(aW({},a,{cy:this,eles:b})))}};fS.createLayout=fS.makeLayout=fS.layout;var fT=bB({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),fU={renderTo:function(a,b,c,d){return this._private.renderer.renderTo(a,b,c,d),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(a){var b=this.extension("renderer",a.name);if(null==b)return void bu("Can not initialise: No such renderer `".concat(a.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));void 0!==a.wheelSensitivity&&bw("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var c=fT(a);c.cy=this,this._private.renderer=new b(c),this.notify("init")},destroyRenderer:function(){this.notify("destroy");var a=this.container();if(a)for(a._cyreg=null;a.childNodes.length>0;)a.removeChild(a.childNodes[0]);this._private.renderer=null,this.mutableElements().forEach(function(a){var b=a._private;b.rscratch={},b.rstyle={},b.animation.current=[],b.animation.queue=[]})},onRender:function(a){return this.on("render",a)},offRender:function(a){return this.off("render",a)}};fU.invalidateDimensions=fU.resize;var fV={collection:function(a,b){return ax(a)?this.$(a):aD(a)?a.collection():az(a)?(b||(b={}),new fD(this,a,b.unique,b.removed)):new fD(this)},nodes:function(a){var b=this.$(function(a){return a.isNode()});return a?b.filter(a):b},edges:function(a){var b=this.$(function(a){return a.isEdge()});return a?b.filter(a):b},$:function(a){var b=this._private.elements;return a?b.filter(a):b.spawnSelf()},mutableElements:function(){return this._private.elements}};fV.elements=fV.filter=fV.$;var fW={};fW.apply=function(a){for(var b=this._private.cy.collection(),c=0;c<a.length;c++){var d=a[c],e=this.getContextMeta(d);if(!e.empty){var f=this.getContextStyle(e),g=this.applyContextStyle(e,f,d);d._private.appliedInitStyle?this.updateTransitions(d,g.diffProps):d._private.appliedInitStyle=!0,this.updateStyleHints(d)&&b.push(d)}}return b},fW.getPropertiesDiff=function(a,b){var c=this._private.propDiffs=this._private.propDiffs||{},d=a+"-"+b,e=c[d];if(e)return e;for(var f=[],g={},h=0;h<this.length;h++){var i=this[h],j="t"===a[h],k="t"===b[h],l=j!==k,n=i.mappedProperties.length>0;if(l||k&&n){var o=void 0;l&&n||l?o=i.properties:n&&(o=i.mappedProperties);for(var p=0;p<o.length;p++){for(var q=o[p],r=q.name,s=!1,t=h+1;t<this.length;t++){var u=this[t];if("t"===b[t]&&(s=null!=u.properties[q.name]))break}g[r]||s||(g[r]=!0,f.push(r))}}}return c[d]=f,f},fW.getContextMeta=function(a){for(var b,c="",d=a._private.styleCxtKey||"",e=0;e<this.length;e++){var f=this[e];f.selector&&f.selector.matches(a)?c+="t":c+="f"}return b=this.getPropertiesDiff(d,c),a._private.styleCxtKey=c,{key:c,diffPropNames:b,empty:0===b.length}},fW.getContextStyle=function(a){var b=a.key,c=this._private.contextStyles=this._private.contextStyles||{};if(c[b])return c[b];for(var d={_private:{key:b}},e=0;e<this.length;e++){var f=this[e];if("t"===b[e])for(var g=0;g<f.properties.length;g++){var h=f.properties[g];d[h.name]=h}}return c[b]=d,d},fW.applyContextStyle=function(a,b,c){for(var d=a.diffPropNames,e={},f=this.types,g=0;g<d.length;g++){var h=d[g],i=b[h],j=c.pstyle(h);if(!i)if(!j)continue;else i=j.bypass?{name:h,deleteBypassed:!0}:{name:h,delete:!0};if(j!==i){if(i.mapped===f.fn&&null!=j&&null!=j.mapping&&j.mapping.value===i.value){var k=j.mapping;if((k.fnValue=i.value(c))===k.prevFnValue)continue}var l=e[h]={prev:j};this.applyParsedProperty(c,i),l.next=c.pstyle(h),l.next&&l.next.bypass&&(l.next=l.next.bypassed)}}return{diffProps:e}},fW.updateStyleHints=function(a){var b=a._private,c=this,d=c.propertyGroupNames,e=c.propertyGroupKeys,f=function(a,b,d){return c.getPropertiesHash(a,b,d)},g=b.styleKey;if(a.removed())return!1;var h="nodes"===b.group,i=a._private.style;d=Object.keys(i);for(var j=0;j<e.length;j++){var k=e[j];b.styleKeys[k]=[9261,5381]}for(var l=function(a,c){return b.styleKeys[c][0]=be(a,b.styleKeys[c][0])},n=function(a,c){return b.styleKeys[c][1]=bf(a,b.styleKeys[c][1])},o=function(a,b){for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);l(d,b),n(d,b)}},p=0;p<d.length;p++){var q=d[p],r=i[q];if(null!=r){var s,t,u=this.properties[q],v=u.type,w=u.groupKey,x=void 0;null!=u.hashOverride?x=u.hashOverride(a,r):null!=r.pfValue&&(x=r.pfValue);var y=null==u.enums?r.value:null,z=null!=x,A=null!=y,B=z||A,C=r.units;v.number&&B&&!v.multiple?(l(t=-128<(s=z?x:y)&&s<128&&Math.floor(s)!==s?2e9-(1024*s|0):s,w),n(t,w),z||null==C||o(C,w)):o(r.strValue,w)}}for(var D=[9261,5381],E=0;E<e.length;E++){var F=e[E],G=b.styleKeys[F];D[0]=be(G[0],D[0]),D[1]=bf(G[1],D[1])}b.styleKey=2097152*D[0]+D[1];var H=b.styleKeys;b.labelDimsKey=bg(H.labelDimensions);var I=f(a,["label"],H.labelDimensions);if(b.labelKey=bg(I),b.labelStyleKey=bg(bh(H.commonLabel,I)),!h){var J=f(a,["source-label"],H.labelDimensions);b.sourceLabelKey=bg(J),b.sourceLabelStyleKey=bg(bh(H.commonLabel,J));var K=f(a,["target-label"],H.labelDimensions);b.targetLabelKey=bg(K),b.targetLabelStyleKey=bg(bh(H.commonLabel,K))}if(h){var L=b.styleKeys,M=L.nodeBody,N=L.nodeBorder,O=L.nodeOutline,P=L.backgroundImage,Q=L.compound,R=L.pie,S=L.stripe;b.nodeKey=bg([M,N,O,P,Q,R,S].filter(function(a){return null!=a}).reduce(bh,[9261,5381])),b.hasPie=null!=R&&9261!==R[0]&&5381!==R[1],b.hasStripe=null!=S&&9261!==S[0]&&5381!==S[1]}return g!==b.styleKey},fW.clearStyleHints=function(a){var b=a._private;b.styleCxtKey="",b.styleKeys={},b.styleKey=null,b.labelKey=null,b.labelStyleKey=null,b.sourceLabelKey=null,b.sourceLabelStyleKey=null,b.targetLabelKey=null,b.targetLabelStyleKey=null,b.nodeKey=null,b.hasPie=null,b.hasStripe=null},fW.applyParsedProperty=function(a,b){var c=this,d=b,e=a._private.style,f=c.types,g=c.properties[d.name].type,h=d.bypass,i=e[d.name],j=i&&i.bypass,k=a._private,l="mapping",n=function(a){return null==a?null:null!=a.pfValue?a.pfValue:a.value},o=function(){var b=n(i),e=n(d);c.checkTriggers(a,d.name,b,e)};if("curve-style"===b.name&&a.isEdge()&&("bezier"!==b.value&&a.isLoop()||"haystack"===b.value&&(a.source().isParent()||a.target().isParent()))&&(d=b=this.parse(b.name,"bezier",h)),d.delete)return e[d.name]=void 0,o(),!0;if(d.deleteBypassed)if(!i)return o(),!0;else if(i.bypass)return i.bypassed=void 0,o(),!0;else return!1;if(d.deleteBypass)if(!i)return o(),!0;else if(i.bypass)return e[d.name]=i.bypassed,o(),!0;else return!1;var p=function(){bw("Do not assign mappings to elements without corresponding data (i.e. ele `"+a.id()+"` has no mapping for property `"+d.name+"` with data field `"+d.field+"`); try a `["+d.field+"]` selector to limit scope to elements with `"+d.field+"` defined")};switch(d.mapped){case f.mapData:for(var q,r,s=d.field.split("."),t=k.data,u=0;u<s.length&&t;u++)t=t[s[u]];if(null==t)return p(),!1;if(!aB(t))return bw("Do not use continuous mappers without specifying numeric data (i.e. `"+d.field+": "+t+"` for `"+a.id()+"` is non-numeric)"),!1;var v=d.fieldMax-d.fieldMin;if((r=0===v?0:(t-d.fieldMin)/v)<0?r=0:r>1&&(r=1),g.color){var w=d.valueMin[0],x=d.valueMax[0],y=d.valueMin[1],z=d.valueMax[1],A=d.valueMin[2],B=d.valueMax[2],C=null==d.valueMin[3]?1:d.valueMin[3],D=[Math.round(w+(x-w)*r),Math.round(y+(z-y)*r),Math.round(A+(B-A)*r),Math.round(C+((null==d.valueMax[3]?1:d.valueMax[3])-C)*r)];q={bypass:d.bypass,name:d.name,value:D,strValue:"rgb("+D[0]+", "+D[1]+", "+D[2]+")"}}else{if(!g.number)return!1;var E=d.valueMin+(d.valueMax-d.valueMin)*r;q=this.parse(d.name,E,d.bypass,l)}if(!q)return p(),!1;q.mapping=d,d=q;break;case f.data:for(var F=d.field.split("."),G=k.data,H=0;H<F.length&&G;H++)G=G[F[H]];if(null!=G&&(q=this.parse(d.name,G,d.bypass,l)),!q)return p(),!1;q.mapping=d,d=q;break;case f.fn:var I=d.value,J=null!=d.fnValue?d.fnValue:I(a);if(d.prevFnValue=J,null==J)return bw("Custom function mappers may not return null (i.e. `"+d.name+"` for ele `"+a.id()+"` is null)"),!1;if(!(q=this.parse(d.name,J,d.bypass,l)))return bw("Custom function mappers may not return invalid values for the property type (i.e. `"+d.name+"` for ele `"+a.id()+"` is invalid)"),!1;q.mapping=bx(d),d=q;break;case void 0:break;default:return!1}return h?(j?d.bypassed=i.bypassed:d.bypassed=i,e[d.name]=d):j?i.bypassed=d:e[d.name]=d,o(),!0},fW.cleanElements=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(this.clearStyleHints(d),d.dirtyCompoundBoundsCache(),d.dirtyBoundingBoxCache(),b)for(var e=d._private.style,f=Object.keys(e),g=0;g<f.length;g++){var h=f[g],i=e[h];null!=i&&(i.bypass?i.bypassed=null:e[h]=null)}else d._private.style={}}},fW.update=function(){this._private.cy.mutableElements().updateStyle()},fW.updateTransitions=function(a,b){var c=this,d=a._private,e=a.pstyle("transition-property").value,f=a.pstyle("transition-duration").pfValue,g=a.pstyle("transition-delay").pfValue;if(e.length>0&&f>0){for(var h={},i=!1,j=0;j<e.length;j++){var k=e[j],l=a.pstyle(k),n=b[k];if(n){var o=n.prev,p=null!=n.next?n.next:l,q=!1,r=void 0;o&&(aB(o.pfValue)&&aB(p.pfValue)?(q=p.pfValue-o.pfValue,r=o.pfValue+1e-6*q):aB(o.value)&&aB(p.value)?(q=p.value-o.value,r=o.value+1e-6*q):az(o.value)&&az(p.value)&&(q=o.value[0]!==p.value[0]||o.value[1]!==p.value[1]||o.value[2]!==p.value[2],r=o.strValue),q&&(h[k]=p.strValue,this.applyBypass(a,k,r),i=!0))}}if(!i)return;d.transitioning=!0,new dX(function(b){g>0?a.delayAnimation(g).play().promise().then(b):b()}).then(function(){return a.animation({style:h,duration:f,easing:a.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){c.removeBypasses(a,e),a.emitAndNotify("style"),d.transitioning=!1})}else d.transitioning&&(this.removeBypasses(a,e),a.emitAndNotify("style"),d.transitioning=!1)},fW.checkTrigger=function(a,b,c,d,e,f){var g=this.properties[b],h=e(g);!a.removed()&&null!=h&&h(c,d,a)&&f(g)},fW.checkZOrderTrigger=function(a,b,c,d){var e=this;this.checkTrigger(a,b,c,d,function(a){return a.triggersZOrder},function(){e._private.cy.notify("zorder",a)})},fW.checkBoundsTrigger=function(a,b,c,d){this.checkTrigger(a,b,c,d,function(a){return a.triggersBounds},function(b){a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache()})},fW.checkConnectedEdgesBoundsTrigger=function(a,b,c,d){this.checkTrigger(a,b,c,d,function(a){return a.triggersBoundsOfConnectedEdges},function(b){a.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})},fW.checkParallelEdgesBoundsTrigger=function(a,b,c,d){this.checkTrigger(a,b,c,d,function(a){return a.triggersBoundsOfParallelEdges},function(b){a.parallelEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})},fW.checkTriggers=function(a,b,c,d){a.dirtyStyleCache(),this.checkZOrderTrigger(a,b,c,d),this.checkBoundsTrigger(a,b,c,d),this.checkConnectedEdgesBoundsTrigger(a,b,c,d),this.checkParallelEdgesBoundsTrigger(a,b,c,d)};var fX={};fX.applyBypass=function(a,b,c,d){var e=[];if("*"===b||"**"===b){if(void 0!==c)for(var f=0;f<this.properties.length;f++){var g=this.properties[f].name,h=this.parse(g,c,!0);h&&e.push(h)}}else if(ax(b)){var i=this.parse(b,c,!0);i&&e.push(i)}else{if(!aA(b))return!1;d=c;for(var j=Object.keys(b),k=0;k<j.length;k++){var l=j[k],n=b[l];if(void 0===n&&(n=b[aM(l)]),void 0!==n){var o=this.parse(l,n,!0);o&&e.push(o)}}}if(0===e.length)return!1;for(var p=!1,q=0;q<a.length;q++){for(var r=a[q],s={},t=void 0,u=0;u<e.length;u++){var v=e[u];if(d){var w=r.pstyle(v.name);t=s[v.name]={prev:w}}p=this.applyParsedProperty(r,bx(v))||p,d&&(t.next=r.pstyle(v.name))}p&&this.updateStyleHints(r),d&&this.updateTransitions(r,s,!0)}return p},fX.overrideBypass=function(a,b,c){b=aL(b);for(var d=0;d<a.length;d++){var e=a[d],f=e._private.style[b],g=this.properties[b].type,h=g.color,i=g.mutiple,j=f?null!=f.pfValue?f.pfValue:f.value:null;f&&f.bypass?(f.value=c,null!=f.pfValue&&(f.pfValue=c),h?f.strValue="rgb("+c.join(",")+")":i?f.strValue=c.join(" "):f.strValue=""+c,this.updateStyleHints(e)):this.applyBypass(e,b,c),this.checkTriggers(e,b,j,c)}},fX.removeAllBypasses=function(a,b){return this.removeBypasses(a,this.propertyNames,b)},fX.removeBypasses=function(a,b,c){for(var d=0;d<a.length;d++){for(var e=a[d],f={},g=0;g<b.length;g++){var h=b[g],i=this.properties[h],j=e.pstyle(i.name);if(j&&j.bypass){var k=this.parse(h,"",!0),l=f[i.name]={prev:j};this.applyParsedProperty(e,k),l.next=e.pstyle(i.name)}}this.updateStyleHints(e),c&&this.updateTransitions(e,f,!0)}};var fY={};fY.getEmSizeInPixels=function(){var a=this.containerCss("font-size");return null!=a?parseFloat(a):1},fY.containerCss=function(a){var b=this._private.cy,c=b.container(),d=b.window();if(d&&c&&d.getComputedStyle)return d.getComputedStyle(c).getPropertyValue(a)};var fZ={};fZ.getRenderedStyle=function(a,b){return b?this.getStylePropertyValue(a,b,!0):this.getRawStyle(a,!0)},fZ.getRawStyle=function(a,b){if(a=a[0]){for(var c={},d=0;d<this.properties.length;d++){var e=this.properties[d],f=this.getStylePropertyValue(a,e.name,b);null!=f&&(c[e.name]=f,c[aM(e.name)]=f)}return c}},fZ.getIndexedStyle=function(a,b,c,d){var e=a.pstyle(b)[c][d];return null!=e?e:a.cy().style().getDefaultProperty(b)[c][0]},fZ.getStylePropertyValue=function(a,b,c){if(a=a[0]){var d=this.properties[b];d.alias&&(d=d.pointsTo);var e=d.type,f=a.pstyle(d.name);if(f){var g=f.value,h=f.units,i=f.strValue;if(c&&e.number&&null!=g&&aB(g)){var j=a.cy().zoom(),k=function(a){return a*j},l=function(a,b){return k(a)+b},n=az(g);if(n?h.every(function(a){return null!=a}):null!=h)if(n)return g.map(function(a,b){return l(a,h[b])}).join(" ");else return l(g,h);return n?g.map(function(a){return ax(a)?a:""+k(a)}).join(" "):""+k(g)}if(null!=i)return i}return null}},fZ.getAnimationStartStyle=function(a,b){for(var c={},d=0;d<b.length;d++){var e=b[d].name,f=a.pstyle(e);void 0!==f&&(f=aA(f)?this.parse(e,f.strValue):this.parse(e,f)),f&&(c[e]=f)}return c},fZ.getPropsList=function(a){var b=[],c=this.properties;if(a)for(var d=Object.keys(a),e=0;e<d.length;e++){var f=d[e],g=a[f],h=c[f]||c[aL(f)],i=this.parse(h.name,g);i&&b.push(i)}return b},fZ.getNonDefaultPropertiesHash=function(a,b,c){var d,e,f,g,h,i,j=c.slice();for(h=0;h<b.length;h++)if(d=b[h],null!=(e=a.pstyle(d,!1)))if(null!=e.pfValue)j[0]=be(g,j[0]),j[1]=bf(g,j[1]);else for(i=0,f=e.strValue;i<f.length;i++)g=f.charCodeAt(i),j[0]=be(g,j[0]),j[1]=bf(g,j[1]);return j},fZ.getPropertiesHash=fZ.getNonDefaultPropertiesHash;var f$={};f$.appendFromJson=function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.selector,e=c.style||c.css,f=Object.keys(e);this.selector(d);for(var g=0;g<f.length;g++){var h=f[g],i=e[h];this.css(h,i)}}return this},f$.fromJson=function(a){return this.resetToDefault(),this.appendFromJson(a),this},f$.json=function(){for(var a=[],b=this.defaultLength;b<this.length;b++){for(var c=this[b],d=c.selector,e=c.properties,f={},g=0;g<e.length;g++){var h=e[g];f[h.name]=h.strValue}a.push({selector:d?d.toString():"core",style:f})}return a};var f_={};f_.appendFromString=function(a){var b,c,d,e=""+a;function f(){e=e.length>b.length?e.substr(b.length):""}function g(){c=c.length>d.length?c.substr(d.length):""}for(e=e.replace(/[/][*](\s|.)+?[*][/]/g,"");!e.match(/^\s*$/);){var h=e.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!h){bw("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+e);break}b=h[0];var i=h[1];if("core"!==i&&new eu(i).invalid){bw("Skipping parsing of block: Invalid selector found in string stylesheet: "+i),f();continue}var j=h[2],k=!1;c=j;for(var l=[];!c.match(/^\s*$/);){var n=c.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!n){bw("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+j),k=!0;break}d=n[0];var o=n[1],p=n[2];if(!this.properties[o]){bw("Skipping property: Invalid property name in: "+d),g();continue}if(!this.parse(o,p)){bw("Skipping property: Invalid property definition in: "+d),g();continue}l.push({name:o,val:p}),g()}if(k){f();break}this.selector(i);for(var q=0;q<l.length;q++){var r=l[q];this.css(r.name,r.val)}f()}return this},f_.fromString=function(a){return this.resetToDefault(),this.appendFromString(a),this};var f0={};!function(){var a=function(a){return"^"+a+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},b=function(a){var b=aQ+"|\\w+|"+aS+"|"+aU+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+a+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+aQ+")\\s*\\,\\s*("+aQ+")\\s*,\\s*("+b+")\\s*\\,\\s*("+b+")\\)$"},c=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];f0.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:b("mapData")},mapLayoutData:{mapping:!0,regex:b("mapLayoutData")},mapScratch:{mapping:!0,regex:b("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:c,singleRegexMatchValue:!0},urls:{regexes:c,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(a,b){switch(a.length){case 2:return"deg"!==b[0]&&"rad"!==b[0]&&"deg"!==b[1]&&"rad"!==b[1];case 1:return ax(a[0])||"deg"===b[0]||"rad"===b[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+aQ+")\\s*,\\s*("+aQ+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+aQ+")\\s*,\\s*("+aQ+")\\s*,\\s*("+aQ+")\\s*,\\s*("+aQ+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(a){var b=a.length;return 1===b||2===b||4===b}}};var d=function(a,b){return(null==a||null==b)&&a!==b||0==a&&0!=b||0!=a&&0==b},e=function(a,b){return a!=b},f=f0.types,g=[{name:"label",type:f.text,triggersBounds:e,triggersZOrder:function(a,b){var c=aI(a),d=aI(b);return c&&!d||!c&&d}},{name:"text-rotation",type:f.textRotation,triggersBounds:e},{name:"text-margin-x",type:f.bidirectionalSize,triggersBounds:e},{name:"text-margin-y",type:f.bidirectionalSize,triggersBounds:e}],h=[{name:"source-label",type:f.text,triggersBounds:e},{name:"source-text-rotation",type:f.textRotation,triggersBounds:e},{name:"source-text-margin-x",type:f.bidirectionalSize,triggersBounds:e},{name:"source-text-margin-y",type:f.bidirectionalSize,triggersBounds:e},{name:"source-text-offset",type:f.size,triggersBounds:e}],i=[{name:"target-label",type:f.text,triggersBounds:e},{name:"target-text-rotation",type:f.textRotation,triggersBounds:e},{name:"target-text-margin-x",type:f.bidirectionalSize,triggersBounds:e},{name:"target-text-margin-y",type:f.bidirectionalSize,triggersBounds:e},{name:"target-text-offset",type:f.size,triggersBounds:e}],j=[{name:"font-family",type:f.fontFamily,triggersBounds:e},{name:"font-style",type:f.fontStyle,triggersBounds:e},{name:"font-weight",type:f.fontWeight,triggersBounds:e},{name:"font-size",type:f.size,triggersBounds:e},{name:"text-transform",type:f.textTransform,triggersBounds:e},{name:"text-wrap",type:f.textWrap,triggersBounds:e},{name:"text-overflow-wrap",type:f.textOverflowWrap,triggersBounds:e},{name:"text-max-width",type:f.size,triggersBounds:e},{name:"text-outline-width",type:f.size,triggersBounds:e},{name:"line-height",type:f.positiveNumber,triggersBounds:e}],k=[{name:"text-valign",type:f.valign,triggersBounds:e},{name:"text-halign",type:f.halign,triggersBounds:e},{name:"color",type:f.color},{name:"text-outline-color",type:f.color},{name:"text-outline-opacity",type:f.zeroOneNumber},{name:"text-background-color",type:f.color},{name:"text-background-opacity",type:f.zeroOneNumber},{name:"text-background-padding",type:f.size,triggersBounds:e},{name:"text-border-opacity",type:f.zeroOneNumber},{name:"text-border-color",type:f.color},{name:"text-border-width",type:f.size,triggersBounds:e},{name:"text-border-style",type:f.borderStyle,triggersBounds:e},{name:"text-background-shape",type:f.textBackgroundShape,triggersBounds:e},{name:"text-justification",type:f.justification},{name:"box-select-labels",type:f.bool,triggersBounds:e}],l=[{name:"events",type:f.bool,triggersZOrder:e},{name:"text-events",type:f.bool,triggersZOrder:e},{name:"box-selection",type:f.boxSelection,triggersZOrder:e}],n=[{name:"display",type:f.display,triggersZOrder:e,triggersBounds:e,triggersBoundsOfConnectedEdges:e,triggersBoundsOfParallelEdges:function(a,b,c){return a!==b&&"bezier"===c.pstyle("curve-style").value}},{name:"visibility",type:f.visibility,triggersZOrder:e},{name:"opacity",type:f.zeroOneNumber,triggersZOrder:d},{name:"text-opacity",type:f.zeroOneNumber},{name:"min-zoomed-font-size",type:f.size},{name:"z-compound-depth",type:f.zCompoundDepth,triggersZOrder:e},{name:"z-index-compare",type:f.zIndexCompare,triggersZOrder:e},{name:"z-index",type:f.number,triggersZOrder:e}],o=[{name:"overlay-padding",type:f.size,triggersBounds:e},{name:"overlay-color",type:f.color},{name:"overlay-opacity",type:f.zeroOneNumber,triggersBounds:d},{name:"overlay-shape",type:f.overlayShape,triggersBounds:e},{name:"overlay-corner-radius",type:f.cornerRadius}],p=[{name:"underlay-padding",type:f.size,triggersBounds:e},{name:"underlay-color",type:f.color},{name:"underlay-opacity",type:f.zeroOneNumber,triggersBounds:d},{name:"underlay-shape",type:f.overlayShape,triggersBounds:e},{name:"underlay-corner-radius",type:f.cornerRadius}],q=[{name:"transition-property",type:f.propList},{name:"transition-duration",type:f.time},{name:"transition-delay",type:f.time},{name:"transition-timing-function",type:f.easing}],r=function(a,b){return"label"===b.value?-a.poolIndex():b.pfValue},s=[{name:"height",type:f.nodeSize,triggersBounds:e,hashOverride:r},{name:"width",type:f.nodeSize,triggersBounds:e,hashOverride:r},{name:"shape",type:f.nodeShape,triggersBounds:e},{name:"shape-polygon-points",type:f.polygonPointList,triggersBounds:e},{name:"corner-radius",type:f.cornerRadius},{name:"background-color",type:f.color},{name:"background-fill",type:f.fill},{name:"background-opacity",type:f.zeroOneNumber},{name:"background-blacken",type:f.nOneOneNumber},{name:"background-gradient-stop-colors",type:f.colors},{name:"background-gradient-stop-positions",type:f.percentages},{name:"background-gradient-direction",type:f.gradientDirection},{name:"padding",type:f.sizeMaybePercent,triggersBounds:e},{name:"padding-relative-to",type:f.paddingRelativeTo,triggersBounds:e},{name:"bounds-expansion",type:f.boundsExpansion,triggersBounds:e}],t=[{name:"border-color",type:f.color},{name:"border-opacity",type:f.zeroOneNumber},{name:"border-width",type:f.size,triggersBounds:e},{name:"border-style",type:f.borderStyle},{name:"border-cap",type:f.lineCap},{name:"border-join",type:f.lineJoin},{name:"border-dash-pattern",type:f.numbers},{name:"border-dash-offset",type:f.number},{name:"border-position",type:f.linePosition}],u=[{name:"outline-color",type:f.color},{name:"outline-opacity",type:f.zeroOneNumber},{name:"outline-width",type:f.size,triggersBounds:e},{name:"outline-style",type:f.borderStyle},{name:"outline-offset",type:f.size,triggersBounds:e}],v=[{name:"background-image",type:f.urls},{name:"background-image-crossorigin",type:f.bgCrossOrigin},{name:"background-image-opacity",type:f.zeroOneNumbers},{name:"background-image-containment",type:f.bgContainment},{name:"background-image-smoothing",type:f.bools},{name:"background-position-x",type:f.bgPos},{name:"background-position-y",type:f.bgPos},{name:"background-width-relative-to",type:f.bgRelativeTo},{name:"background-height-relative-to",type:f.bgRelativeTo},{name:"background-repeat",type:f.bgRepeat},{name:"background-fit",type:f.bgFit},{name:"background-clip",type:f.bgClip},{name:"background-width",type:f.bgWH},{name:"background-height",type:f.bgWH},{name:"background-offset-x",type:f.bgPos},{name:"background-offset-y",type:f.bgPos}],w=[{name:"position",type:f.position,triggersBounds:e},{name:"compound-sizing-wrt-labels",type:f.compoundIncludeLabels,triggersBounds:e},{name:"min-width",type:f.size,triggersBounds:e},{name:"min-width-bias-left",type:f.sizeMaybePercent,triggersBounds:e},{name:"min-width-bias-right",type:f.sizeMaybePercent,triggersBounds:e},{name:"min-height",type:f.size,triggersBounds:e},{name:"min-height-bias-top",type:f.sizeMaybePercent,triggersBounds:e},{name:"min-height-bias-bottom",type:f.sizeMaybePercent,triggersBounds:e}],x=[{name:"line-style",type:f.lineStyle},{name:"line-color",type:f.color},{name:"line-fill",type:f.fill},{name:"line-cap",type:f.lineCap},{name:"line-opacity",type:f.zeroOneNumber},{name:"line-dash-pattern",type:f.numbers},{name:"line-dash-offset",type:f.number},{name:"line-outline-width",type:f.size},{name:"line-outline-color",type:f.color},{name:"line-gradient-stop-colors",type:f.colors},{name:"line-gradient-stop-positions",type:f.percentages},{name:"curve-style",type:f.curveStyle,triggersBounds:e,triggersBoundsOfParallelEdges:function(a,b){return a!==b&&("bezier"===a||"bezier"===b)}},{name:"haystack-radius",type:f.zeroOneNumber,triggersBounds:e},{name:"source-endpoint",type:f.edgeEndpoint,triggersBounds:e},{name:"target-endpoint",type:f.edgeEndpoint,triggersBounds:e},{name:"control-point-step-size",type:f.size,triggersBounds:e},{name:"control-point-distances",type:f.bidirectionalSizes,triggersBounds:e},{name:"control-point-weights",type:f.numbers,triggersBounds:e},{name:"segment-distances",type:f.bidirectionalSizes,triggersBounds:e},{name:"segment-weights",type:f.numbers,triggersBounds:e},{name:"segment-radii",type:f.numbers,triggersBounds:e},{name:"radius-type",type:f.radiusType,triggersBounds:e},{name:"taxi-turn",type:f.bidirectionalSizeMaybePercent,triggersBounds:e},{name:"taxi-turn-min-distance",type:f.size,triggersBounds:e},{name:"taxi-direction",type:f.axisDirection,triggersBounds:e},{name:"taxi-radius",type:f.number,triggersBounds:e},{name:"edge-distances",type:f.edgeDistances,triggersBounds:e},{name:"arrow-scale",type:f.positiveNumber,triggersBounds:e},{name:"loop-direction",type:f.angle,triggersBounds:e},{name:"loop-sweep",type:f.angle,triggersBounds:e},{name:"source-distance-from-node",type:f.size,triggersBounds:e},{name:"target-distance-from-node",type:f.size,triggersBounds:e}],y=[{name:"ghost",type:f.bool,triggersBounds:e},{name:"ghost-offset-x",type:f.bidirectionalSize,triggersBounds:e},{name:"ghost-offset-y",type:f.bidirectionalSize,triggersBounds:e},{name:"ghost-opacity",type:f.zeroOneNumber}],z=[{name:"selection-box-color",type:f.color},{name:"selection-box-opacity",type:f.zeroOneNumber},{name:"selection-box-border-color",type:f.color},{name:"selection-box-border-width",type:f.size},{name:"active-bg-color",type:f.color},{name:"active-bg-opacity",type:f.zeroOneNumber},{name:"active-bg-size",type:f.size},{name:"outside-texture-bg-color",type:f.color},{name:"outside-texture-bg-opacity",type:f.zeroOneNumber}],A=[];f0.pieBackgroundN=16,A.push({name:"pie-size",type:f.sizeMaybePercent}),A.push({name:"pie-hole",type:f.sizeMaybePercent}),A.push({name:"pie-start-angle",type:f.angle});for(var B=1;B<=f0.pieBackgroundN;B++)A.push({name:"pie-"+B+"-background-color",type:f.color}),A.push({name:"pie-"+B+"-background-size",type:f.percent}),A.push({name:"pie-"+B+"-background-opacity",type:f.zeroOneNumber});var C=[];f0.stripeBackgroundN=16,C.push({name:"stripe-size",type:f.sizeMaybePercent}),C.push({name:"stripe-direction",type:f.axisDirectionPrimary});for(var D=1;D<=f0.stripeBackgroundN;D++)C.push({name:"stripe-"+D+"-background-color",type:f.color}),C.push({name:"stripe-"+D+"-background-size",type:f.percent}),C.push({name:"stripe-"+D+"-background-opacity",type:f.zeroOneNumber});var E=[],F=f0.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:f.arrowShape,triggersBounds:e},{name:"arrow-color",type:f.color},{name:"arrow-fill",type:f.arrowFill},{name:"arrow-width",type:f.arrowWidth}].forEach(function(a){F.forEach(function(b){var c=b+"-"+a.name,d=a.type,e=a.triggersBounds;E.push({name:c,type:d,triggersBounds:e})})},{});var G=f0.properties=[].concat(l,q,n,o,p,y,k,j,g,h,i,s,t,u,v,A,C,w,x,E,z),H=f0.propertyGroups={behavior:l,transition:q,visibility:n,overlay:o,underlay:p,ghost:y,commonLabel:k,labelDimensions:j,mainLabel:g,sourceLabel:h,targetLabel:i,nodeBody:s,nodeBorder:t,nodeOutline:u,backgroundImage:v,pie:A,stripe:C,compound:w,edgeLine:x,edgeArrow:E,core:z},I=f0.propertyGroupNames={};(f0.propertyGroupKeys=Object.keys(H)).forEach(function(a){I[a]=H[a].map(function(a){return a.name}),H[a].forEach(function(b){return b.groupKey=a})});var J=f0.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];f0.propertyNames=G.map(function(a){return a.name});for(var K=0;K<G.length;K++){var L=G[K];G[L.name]=L}for(var M=0;M<J.length;M++){var N=J[M],O=G[N.pointsTo],P={name:N.name,alias:!0,pointsTo:O};G.push(P),G[N.name]=P}}(),f0.getDefaultProperty=function(a){return this.getDefaultProperties()[a]},f0.getDefaultProperties=function(){var a=this._private;if(null!=a.defaultProperties)return a.defaultProperties;for(var b=aW({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(a,b){for(var c=1;c<=f0.pieBackgroundN;c++){var d=b.name.replace("{{i}}",c),e=b.value;a[d]=e}return a},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(a,b){for(var c=1;c<=f0.stripeBackgroundN;c++){var d=b.name.replace("{{i}}",c),e=b.value;a[d]=e}return a},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(a,b){return f0.arrowPrefixes.forEach(function(c){var d=c+"-"+b.name,e=b.value;a[d]=e}),a},{})),c={},d=0;d<this.properties.length;d++){var e=this.properties[d];if(!e.pointsTo){var f=e.name,g=b[f],h=this.parse(f,g);c[f]=h}}return a.defaultProperties=c,a.defaultProperties},f0.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var f1={};f1.parse=function(a,b,c,d){if(ay(b))return this.parseImplWarn(a,b,c,d);var e,f=bk(a,""+b,c?"t":"f","mapping"===d||!0===d||!1===d||null==d?"dontcare":d),g=this.propCache=this.propCache||[];return(e=g[f])||(e=g[f]=this.parseImplWarn(a,b,c,d)),(c||"mapping"===d)&&(e=bx(e))&&(e.value=bx(e.value)),e},f1.parseImplWarn=function(a,b,c,d){var e=this.parseImpl(a,b,c,d);return e||null==b||bw("The style property `".concat(a,": ").concat(b,"` is invalid")),e&&("width"===e.name||"height"===e.name)&&"label"===b&&bw("The style value of `label` is deprecated for `"+e.name+"`"),e},f1.parseImpl=function(a,b,c,d){a=aL(a);var e=this.properties[a],f=b,g=this.types;if(!e||void 0===b)return null;e.alias&&(a=(e=e.pointsTo).name);var h=ax(b);h&&(b=b.trim());var i=e.type;if(!i)return null;if(c&&(""===b||null===b))return{name:a,value:b,bypass:!0,deleteBypass:!0};if(ay(b))return{name:a,value:b,strValue:"fn",mapped:g.fn,bypass:c};if(!h||d||b.length<7||"a"!==b[1]);else if(b.length>=7&&"d"===b[0]&&(q=new RegExp(g.data.regex).exec(b))){if(c)return!1;var j=g.data;return{name:a,value:q,strValue:""+b,mapped:j,field:q[1],bypass:c}}else if(b.length>=10&&"m"===b[0]&&(r=new RegExp(g.mapData.regex).exec(b))){if(c||i.multiple)return!1;var k=g.mapData;if(!(i.color||i.number))return!1;var l=this.parse(a,r[4]);if(!l||l.mapped)return!1;var n=this.parse(a,r[5]);if(!n||n.mapped)return!1;if(l.pfValue===n.pfValue||l.strValue===n.strValue)return bw("`"+a+": "+b+"` is not a valid mapper because the output range is zero; converting to `"+a+": "+l.strValue+"`"),this.parse(a,l.strValue);if(i.color){var o=l.value,p=n.value;if(o[0]===p[0]&&o[1]===p[1]&&o[2]===p[2]&&(o[3]===p[3]||(null==o[3]||1===o[3])&&(null==p[3]||1===p[3])))return!1}return{name:a,value:r,strValue:""+b,mapped:k,field:r[1],fieldMin:parseFloat(r[2]),fieldMax:parseFloat(r[3]),valueMin:l.value,valueMax:n.value,bypass:c}}if(i.multiple&&"multiple"!==d){if(s=h?b.split(/\s+/):az(b)?b:[b],i.evenMultiple&&s.length%2!=0)return null;for(var q,r,s,t=[],u=[],v=[],w="",x=!1,y=0;y<s.length;y++){var z=this.parse(a,s[y],c,"multiple");x=x||ax(z.value),t.push(z.value),v.push(null!=z.pfValue?z.pfValue:z.value),u.push(z.units),w+=(y>0?" ":"")+z.strValue}if(i.validate&&!i.validate(t,u))return null;if(i.singleEnum&&x)if(1===t.length&&ax(t[0]))return{name:a,value:t[0],strValue:t[0],bypass:c};else return null;return{name:a,value:t,pfValue:v,strValue:w,bypass:c,units:u}}var A=function(){for(var d=0;d<i.enums.length;d++)if(i.enums[d]===b)return{name:a,value:b,strValue:""+b,bypass:c};return null};if(i.number){var B,C,D="px";if(i.units&&(C=i.units),i.implicitUnits&&(D=i.implicitUnits),!i.unitless)if(h){var E="px|em"+(i.allowPercent?"|\\%":"");C&&(E=C);var F=b.match("^("+aQ+")("+E+")?$");F&&(b=F[1],C=F[2]||D)}else(!C||i.implicitUnits)&&(C=D);if(isNaN(b=parseFloat(b))&&void 0===i.enums)return null;if(isNaN(b)&&void 0!==i.enums)return b=f,A();if(i.integer&&!(aB(B=b)&&Math.floor(B)===B)||void 0!==i.min&&(b<i.min||i.strictMin&&b===i.min)||void 0!==i.max&&(b>i.max||i.strictMax&&b===i.max))return null;var G={name:a,value:b,strValue:""+b+(C||""),units:C,bypass:c};return i.unitless||"px"!==C&&"em"!==C?G.pfValue=b:G.pfValue="px"!==C&&C?this.getEmSizeInPixels()*b:b,("ms"===C||"s"===C)&&(G.pfValue="ms"===C?b:1e3*b),("deg"===C||"rad"===C)&&(G.pfValue="rad"===C?b:Math.PI*b/180),"%"===C&&(G.pfValue=b/100),G}if(i.propList){var H=[],I=""+b;if("none"===I);else{for(var J=I.split(/\s*,\s*|\s+/),K=0;K<J.length;K++){var L=J[K].trim();this.properties[L]?H.push(L):bw("`"+L+"` is not a valid property name")}if(0===H.length)return null}return{name:a,value:H,strValue:0===H.length?"none":H.join(" "),bypass:c}}if(i.color){var M=a$(b);return M?{name:a,value:M,pfValue:M,strValue:"rgb("+M[0]+","+M[1]+","+M[2]+")",bypass:c}:null}if(i.regex||i.regexes){if(i.enums){var N=A();if(N)return N}for(var O=i.regexes?i.regexes:[i.regex],P=0;P<O.length;P++){var Q=new RegExp(O[P]).exec(b);if(Q)return{name:a,value:i.singleRegexMatchValue?Q[1]:Q,strValue:""+b,bypass:c}}return null}if(i.string)return{name:a,value:""+b,strValue:""+b,bypass:c};else if(i.enums)return A();else return null};var f2=function(a){return this instanceof f2?aG(a)?void(this._private={cy:a,coreStyle:{}},this.length=0,this.resetToDefault()):void bu("A style must have a core reference"):new f2(a)},f3=f2.prototype;f3.instanceString=function(){return"style"},f3.clear=function(){for(var a=this._private,b=a.cy.elements(),c=0;c<this.length;c++)this[c]=void 0;return this.length=0,a.contextStyles={},a.propDiffs={},this.cleanElements(b,!0),b.forEach(function(a){var b=a[0]._private;b.styleDirty=!0,b.appliedInitStyle=!1}),this},f3.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},f3.core=function(a){return this._private.coreStyle[a]||this.getDefaultProperty(a)},f3.selector=function(a){var b="core"===a?null:new eu(a),c=this.length++;return this[c]={selector:b,properties:[],mappedProperties:[],index:c},this},f3.css=function(){var a=arguments;if(1===a.length)for(var b=a[0],c=0;c<this.properties.length;c++){var d=this.properties[c],e=b[d.name];void 0===e&&(e=b[aM(d.name)]),void 0!==e&&this.cssRule(d.name,e)}else 2===a.length&&this.cssRule(a[0],a[1]);return this},f3.style=f3.css,f3.cssRule=function(a,b){var c=this.parse(a,b);if(c){var d=this.length-1;this[d].properties.push(c),this[d].properties[c.name]=c,c.name.match(/pie-(\d+)-background-size/)&&c.value&&(this._private.hasPie=!0),c.name.match(/stripe-(\d+)-background-size/)&&c.value&&(this._private.hasStripe=!0),c.mapped&&this[d].mappedProperties.push(c),this[d].selector||(this._private.coreStyle[c.name]=c)}return this},f3.append=function(a){return aH(a)?a.appendToStyle(this):az(a)?this.appendFromJson(a):ax(a)&&this.appendFromString(a),this},f2.fromJson=function(a,b){var c=new f2(a);return c.fromJson(b),c},f2.fromString=function(a,b){return new f2(a).fromString(b)},[fW,fX,fY,fZ,f$,f_,f0,f1].forEach(function(a){aW(f3,a)}),f2.types=f3.types,f2.properties=f3.properties,f2.propertyGroups=f3.propertyGroups,f2.propertyGroupNames=f3.propertyGroupNames,f2.propertyGroupKeys=f3.propertyGroupKeys;var f4={autolock:function(a){return void 0===a?this._private.autolock:(this._private.autolock=!!a,this)},autoungrabify:function(a){return void 0===a?this._private.autoungrabify:(this._private.autoungrabify=!!a,this)},autounselectify:function(a){return void 0===a?this._private.autounselectify:(this._private.autounselectify=!!a,this)},selectionType:function(a){var b=this._private;return(null==b.selectionType&&(b.selectionType="single"),void 0===a)?b.selectionType:(("additive"===a||"single"===a)&&(b.selectionType=a),this)},panningEnabled:function(a){return void 0===a?this._private.panningEnabled:(this._private.panningEnabled=!!a,this)},userPanningEnabled:function(a){return void 0===a?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!a,this)},zoomingEnabled:function(a){return void 0===a?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!a,this)},userZoomingEnabled:function(a){return void 0===a?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!a,this)},boxSelectionEnabled:function(a){return void 0===a?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!a,this)},pan:function(){var a,b,c,d,e,f=arguments,g=this._private.pan;switch(f.length){case 0:return g;case 1:if(ax(f[0]))return g[a=f[0]];if(aA(f[0])){if(!this._private.panningEnabled)return this;d=(c=f[0]).x,e=c.y,aB(d)&&(g.x=d),aB(e)&&(g.y=e),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;a=f[0],b=f[1],("x"===a||"y"===a)&&aB(b)&&(g[a]=b),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(a,b){var c,d,e,f=arguments,g=this._private.pan;if(!this._private.panningEnabled)return this;switch(f.length){case 1:aA(a)&&(d=(c=f[0]).x,e=c.y,aB(d)&&(g.x+=d),aB(e)&&(g.y+=e),this.emit("pan viewport"));break;case 2:("x"===a||"y"===a)&&aB(b)&&(g[a]+=b),this.emit("pan viewport")}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(a,b){var c=this.getFitViewport(a,b);if(c){var d=this._private;d.zoom=c.zoom,d.pan=c.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(a,b){if(aB(a)&&void 0===b&&(b=a,a=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){if(ax(a)){var c,d,e,f=a;a=this.$(f)}else if(aA(c=a)&&aB(c.x1)&&aB(c.x2)&&aB(c.y1)&&aB(c.y2)){var g=a;(d={x1:g.x1,y1:g.y1,x2:g.x2,y2:g.y2}).w=d.x2-d.x1,d.h=d.y2-d.y1}else aD(a)||(a=this.mutableElements());if(!(aD(a)&&a.empty())){d=d||a.boundingBox();var h=this.width(),i=this.height();if(b=aB(b)?b:0,!isNaN(h)&&!isNaN(i)&&h>0&&i>0&&!isNaN(d.w)&&!isNaN(d.h)&&d.w>0&&d.h>0){e=(e=(e=Math.min((h-2*b)/d.w,(i-2*b)/d.h))>this._private.maxZoom?this._private.maxZoom:e)<this._private.minZoom?this._private.minZoom:e;var j={x:(h-e*(d.x1+d.x2))/2,y:(i-e*(d.y1+d.y2))/2};return{zoom:e,pan:j}}}}},zoomRange:function(a,b){var c=this._private;if(null==b){var d=a;a=d.min,b=d.max}return aB(a)&&aB(b)&&a<=b?(c.minZoom=a,c.maxZoom=b):aB(a)&&void 0===b&&a<=c.maxZoom?c.minZoom=a:aB(b)&&void 0===a&&b>=c.minZoom&&(c.maxZoom=b),this},minZoom:function(a){return void 0===a?this._private.minZoom:this.zoomRange({min:a})},maxZoom:function(a){return void 0===a?this._private.maxZoom:this.zoomRange({max:a})},getZoomedViewport:function(a){var b,c,d=this._private,e=d.pan,f=d.zoom,g=!1;if(d.zoomingEnabled||(g=!0),aB(a)?c=a:aA(a)&&(c=a.level,null!=a.position?b=bY(a.position,f,e):null!=a.renderedPosition&&(b=a.renderedPosition),null==b||d.panningEnabled||(g=!0)),c=(c=c>d.maxZoom?d.maxZoom:c)<d.minZoom?d.minZoom:c,g||!aB(c)||c===f||null!=b&&(!aB(b.x)||!aB(b.y)))return null;if(null==b)return{zoomed:!0,panned:!1,zoom:c,pan:e};var h=c,i={x:-h/f*(b.x-e.x)+b.x,y:-h/f*(b.y-e.y)+b.y};return{zoomed:!0,panned:!0,zoom:h,pan:i}},zoom:function(a){if(void 0===a)return this._private.zoom;var b=this.getZoomedViewport(a),c=this._private;return null!=b&&b.zoomed&&(c.zoom=b.zoom,b.panned&&(c.pan.x=b.pan.x,c.pan.y=b.pan.y),this.emit("zoom"+(b.panned?" pan":"")+" viewport"),this.notify("viewport")),this},viewport:function(a){var b=this._private,c=!0,d=!0,e=[],f=!1;if(!a||(aB(a.zoom)||(c=!1),aA(a.pan)||(d=!1),!c&&!d))return this;if(c){var g=a.zoom;g<b.minZoom||g>b.maxZoom||!b.zoomingEnabled?f=!0:(b.zoom=g,e.push("zoom"))}if(d&&(!f||!a.cancelOnFailedZoom)&&b.panningEnabled){var h=a.pan;aB(h.x)&&(b.pan.x=h.x),aB(h.y)&&(b.pan.y=h.y),e.push("pan")}return e.length>0&&(e.push("viewport"),this.emit(e.join(" ")),this.notify("viewport")),this},center:function(a){var b=this.getCenterPan(a);return b&&(this._private.pan=b,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(a,b){if(this._private.panningEnabled){if(ax(a)){var c=a;a=this.mutableElements().filter(c)}else aD(a)||(a=this.mutableElements());if(0!==a.length){var d=a.boundingBox(),e=this.width(),f=this.height();return{x:(e-(b=void 0===b?this._private.zoom:b)*(d.x1+d.x2))/2,y:(f-b*(d.y1+d.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled&&this.viewport({pan:{x:0,y:0},zoom:1}),this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var a,b,c=this._private,d=c.container;return c.sizeCache=c.sizeCache||(d?(a=this.window().getComputedStyle(d),b=function(b){return parseFloat(a.getPropertyValue(b))},{width:d.clientWidth-b("padding-left")-b("padding-right"),height:d.clientHeight-b("padding-top")-b("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var a=this._private.pan,b=this._private.zoom,c=this.renderedExtent(),d={x1:(c.x1-a.x)/b,x2:(c.x2-a.x)/b,y1:(c.y1-a.y)/b,y2:(c.y2-a.y)/b};return d.w=d.x2-d.x1,d.h=d.y2-d.y1,d},renderedExtent:function(){var a=this.width(),b=this.height();return{x1:0,y1:0,x2:a,y2:b,w:a,h:b}},multiClickDebounceTime:function(a){return a?(this._private.multiClickDebounceTime=a,this):this._private.multiClickDebounceTime}};f4.centre=f4.center,f4.autolockNodes=f4.autolock,f4.autoungrabifyNodes=f4.autoungrabify;var f5={data:ec.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ec.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ec.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ec.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};f5.attr=f5.data,f5.removeAttr=f5.removeData;var f6=function(a){var b=this,c=(a=aW({},a)).container;c&&!aC(c)&&aC(c[0])&&(c=c[0]);var d=c?c._cyreg:null;(d=d||{}).cy&&(d.cy.destroy(),d={});var e=d.readies=d.readies||[];c&&(c._cyreg=d),d.cy=b;var f=void 0!==c&&!a.headless,g=a;g.layout=aW({name:f?"grid":"null"},g.layout),g.renderer=aW({name:f?"canvas":"null"},g.renderer);var h=function(a,b,c){return void 0!==b?b:void 0!==c?c:a},i=this._private={container:c,ready:!1,options:g,elements:new fD(this),listeners:[],aniEles:new fD(this),data:g.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:h(!0,g.zoomingEnabled),userZoomingEnabled:h(!0,g.userZoomingEnabled),panningEnabled:h(!0,g.panningEnabled),userPanningEnabled:h(!0,g.userPanningEnabled),boxSelectionEnabled:h(!0,g.boxSelectionEnabled),autolock:h(!1,g.autolock,g.autolockNodes),autoungrabify:h(!1,g.autoungrabify,g.autoungrabifyNodes),autounselectify:h(!1,g.autounselectify),styleEnabled:void 0===g.styleEnabled?f:g.styleEnabled,zoom:aB(g.zoom)?g.zoom:1,pan:{x:aA(g.pan)&&aB(g.pan.x)?g.pan.x:0,y:aA(g.pan)&&aB(g.pan.y)?g.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:h(250,g.multiClickDebounceTime)};this.createEmitter(),this.selectionType(g.selectionType),this.zoomRange({min:g.minZoom,max:g.maxZoom}),i.styleEnabled&&b.setStyle([]);var j=aW({},g,g.renderer);b.initRenderer(j);var k=function(a,c,d){b.notifications(!1);var e=b.mutableElements();e.length>0&&e.remove(),null!=a&&(aA(a)||az(a))&&b.add(a),b.one("layoutready",function(a){b.notifications(!0),b.emit(a),b.one("load",c),b.emitAndNotify("load")}).one("layoutstop",function(){b.one("done",d),b.emit("done")});var f=aW({},b._private.options.layout);f.eles=b.elements(),b.layout(f).run()};!function(a,b){if(a.some(aJ))return dX.all(a).then(b);b(a)}([g.style,g.elements],function(a){var c=a[0],f=a[1];i.styleEnabled&&b.style().append(c),k(f,function(){b.startAnimationLoop(),i.ready=!0,ay(g.ready)&&b.on("ready",g.ready);for(var a=0;a<e.length;a++){var c=e[a];b.on("ready",c)}d&&(d.readies=[]),b.emit("ready")},g.done)})},f7=f6.prototype;aW(f7,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(a){return this.isReady()?this.emitter().emit("ready",[],a):this.on("ready",a),this},destroy:function(){if(!this.destroyed())return this.stopAnimationLoop(),this.destroyRenderer(),this.emit("destroy"),this._private.destroyed=!0,this},hasElementWithId:function(a){return this._private.elements.hasElementWithId(a)},getElementById:function(a){return this._private.elements.getElementById(a)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(a){return this._private.elements.merge(a),this},removeFromPool:function(a){return this._private.elements.unmerge(a),this},container:function(){return this._private.container||null},window:function(){if(null==this._private.container)return null;var a=this._private.container.ownerDocument;return void 0===a||null==a?null:a.defaultView||null},mount:function(a){if(null!=a){var b=this._private,c=b.options;return!aC(a)&&aC(a[0])&&(a=a[0]),this.stopAnimationLoop(),this.destroyRenderer(),b.container=a,b.styleEnabled=!0,this.invalidateSize(),this.initRenderer(aW({},c,c.renderer,{name:"null"===c.renderer.name?"canvas":c.renderer.name})),this.startAnimationLoop(),this.style(c.style),this.emit("mount"),this}},unmount:function(){return this.stopAnimationLoop(),this.destroyRenderer(),this.initRenderer({name:"null"}),this.emit("unmount"),this},options:function(){return bx(this._private.options)},json:function(a){var b=this,c=b._private,d=b.mutableElements();if(aA(a)){if(b.startBatch(),a.elements){var e={},f=function(a,c){for(var d=[],f=[],g=0;g<a.length;g++){var h=a[g];if(!h.data.id){bw("cy.json() cannot handle elements without an ID attribute");continue}var i=""+h.data.id,j=b.getElementById(i);e[i]=!0,0!==j.length?f.push({ele:j,json:h}):(c&&(h.group=c),d.push(h))}b.add(d);for(var k=0;k<f.length;k++){var l=f[k],n=l.ele,o=l.json;n.json(o)}};if(az(a.elements))f(a.elements);else for(var g=["nodes","edges"],h=0;h<g.length;h++){var i=g[h],j=a.elements[i];az(j)&&f(j,i)}var k=b.collection();d.filter(function(a){return!e[a.id()]}).forEach(function(a){a.isParent()?k.merge(a):a.remove()}),k.forEach(function(a){return a.children().move({parent:null})}),k.forEach(function(a){return b.getElementById(a.id()).remove()})}a.style&&b.style(a.style),null!=a.zoom&&a.zoom!==c.zoom&&b.zoom(a.zoom),a.pan&&(a.pan.x!==c.pan.x||a.pan.y!==c.pan.y)&&b.pan(a.pan),a.data&&b.data(a.data);for(var l=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],n=0;n<l.length;n++){var o=l[n];null!=a[o]&&b[o](a[o])}return b.endBatch(),this}var p={};a?p.elements=this.elements().map(function(a){return a.json()}):(p.elements={},d.forEach(function(a){var b=a.group();p.elements[b]||(p.elements[b]=[]),p.elements[b].push(a.json())})),this._private.styleEnabled&&(p.style=b.style().json()),p.data=bx(b.data());var q=c.options;return p.zoomingEnabled=c.zoomingEnabled,p.userZoomingEnabled=c.userZoomingEnabled,p.zoom=c.zoom,p.minZoom=c.minZoom,p.maxZoom=c.maxZoom,p.panningEnabled=c.panningEnabled,p.userPanningEnabled=c.userPanningEnabled,p.pan=bx(c.pan),p.boxSelectionEnabled=c.boxSelectionEnabled,p.renderer=bx(q.renderer),p.hideEdgesOnViewport=q.hideEdgesOnViewport,p.textureOnViewport=q.textureOnViewport,p.wheelSensitivity=q.wheelSensitivity,p.motionBlur=q.motionBlur,p.multiClickDebounceTime=q.multiClickDebounceTime,p}}),f7.$id=f7.getElementById,[{add:function(a){var b;if(aD(a))if(a._private.cy===this)b=a.restore();else{for(var c=[],d=0;d<a.length;d++){var e=a[d];c.push(e.json())}b=new fD(this,c)}else if(az(a))b=new fD(this,a);else if(aA(a)&&(az(a.nodes)||az(a.edges))){for(var f=[],g=["nodes","edges"],h=0,i=g.length;h<i;h++){var j=g[h],k=a[j];if(az(k))for(var l=0,n=k.length;l<n;l++){var o=aW({group:j},k[l]);f.push(o)}}b=new fD(this,f)}else b=new bL(this,a).collection();return b},remove:function(a){if(aD(a));else if(ax(a)){var b=a;a=this.$(b)}return a.remove()}},fN,fQ,fR,fS,{notify:function(a,b){var c=this._private;if(this.batching()){c.batchNotifications=c.batchNotifications||{};var d=c.batchNotifications[a]=c.batchNotifications[a]||this.collection();null!=b&&d.merge(b);return}if(c.notificationsEnabled){var e=this.renderer();!this.destroyed()&&e&&e.notify(a,b)}},notifications:function(a){var b=this._private;return void 0===a?b.notificationsEnabled:(b.notificationsEnabled=!!a,this)},noNotifications:function(a){this.notifications(!1),a(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var a=this._private;return null==a.batchCount&&(a.batchCount=0),0===a.batchCount&&(a.batchStyleEles=this.collection(),a.batchNotifications={}),a.batchCount++,this},endBatch:function(){var a=this._private;if(0===a.batchCount)return this;if(a.batchCount--,0===a.batchCount){a.batchStyleEles.updateStyle();var b=this.renderer();Object.keys(a.batchNotifications).forEach(function(c){var d=a.batchNotifications[c];d.empty()?b.notify(c):b.notify(c,d)})}return this},batch:function(a){return this.startBatch(),a(),this.endBatch(),this},batchData:function(a){var b=this;return this.batch(function(){for(var c=Object.keys(a),d=0;d<c.length;d++){var e=c[d],f=a[e];b.getElementById(e).data(f)}})}},fU,fV,{style:function(a){return a&&this.setStyle(a).update(),this._private.style},setStyle:function(a){var b=this._private;return aH(a)?b.style=a.generateStyle(this):az(a)?b.style=f2.fromJson(this,a):ax(a)?b.style=f2.fromString(this,a):b.style=f2(this),b.style},updateStyle:function(){this.mutableElements().updateStyle()}},f4,f5].forEach(function(a){aW(f7,a)});var f8={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(a,b){return!0},ready:void 0,stop:void 0,transform:function(a,b){return b}},f9={maximal:!1,acyclic:!1},ga=function(a){return a.scratch("breadthfirst")},gb=function(a,b){return a.scratch("breadthfirst",b)};function gc(a){this.options=aW({},f8,f9,a)}gc.prototype.run=function(){var a,b=this.options,c=b.cy,d=b.eles,e=d.nodes().filter(function(a){return a.isChildless()}),f=b.directed,g=b.acyclic||b.maximal||b.maximalAdjustments>0,h=!!b.boundingBox,i=cd(h?b.boundingBox:structuredClone(c.extent()));if(aD(b.roots))a=b.roots;else if(az(b.roots)){for(var j=[],k=0;k<b.roots.length;k++){var l=b.roots[k],n=c.getElementById(l);j.push(n)}a=c.collection(j)}else if(ax(b.roots))a=c.$(b.roots);else if(f)a=e.roots();else{var o=d.components();a=c.collection();for(var p=0;p<o.length;p++)!function(){var b=o[p],c=b.maxDegree(!1),d=b.filter(function(a){return a.degree(!1)===c});a=a.add(d)}()}var q=[],r={},s=function(a,b){null==q[b]&&(q[b]=[]);var c=q[b].length;q[b].push(a),gb(a,{index:c,depth:b})},t=function(a,b){var c=ga(a),d=c.depth,e=c.index;q[d][e]=null,a.isChildless()&&s(a,b)};d.bfs({roots:a,directed:b.directed,visit:function(a,b,c,d,e){var f=a[0],g=f.id();f.isChildless()&&s(f,e),r[g]=!0}});for(var u=[],v=0;v<e.length;v++){var w=e[v];r[w.id()]||u.push(w)}var x=function(a){for(var b=q[a],c=0;c<b.length;c++){var d=b[c];if(null==d){b.splice(c,1),c--;continue}gb(d,{depth:a,index:c})}};if(f&&g){var y=[],z={},A=function(a){return y.push(a)};for(e.forEach(function(a){return y.push(a)});y.length>0;){var B=y.shift(),C=function(a,c){for(var e=ga(a),f=a.incomers().filter(function(a){return a.isNode()&&d.has(a)}),g=-1,h=a.id(),i=0;i<f.length;i++)g=Math.max(g,ga(f[i]).depth);if(e.depth<=g){if(!b.acyclic&&c[h])return null;var j=g+1;return t(a,j),c[h]=j,!0}return!1}(B,z);if(C)B.outgoers().filter(function(a){return a.isNode()&&d.has(a)}).forEach(A);else if(null===C){bw("Detected double maximal shift for node `"+B.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var D=0;if(b.avoidOverlap)for(var E=0;E<e.length;E++){var F=e[E].layoutDimensions(b),G=F.w,H=F.h;D=Math.max(D,G,H)}var I={},J=function(a){if(I[a.id()])return I[a.id()];for(var b=ga(a).depth,c=a.neighborhood(),d=0,f=0,g=0;g<c.length;g++){var h=c[g];if(!(h.isEdge()||h.isParent())&&e.has(h)){var i=ga(h);if(null!=i){var j=i.index,k=i.depth;if(null!=j&&null!=k){var l=q[k].length;k<b&&(d+=j/l,f++)}}}}return d/=f=Math.max(1,f),0===f&&(d=0),I[a.id()]=d,d},K=function(a,b){var c=J(a)-J(b);return 0===c?aV(a.id(),b.id()):c};void 0!==b.depthSort&&(K=b.depthSort);for(var L=q.length,M=0;M<L;M++)q[M].sort(K),x(M);for(var N=[],O=0;O<u.length;O++)N.push(u[O]);if(N.length){q.unshift(N),L=q.length;for(var P=0;P<L;P++)x(P)}for(var Q=0,R=0;R<L;R++)Q=Math.max(q[R].length,Q);var S={x:i.x1+i.w/2,y:i.y1+i.h/2},T=e.reduce(function(a,c){var d;return d=c.boundingBox({includeLabels:b.nodeDimensionsIncludeLabels}),{w:-1===a.w?d.w:(a.w+d.w)/2,h:-1===a.h?d.h:(a.h+d.h)/2}},{w:-1,h:-1}),U=Math.max(1===L?0:h?(i.h-2*b.padding-T.h)/(L-1):(i.h-2*b.padding-T.h)/(L+1),D),V=q.reduce(function(a,b){return Math.max(a,b.length)},0),W=function(a){var c=ga(a),d=c.depth,e=c.index;if(b.circle){var f=Math.min(i.w/2/L,i.h/2/L),g=(f=Math.max(f,D))*d+f-(L>0&&q[0].length<=3?f/2:0),j=2*Math.PI/q[d].length*e;return 0===d&&1===q[0].length&&(g=1),{x:S.x+g*Math.cos(j),y:S.y+g*Math.sin(j)}}var k=q[d].length,l=Math.max(1===k?0:h?(i.w-2*b.padding-T.w)/((b.grid?V:k)-1):(i.w-2*b.padding-T.w)/((b.grid?V:k)+1),D);return{x:S.x+(e+1-(k+1)/2)*l,y:S.y+(d+1-(L+1)/2)*U}},X={downward:0,leftward:90,upward:180,rightward:-90};return -1===Object.keys(X).indexOf(b.direction)&&bu("Invalid direction '".concat(b.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(X).join(", "))),d.nodes().layoutPositions(this,b,function(a){return function(a,b,c){if(0===c)return a;var d,e,f,g,h=(b.x1+b.x2)/2,i=(b.y1+b.y2)/2,j=b.w/b.h,k=(d=a.x,e=a.y,{x:Math.cos(f=c*Math.PI/180)*(d-h)-Math.sin(f)*(e-i)+h,y:Math.sin(f)*(d-h)+Math.cos(f)*(e-i)+i}),l=(g=k.x,{x:(g-h)*j+h,y:(k.y-i)*(1/j)+i});return{x:l.x,y:l.y}}(W(a),i,X[b.direction])}),this};var gd={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(a,b){return!0},ready:void 0,stop:void 0,transform:function(a,b){return b}};function ge(a){this.options=aW({},gd,a)}ge.prototype.run=function(){var a,b=this.options,c=b.cy,d=b.eles,e=void 0!==b.counterclockwise?!b.counterclockwise:b.clockwise,f=d.nodes().not(":parent");b.sort&&(f=f.sort(b.sort));for(var g=cd(b.boundingBox?b.boundingBox:{x1:0,y1:0,w:c.width(),h:c.height()}),h={x:g.x1+g.w/2,y:g.y1+g.h/2},i=(void 0===b.sweep?2*Math.PI-2*Math.PI/f.length:b.sweep)/Math.max(1,f.length-1),j=0,k=0;k<f.length;k++){var l=f[k].layoutDimensions(b);j=Math.max(j,l.w,l.h)}if(a=aB(b.radius)?b.radius:f.length<=1?0:Math.min(g.h,g.w)/2-j,f.length>1&&b.avoidOverlap){var n=Math.cos(i)-1,o=Math.sin(i)-0;a=Math.max(Math.sqrt((j*=1.75)*j/(n*n+o*o)),a)}return d.nodes().layoutPositions(this,b,function(c,d){var f=b.startAngle+d*i*(e?1:-1),g=a*Math.cos(f),j=a*Math.sin(f);return{x:h.x+g,y:h.y+j}}),this};var gf={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(a){return a.degree()},levelWidth:function(a){return a.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(a,b){return!0},ready:void 0,stop:void 0,transform:function(a,b){return b}};function gg(a){this.options=aW({},gf,a)}gg.prototype.run=function(){for(var a=this.options,b=void 0!==a.counterclockwise?!a.counterclockwise:a.clockwise,c=a.cy,d=a.eles,e=d.nodes().not(":parent"),f=cd(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:c.width(),h:c.height()}),g={x:f.x1+f.w/2,y:f.y1+f.h/2},h=[],i=0,j=0;j<e.length;j++){var k=e[j],l=void 0;l=a.concentric(k),h.push({value:l,node:k}),k._private.scratch.concentric=l}e.updateStyle();for(var n=0;n<e.length;n++){var o=e[n].layoutDimensions(a);i=Math.max(i,o.w,o.h)}h.sort(function(a,b){return b.value-a.value});for(var p=a.levelWidth(e),q=[[]],r=q[0],s=0;s<h.length;s++){var t=h[s];r.length>0&&Math.abs(r[0].value-t.value)>=p&&(r=[],q.push(r)),r.push(t)}var u=i+a.minNodeSpacing;if(!a.avoidOverlap){var v=q.length>0&&q[0].length>1,w=(Math.min(f.w,f.h)/2-u)/(q.length+v?1:0);u=Math.min(u,w)}for(var x=0,y=0;y<q.length;y++){var z=q[y],A=void 0===a.sweep?2*Math.PI-2*Math.PI/z.length:a.sweep,B=z.dTheta=A/Math.max(1,z.length-1);if(z.length>1&&a.avoidOverlap){var C=Math.cos(B)-1,D=Math.sin(B)-0;x=Math.max(Math.sqrt(u*u/(C*C+D*D)),x)}z.r=x,x+=u}if(a.equidistant){for(var E=0,F=0,G=0;G<q.length;G++)E=Math.max(E,q[G].r-F);F=0;for(var H=0;H<q.length;H++){var I=q[H];0===H&&(F=I.r),I.r=F,F+=E}}for(var J={},K=0;K<q.length;K++)for(var L=q[K],M=L.dTheta,N=L.r,O=0;O<L.length;O++){var P=L[O],Q=a.startAngle+(b?1:-1)*M*O,R={x:g.x+N*Math.cos(Q),y:g.y+N*Math.sin(Q)};J[P.node.id()]=R}return d.nodes().layoutPositions(this,a,function(a){return J[a.id()]}),this};var gh={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(a,b){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(a){return 2048},nodeOverlap:4,idealEdgeLength:function(a){return 32},edgeElasticity:function(a){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function gi(a){this.options=aW({},gh,a),this.options.layout=this;var b=this.options.eles.nodes(),c=this.options.eles.edges().filter(function(a){var c=a.source().data("id"),d=a.target().data("id"),e=b.some(function(a){return a.data("id")===c}),f=b.some(function(a){return a.data("id")===d});return!e||!f});this.options.eles=this.options.eles.not(c)}gi.prototype.run=function(){var a=this.options,b=a.cy,c=this;c.stopped=!1,(!0===a.animate||!1===a.animate)&&c.emit({type:"layoutstart",layout:c}),i8=!0===a.debug;var d=gj(b,c,a);i8&&i9(d),a.randomize&&gm(d);var e=ba(),f=function(){go(d,b,a),!0===a.fit&&b.fit(a.padding)},g=function(b){return!c.stopped&&!(b>=a.numIter)&&(gp(d,a),d.temperature=d.temperature*a.coolingFactor,!(d.temperature<a.minTemp))},h=function(){if(!0===a.animate||!1===a.animate)f(),c.one("layoutstop",a.stop),c.emit({type:"layoutstop",layout:c});else{var b=a.eles.nodes(),e=gn(d,a,b);b.layoutPositions(c,a,e)}},i=0,j=!0;if(!0===a.animate){var k=function(){for(var b=0;j&&b<a.refresh;)j=g(i),i++,b++;j?(ba()-e>=a.animationThreshold&&f(),bc(k)):(gB(d,a),h())};k()}else{for(;j;)j=g(i),i++;gB(d,a),h()}return this},gi.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},gi.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var gj=function(a,b,c){for(var d=c.eles.edges(),e=c.eles.nodes(),f=cd(c.boundingBox?c.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()}),g={isCompound:a.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:e.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:d.size(),temperature:c.initialTemp,clientWidth:f.w,clientHeight:f.h,boundingBox:f},h=c.eles.components(),i={},j=0;j<h.length;j++)for(var k=h[j],l=0;l<k.length;l++){var n=k[l];i[n.id()]=j}for(var j=0;j<g.nodeSize;j++){var o=e[j],p=o.layoutDimensions(c),q={};q.isLocked=o.locked(),q.id=o.data("id"),q.parentId=o.data("parent"),q.cmptId=i[o.id()],q.children=[],q.positionX=o.position("x"),q.positionY=o.position("y"),q.offsetX=0,q.offsetY=0,q.height=p.w,q.width=p.h,q.maxX=q.positionX+q.width/2,q.minX=q.positionX-q.width/2,q.maxY=q.positionY+q.height/2,q.minY=q.positionY-q.height/2,q.padLeft=parseFloat(o.style("padding")),q.padRight=parseFloat(o.style("padding")),q.padTop=parseFloat(o.style("padding")),q.padBottom=parseFloat(o.style("padding")),q.nodeRepulsion=ay(c.nodeRepulsion)?c.nodeRepulsion(o):c.nodeRepulsion,g.layoutNodes.push(q),g.idToIndex[q.id]=j}for(var r=[],s=0,t=-1,u=[],j=0;j<g.nodeSize;j++){var o=g.layoutNodes[j],v=o.parentId;null!=v?g.layoutNodes[g.idToIndex[v]].children.push(o.id):(r[++t]=o.id,u.push(o.id))}for(g.graphSet.push(u);s<=t;){var w=r[s++],x=g.idToIndex[w],n=g.layoutNodes[x],y=n.children;if(y.length>0){g.graphSet.push(y);for(var j=0;j<y.length;j++)r[++t]=y[j]}}for(var j=0;j<g.graphSet.length;j++)for(var z=g.graphSet[j],l=0;l<z.length;l++){var A=g.idToIndex[z[l]];g.indexToGraph[A]=j}for(var j=0;j<g.edgeSize;j++){var B=d[j],C={};C.id=B.data("id"),C.sourceId=B.data("source"),C.targetId=B.data("target");var D=ay(c.idealEdgeLength)?c.idealEdgeLength(B):c.idealEdgeLength,E=ay(c.edgeElasticity)?c.edgeElasticity(B):c.edgeElasticity,F=g.idToIndex[C.sourceId],G=g.idToIndex[C.targetId];if(g.indexToGraph[F]!=g.indexToGraph[G]){for(var H=gk(C.sourceId,C.targetId,g),I=g.graphSet[H],J=0,q=g.layoutNodes[F];-1===I.indexOf(q.id);)q=g.layoutNodes[g.idToIndex[q.parentId]],J++;for(q=g.layoutNodes[G];-1===I.indexOf(q.id);)q=g.layoutNodes[g.idToIndex[q.parentId]],J++;D*=J*c.nestingFactor}C.idealLength=D,C.elasticity=E,g.layoutEdges.push(C)}return g},gk=function(a,b,c){var d=gl(a,b,0,c);return 2>d.count?0:d.graph},gl=function(a,b,c,d){var e=d.graphSet[c];if(-1<e.indexOf(a)&&-1<e.indexOf(b))return{count:2,graph:c};for(var f=0,g=0;g<e.length;g++){var h=e[g],i=d.idToIndex[h],j=d.layoutNodes[i].children;if(0!==j.length){var k=gl(a,b,d.indexToGraph[d.idToIndex[j[0]]],d);if(0===k.count)continue;if(1!==k.count)return k;if(2==++f)break}}return{count:f,graph:c}},gm=function(a,b){for(var c=a.clientWidth,d=a.clientHeight,e=0;e<a.nodeSize;e++){var f=a.layoutNodes[e];0!==f.children.length||f.isLocked||(f.positionX=Math.random()*c,f.positionY=Math.random()*d)}},gn=function(a,b,c){var d=a.boundingBox,e={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return b.boundingBox&&(c.forEach(function(b){var c=a.layoutNodes[a.idToIndex[b.data("id")]];e.x1=Math.min(e.x1,c.positionX),e.x2=Math.max(e.x2,c.positionX),e.y1=Math.min(e.y1,c.positionY),e.y2=Math.max(e.y2,c.positionY)}),e.w=e.x2-e.x1,e.h=e.y2-e.y1),function(c,f){var g=a.layoutNodes[a.idToIndex[c.data("id")]];if(!b.boundingBox)return{x:g.positionX,y:g.positionY};var h=0===e.w?.5:(g.positionX-e.x1)/e.w,i=0===e.h?.5:(g.positionY-e.y1)/e.h;return{x:d.x1+h*d.w,y:d.y1+i*d.h}}},go=function(a,b,c){var d=c.layout,e=c.eles.nodes(),f=gn(a,c,e);e.positions(f),!0!==a.ready&&(a.ready=!0,d.one("layoutready",c.ready),d.emit({type:"layoutready",layout:this}))},gp=function(a,b,c){gq(a,b),gv(a),gw(a,b),gx(a),gy(a)},gq=function(a,b){for(var c=0;c<a.graphSet.length;c++)for(var d=a.graphSet[c],e=d.length,f=0;f<e;f++)for(var g=a.layoutNodes[a.idToIndex[d[f]]],h=f+1;h<e;h++)gs(g,a.layoutNodes[a.idToIndex[d[h]]],a,b)},gr=function(a){return -1+2*a*Math.random()},gs=function(a,b,c,d){if(a.cmptId===b.cmptId||c.isCompound){var e=b.positionX-a.positionX,f=b.positionY-a.positionY;0===e&&0===f&&(e=gr(1),f=gr(1));var g=gt(a,b,e,f);if(g>0)var h=d.nodeOverlap*g,i=Math.sqrt(e*e+f*f),j=h*e/i,k=h*f/i;else var l=gu(a,e,f),n=gu(b,-1*e,-1*f),o=n.x-l.x,p=n.y-l.y,q=o*o+p*p,i=Math.sqrt(q),h=(a.nodeRepulsion+b.nodeRepulsion)/q,j=h*o/i,k=h*p/i;a.isLocked||(a.offsetX-=j,a.offsetY-=k),b.isLocked||(b.offsetX+=j,b.offsetY+=k)}},gt=function(a,b,c,d){if(c>0)var e=a.maxX-b.minX;else var e=b.maxX-a.minX;if(d>0)var f=a.maxY-b.minY;else var f=b.maxY-a.minY;return e>=0&&f>=0?Math.sqrt(e*e+f*f):0},gu=function(a,b,c){var d=a.positionX,e=a.positionY,f=a.height||1,g=a.width||1,h=c/b,i=f/g,j={};return 0===b&&0<c||0===b&&0>c?(j.x=d,j.y=e+f/2):0<b&&-1*i<=h&&h<=i?(j.x=d+g/2,j.y=e+g*c/2/b):0>b&&-1*i<=h&&h<=i?(j.x=d-g/2,j.y=e-g*c/2/b):0<c&&(h<=-1*i||h>=i)?(j.x=d+f*b/2/c,j.y=e+f/2):0>c&&(h<=-1*i||h>=i)&&(j.x=d-f*b/2/c,j.y=e-f/2),j},gv=function(a,b){for(var c=0;c<a.edgeSize;c++){var d=a.layoutEdges[c],e=a.idToIndex[d.sourceId],f=a.layoutNodes[e],g=a.idToIndex[d.targetId],h=a.layoutNodes[g],i=h.positionX-f.positionX,j=h.positionY-f.positionY;if(0!==i||0!==j){var k=gu(f,i,j),l=gu(h,-1*i,-1*j),n=l.x-k.x,o=l.y-k.y,p=Math.sqrt(n*n+o*o),q=Math.pow(d.idealLength-p,2)/d.elasticity;if(0!==p)var r=q*n/p,s=q*o/p;else var r=0,s=0;f.isLocked||(f.offsetX+=r,f.offsetY+=s),h.isLocked||(h.offsetX-=r,h.offsetY-=s)}}},gw=function(a,b){if(0!==b.gravity)for(var c=0;c<a.graphSet.length;c++){var d=a.graphSet[c],e=d.length;if(0===c)var f=a.clientHeight/2,g=a.clientWidth/2;else var h=a.layoutNodes[a.idToIndex[d[0]]],i=a.layoutNodes[a.idToIndex[h.parentId]],f=i.positionX,g=i.positionY;for(var j=0;j<e;j++){var k=a.layoutNodes[a.idToIndex[d[j]]];if(!k.isLocked){var l=f-k.positionX,n=g-k.positionY,o=Math.sqrt(l*l+n*n);if(o>1){var p=b.gravity*l/o,q=b.gravity*n/o;k.offsetX+=p,k.offsetY+=q}}}}},gx=function(a,b){var c=[],d=0,e=-1;for(c.push.apply(c,a.graphSet[0]),e+=a.graphSet[0].length;d<=e;){var f=c[d++],g=a.idToIndex[f],h=a.layoutNodes[g],i=h.children;if(0<i.length&&!h.isLocked){for(var j=h.offsetX,k=h.offsetY,l=0;l<i.length;l++){var n=a.layoutNodes[a.idToIndex[i[l]]];n.offsetX+=j,n.offsetY+=k,c[++e]=i[l]}h.offsetX=0,h.offsetY=0}}},gy=function(a,b){for(var c=0;c<a.nodeSize;c++){var d=a.layoutNodes[c];0<d.children.length&&(d.maxX=void 0,d.minX=void 0,d.maxY=void 0,d.minY=void 0)}for(var c=0;c<a.nodeSize;c++){var d=a.layoutNodes[c];if(!(0<d.children.length)&&!d.isLocked){var e=gz(d.offsetX,d.offsetY,a.temperature);d.positionX+=e.x,d.positionY+=e.y,d.offsetX=0,d.offsetY=0,d.minX=d.positionX-d.width,d.maxX=d.positionX+d.width,d.minY=d.positionY-d.height,d.maxY=d.positionY+d.height,gA(d,a)}}for(var c=0;c<a.nodeSize;c++){var d=a.layoutNodes[c];0<d.children.length&&!d.isLocked&&(d.positionX=(d.maxX+d.minX)/2,d.positionY=(d.maxY+d.minY)/2,d.width=d.maxX-d.minX,d.height=d.maxY-d.minY)}},gz=function(a,b,c){var d=Math.sqrt(a*a+b*b);if(d>c)var e={x:c*a/d,y:c*b/d};else var e={x:a,y:b};return e},gA=function(a,b){var c=a.parentId;if(null!=c){var d=b.layoutNodes[b.idToIndex[c]],e=!1;if((null==d.maxX||a.maxX+d.padRight>d.maxX)&&(d.maxX=a.maxX+d.padRight,e=!0),(null==d.minX||a.minX-d.padLeft<d.minX)&&(d.minX=a.minX-d.padLeft,e=!0),(null==d.maxY||a.maxY+d.padBottom>d.maxY)&&(d.maxY=a.maxY+d.padBottom,e=!0),(null==d.minY||a.minY-d.padTop<d.minY)&&(d.minY=a.minY-d.padTop,e=!0),e)return gA(d,b)}},gB=function(a,b){for(var c=a.layoutNodes,d=[],e=0;e<c.length;e++){var f=c[e],g=f.cmptId;(d[g]=d[g]||[]).push(f)}for(var h=0,e=0;e<d.length;e++){var i=d[e];if(i){i.x1=1/0,i.x2=-1/0,i.y1=1/0,i.y2=-1/0;for(var j=0;j<i.length;j++){var k=i[j];i.x1=Math.min(i.x1,k.positionX-k.width/2),i.x2=Math.max(i.x2,k.positionX+k.width/2),i.y1=Math.min(i.y1,k.positionY-k.height/2),i.y2=Math.max(i.y2,k.positionY+k.height/2)}i.w=i.x2-i.x1,i.h=i.y2-i.y1,h+=i.w*i.h}}d.sort(function(a,b){return b.w*b.h-a.w*a.h});for(var l=0,n=0,o=0,p=0,q=Math.sqrt(h)*a.clientWidth/a.clientHeight,e=0;e<d.length;e++){var i=d[e];if(i){for(var j=0;j<i.length;j++){var k=i[j];k.isLocked||(k.positionX+=l-i.x1,k.positionY+=n-i.y1)}l+=i.w+b.componentSpacing,o+=i.w+b.componentSpacing,p=Math.max(p,i.h),o>q&&(n+=p+b.componentSpacing,l=0,o=0,p=0)}}},gC={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(a){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(a,b){return!0},ready:void 0,stop:void 0,transform:function(a,b){return b}};function gD(a){this.options=aW({},gC,a)}gD.prototype.run=function(){var a=this.options,b=a.cy,c=a.eles,d=c.nodes().not(":parent");a.sort&&(d=d.sort(a.sort));var e=cd(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:b.width(),h:b.height()});if(0===e.h||0===e.w)c.nodes().layoutPositions(this,a,function(a){return{x:e.x1,y:e.y1}});else{var f=d.size(),g=Math.sqrt(f*e.h/e.w),h=Math.round(g),i=Math.round(e.w/e.h*g),j=function(a){if(null==a)return Math.min(h,i);Math.min(h,i)==h?h=a:i=a},k=function(a){if(null==a)return Math.max(h,i);Math.max(h,i)==h?h=a:i=a},l=a.rows,n=null!=a.cols?a.cols:a.columns;if(null!=l&&null!=n)h=l,i=n;else if(null!=l&&null==n)i=Math.ceil(f/(h=l));else if(null==l&&null!=n)h=Math.ceil(f/(i=n));else if(i*h>f){var o=j(),p=k();(o-1)*p>=f?j(o-1):(p-1)*o>=f&&k(p-1)}else for(;i*h<f;){var q=j(),r=k();(r+1)*q>=f?k(r+1):j(q+1)}var s=e.w/i,t=e.h/h;if(a.condense&&(s=0,t=0),a.avoidOverlap)for(var u=0;u<d.length;u++){var v=d[u],w=v._private.position;(null==w.x||null==w.y)&&(w.x=0,w.y=0);var x=v.layoutDimensions(a),y=a.avoidOverlapPadding,z=x.w+y,A=x.h+y;s=Math.max(s,z),t=Math.max(t,A)}for(var B={},C=function(a,b){return!!B["c-"+a+"-"+b]},D=function(a,b){B["c-"+a+"-"+b]=!0},E=0,F=0,G=function(){++F>=i&&(F=0,E++)},H={},I=0;I<d.length;I++){var J=d[I],K=a.position(J);if(K&&(void 0!==K.row||void 0!==K.col)){var L={row:K.row,col:K.col};if(void 0===L.col)for(L.col=0;C(L.row,L.col);)L.col++;else if(void 0===L.row)for(L.row=0;C(L.row,L.col);)L.row++;H[J.id()]=L,D(L.row,L.col)}}d.layoutPositions(this,a,function(a,b){if(a.locked()||a.isParent())return!1;var c,d,f=H[a.id()];if(f)c=f.col*s+s/2+e.x1,d=f.row*t+t/2+e.y1;else{for(;C(E,F);)G();c=F*s+s/2+e.x1,d=E*t+t/2+e.y1,D(E,F),G()}return{x:c,y:d}})}return this};var gE={ready:function(){},stop:function(){}};function gF(a){this.options=aW({},gE,a)}gF.prototype.run=function(){var a=this.options,b=a.eles;return a.cy,this.emit("layoutstart"),b.nodes().positions(function(){return{x:0,y:0}}),this.one("layoutready",a.ready),this.emit("layoutready"),this.one("layoutstop",a.stop),this.emit("layoutstop"),this},gF.prototype.stop=function(){return this};var gG={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(a,b){return!0},ready:void 0,stop:void 0,transform:function(a,b){return b}};function gH(a){this.options=aW({},gG,a)}gH.prototype.run=function(){var a=this.options,b=a.eles.nodes(),c=ay(a.positions);return b.layoutPositions(this,a,function(b,d){var e=function(b){if(null==a.positions){var d;return{x:(d=b.position()).x,y:d.y}}if(c)return a.positions(b);var e=a.positions[b._private.data.id];return null==e?null:e}(b);return!b.locked()&&null!=e&&e}),this};var gI={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(a,b){return!0},ready:void 0,stop:void 0,transform:function(a,b){return b}};function gJ(a){this.options=aW({},gI,a)}gJ.prototype.run=function(){var a=this.options,b=a.cy,c=a.eles,d=cd(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:b.width(),h:b.height()});return c.nodes().layoutPositions(this,a,function(a,b){return{x:d.x1+Math.round(Math.random()*d.w),y:d.y1+Math.round(Math.random()*d.h)}}),this};var gK=[{name:"breadthfirst",impl:gc},{name:"circle",impl:ge},{name:"concentric",impl:gg},{name:"cose",impl:gi},{name:"grid",impl:gD},{name:"null",impl:gF},{name:"preset",impl:gH},{name:"random",impl:gJ}];function gL(a){this.options=a,this.notifications=0}var gM=function(){},gN=function(){throw Error("A headless instance can not render images")};gL.prototype={recalculateRenderedStyle:gM,notify:function(){this.notifications++},init:gM,isHeadless:function(){return!0},png:gN,jpg:gN};var gO={};gO.arrowShapeWidth=.3,gO.registerArrowShapes=function(){var a=this.arrowShapes={},b=this,c=function(a,b,c,d,e,f,g){var h=e.x-c/2-g,i=e.x+c/2+g,j=e.y-c/2-g,k=e.y+c/2+g;return h<=a&&a<=i&&j<=b&&b<=k},d=function(a,b,c,d,e){var f=a*Math.cos(d)-b*Math.sin(d),g=a*Math.sin(d)+b*Math.cos(d);return{x:f*c+e.x,y:g*c+e.y}},e=function(a,b,c,e){for(var f=[],g=0;g<a.length;g+=2){var h=a[g],i=a[g+1];f.push(d(h,i,b,c,e))}return f},f=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];b.push(d.x,d.y)}return b},g=function(a){return a.pstyle("width").pfValue*a.pstyle("arrow-scale").pfValue*2},h=function(d,h){ax(h)&&(h=a[h]),a[d]=aW({name:d,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(a,b,c,d,g,h){return cw(a,b,f(e(this.points,c+2*h,d,g)))},roughCollide:c,draw:function(a,c,d,f){var g=e(this.points,c,d,f);b.arrowShapeImpl("polygon")(a,g)},spacing:function(a){return 0},gap:g},h)};h("none",{collide:br,roughCollide:br,draw:bt,spacing:bs,gap:bs}),h("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),h("arrow","triangle"),h("triangle-backcurve",{points:a.triangle.points,controlPoint:[0,-.15],roughCollide:c,draw:function(a,c,f,g,h){var i=e(this.points,c,f,g),j=this.controlPoint,k=d(j[0],j[1],c,f,g);b.arrowShapeImpl(this.name)(a,i,k)},gap:function(a){return .8*g(a)}}),h("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(a,b,c,d,g,h,i){var j=f(e(this.points,c+2*i,d,g)),k=f(e(this.pointsTee,c+2*i,d,g));return cw(a,b,j)||cw(a,b,k)},draw:function(a,c,d,f,g){var h=e(this.points,c,d,f),i=e(this.pointsTee,c,d,f);b.arrowShapeImpl(this.name)(a,h,i)}}),h("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(a,b,c,d,g,h,i){var j=Math.pow(g.x-a,2)+Math.pow(g.y-b,2)<=Math.pow((c+2*i)*this.radius,2);return cw(a,b,f(e(this.points,c+2*i,d,g)))||j},draw:function(a,c,d,f,g){var h=e(this.pointsTr,c,d,f);b.arrowShapeImpl(this.name)(a,h,f.x,f.y,this.radius*c)},spacing:function(a){return b.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.radius}}),h("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(a,b){var c=this.baseCrossLinePts.slice(),d=b/a;return c[3]=c[3]-d,c[5]=c[5]-d,c},collide:function(a,b,c,d,g,h,i){var j=f(e(this.points,c+2*i,d,g)),k=f(e(this.crossLinePts(c,h),c+2*i,d,g));return cw(a,b,j)||cw(a,b,k)},draw:function(a,c,d,f,g){var h=e(this.points,c,d,f),i=e(this.crossLinePts(c,g),c,d,f);b.arrowShapeImpl(this.name)(a,h,i)}}),h("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(a){return .525*g(a)}}),h("circle",{radius:.15,collide:function(a,b,c,d,e,f,g){return Math.pow(e.x-a,2)+Math.pow(e.y-b,2)<=Math.pow((c+2*g)*this.radius,2)},draw:function(a,c,d,e,f){b.arrowShapeImpl(this.name)(a,e.x,e.y,this.radius*c)},spacing:function(a){return b.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.radius}}),h("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(a){return 1},gap:function(a){return 1}}),h("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),h("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(a){return a.pstyle("width").pfValue*a.pstyle("arrow-scale").value}}),h("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(a){return .95*a.pstyle("width").pfValue*a.pstyle("arrow-scale").value}})};var gP={};gP.projectIntoViewport=function(a,b){var c=this.cy,d=this.findContainerClientCoords(),e=d[0],f=d[1],g=d[4],h=c.pan(),i=c.zoom();return[((a-e)/g-h.x)/i,((b-f)/g-h.y)/i]},gP.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var a=this.container,b=a.getBoundingClientRect(),c=this.cy.window().getComputedStyle(a),d=function(a){return parseFloat(c.getPropertyValue(a))},e={left:d("padding-left"),right:d("padding-right"),top:d("padding-top"),bottom:d("padding-bottom")},f={left:d("border-left-width"),right:d("border-right-width"),top:d("border-top-width"),bottom:d("border-bottom-width")},g=a.clientWidth,h=a.clientHeight,i=e.left+e.right,j=e.top+e.bottom,k=f.left+f.right,l=b.width/(g+k),n=b.left+e.left+f.left,o=b.top+e.top+f.top;return this.containerBB=[n,o,g-i,h-j,l]},gP.invalidateContainerClientCoordsCache=function(){this.containerBB=null},gP.findNearestElement=function(a,b,c,d){return this.findNearestElements(a,b,c,d)[0]},gP.findNearestElements=function(a,b,c,d){var e,f,g=this,h=this,i=h.getCachedZSortedEles(),j=[],k=h.cy.zoom(),l=h.cy.hasCompoundNodes(),n=(d?24:8)/k,o=(d?8:2)/k,p=(d?8:2)/k,q=1/0;function r(a,b){if(a.isNode())if(f)return;else f=a,j.push(a);if(a.isEdge()&&(null==b||b<q))if(e){if(e.pstyle("z-compound-depth").value===a.pstyle("z-compound-depth").value&&e.pstyle("z-compound-depth").value===a.pstyle("z-compound-depth").value){for(var c=0;c<j.length;c++)if(j[c].isEdge()){j[c]=a,e=a,q=null!=b?b:q;break}}}else j.push(a),e=a,q=null!=b?b:q}function s(c){var d=c.outerWidth()+2*o,e=c.outerHeight()+2*o,f=d/2,i=e/2,j=c.position(),k="auto"===c.pstyle("corner-radius").value?"auto":c.pstyle("corner-radius").pfValue,l=c._private.rscratch;if(j.x-f<=a&&a<=j.x+f&&j.y-i<=b&&b<=j.y+i&&h.nodeShapes[g.getNodeShape(c)].checkPoint(a,b,0,d,e,j.x,j.y,k,l))return r(c,0),!0}c&&(i=i.interactive);function t(c,d){var e,f=c._private;e=d?d+"-":"",c.boundingBox();var g=f.labelBounds[d||"main"],h=c.pstyle(e+"label").value;if("yes"===c.pstyle("text-events").strValue&&h){var i=bF(f.rscratch,"labelX",d),j=bF(f.rscratch,"labelY",d),k=bF(f.rscratch,"labelAngle",d),l=c.pstyle(e+"text-margin-x").pfValue,n=c.pstyle(e+"text-margin-y").pfValue,o=g.x1-p-l,q=g.x2+p-l,s=g.y1-p-n,t=g.y2+p-n;if(k){var u=Math.cos(k),v=Math.sin(k),w=function(a,b){return{x:(a-=i)*u-(b-=j)*v+i,y:a*v+b*u+j}},x=w(o,s),y=w(o,t),z=w(q,s),A=w(q,t);if(cw(a,b,[x.x+l,x.y+n,z.x+l,z.y+n,A.x+l,A.y+n,y.x+l,y.y+n]))return r(c),!0}else if(cl(g,a,b))return r(c),!0}}for(var u=i.length-1;u>=0;u--){var v=i[u];v.isNode()?s(v)||t(v):function(c){var d,e=c._private,f=e.rscratch,i=c.pstyle("width").pfValue,k=c.pstyle("arrow-scale").value,o=i/2+n,p=o*o,q=2*o,t=e.source,u=e.target;if("segments"===f.edgeType||"straight"===f.edgeType||"haystack"===f.edgeType){for(var v=f.allpts,w=0;w+3<v.length;w+=2)if(cq(a,b,v[w],v[w+1],v[w+2],v[w+3],q)&&p>(d=cv(a,b,v[w],v[w+1],v[w+2],v[w+3])))return r(c,d),!0}else if("bezier"===f.edgeType||"multibezier"===f.edgeType||"self"===f.edgeType||"compound"===f.edgeType){for(var v=f.allpts,w=0;w+5<f.allpts.length;w+=4)if(cr(a,b,v[w],v[w+1],v[w+2],v[w+3],v[w+4],v[w+5],q)&&p>(d=cu(a,b,v[w],v[w+1],v[w+2],v[w+3],v[w+4],v[w+5])))return r(c,d),!0}for(var t=t||e.source,u=u||e.target,x=g.getArrowWidth(i,k),y=[{name:"source",x:f.arrowStartX,y:f.arrowStartY,angle:f.srcArrowAngle},{name:"target",x:f.arrowEndX,y:f.arrowEndY,angle:f.tgtArrowAngle},{name:"mid-source",x:f.midX,y:f.midY,angle:f.midsrcArrowAngle},{name:"mid-target",x:f.midX,y:f.midY,angle:f.midtgtArrowAngle}],w=0;w<y.length;w++){var z=y[w],A=h.arrowShapes[c.pstyle(z.name+"-arrow-shape").value],B=c.pstyle("width").pfValue;if(A.roughCollide(a,b,x,z.angle,{x:z.x,y:z.y},B,n)&&A.collide(a,b,x,z.angle,{x:z.x,y:z.y},B,n))return r(c),!0}l&&j.length>0&&(s(t),s(u))}(v)||t(v)||t(v,"source")||t(v,"target")}return j},gP.getAllInBox=function(a,b,c,d){var e=this.getCachedZSortedEles().interactive,f=2/this.cy.zoom(),g=[],h=Math.min(a,c),i=Math.max(a,c),j=Math.min(b,d),k=Math.max(b,d);a=h,c=i;var l=cd({x1:a,y1:b=j,x2:c,y2:d=k}),n=[{x:l.x1,y:l.y1},{x:l.x2,y:l.y1},{x:l.x2,y:l.y2},{x:l.x1,y:l.y2}],o=[[n[0],n[1]],[n[1],n[2]],[n[2],n[3]],[n[3],n[0]]];function p(a,b){var c=a._private;a.boundingBox();var d=c.labelBounds.main;if(!d)return null;var e=bF(c.rscratch,"labelX",b),g=bF(c.rscratch,"labelY",b),h=bF(c.rscratch,"labelAngle",b),i=a.pstyle("text-margin-x").pfValue,j=a.pstyle("text-margin-y").pfValue,k=d.x1-f-i,l=d.x2+f-i,n=d.y1-f-j,o=d.y2+f-j;if(!h)return[{x:k,y:n},{x:l,y:n},{x:l,y:o},{x:k,y:o}];var p=Math.cos(h),q=Math.sin(h),r=function(a,b){return{x:(a-=e)*p-(b-=g)*q+e,y:a*q+b*p+g}};return[r(k,n),r(l,n),r(l,o),r(k,o)]}for(var q=0;q<e.length;q++){var r=e[q];if(r.isNode()){var s="yes"===r.pstyle("text-events").strValue,t=r.pstyle("box-selection").strValue,u="yes"===r.pstyle("box-select-labels").strValue;if("none"===t)continue;var v=("overlap"===t||u)&&s,w=r.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:v});if("contain"===t){var x=!1;if(u&&s){var y=p(r);y&&cR(y,n)&&(g.push(r),x=!0)}!x&&cn(l,w)&&g.push(r)}else if("overlap"===t&&ck(l,w)){var z=r.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1});if(cR([{x:z.x1,y:z.y1},{x:z.x2,y:z.y1},{x:z.x2,y:z.y2},{x:z.x1,y:z.y2}],n))g.push(r);else{var A=p(r);A&&cR(A,n)&&g.push(r)}}}else{var B=r._private,C=B.rscratch,D=r.pstyle("box-selection").strValue;if("none"===D)continue;if("contain"===D){if(null!=C.startX&&null!=C.startY&&!cl(l,C.startX,C.startY)||null!=C.endX&&null!=C.endY&&!cl(l,C.endX,C.endY))continue;if("bezier"===C.edgeType||"multibezier"===C.edgeType||"self"===C.edgeType||"compound"===C.edgeType||"segments"===C.edgeType||"haystack"===C.edgeType){for(var E=B.rstyle.bezierPts||B.rstyle.linePts||B.rstyle.haystackPts,F=!0,G=0;G<E.length;G++)if(!cm(l,E[G])){F=!1;break}F&&g.push(r)}else"straight"===C.edgeType&&g.push(r)}else if("overlap"===D){var H=!1;if(null!=C.startX&&null!=C.startY&&null!=C.endX&&null!=C.endY&&(cl(l,C.startX,C.startY)||cl(l,C.endX,C.endY)))g.push(r),H=!0;else if(!H&&"haystack"===C.edgeType){for(var I=B.rstyle.haystackPts,J=0;J<I.length;J++)if(cm(l,I[J])){g.push(r),H=!0;break}}if(!H){var K=B.rstyle.bezierPts||B.rstyle.linePts||B.rstyle.haystackPts;if((!K||K.length<2)&&"straight"===C.edgeType&&null!=C.startX&&null!=C.startY&&null!=C.endX&&null!=C.endY&&(K=[{x:C.startX,y:C.startY},{x:C.endX,y:C.endY}]),!K||K.length<2)continue;for(var L=0;L<K.length-1;L++){for(var M=K[L],N=K[L+1],O=0;O<o.length;O++){var P=an(o[O],2);if(function(a,b,c,d){function e(a,b,c){return(c.y-a.y)*(b.x-a.x)>(b.y-a.y)*(c.x-a.x)}return e(a,c,d)!==e(b,c,d)&&e(a,b,c)!==e(a,b,d)}(M,N,P[0],P[1])){g.push(r),H=!0;break}}if(H)break}}}}}return g};var gQ={};gQ.calculateArrowAngles=function(a){var b=a._private.rscratch,c="haystack"===b.edgeType,d="bezier"===b.edgeType,e="multibezier"===b.edgeType,f="segments"===b.edgeType,g="compound"===b.edgeType,h="self"===b.edgeType;if(c?(s=b.haystackPts[0],t=b.haystackPts[1],u=b.haystackPts[2],v=b.haystackPts[3]):(s=b.arrowStartX,t=b.arrowStartY,u=b.arrowEndX,v=b.arrowEndY),l=b.midX,n=b.midY,f)q=s-b.segpts[0],r=t-b.segpts[1];else if(e||g||h||d){var i=b.allpts,j=b9(i[0],i[2],i[4],.1),k=b9(i[1],i[3],i[5],.1);q=s-j,r=t-k}else q=s-l,r=t-n;b.srcArrowAngle=b3(q,r);var l=b.midX,n=b.midY;if(c&&(l=(s+u)/2,n=(t+v)/2),q=u-s,r=v-t,f){var i=b.allpts;if(i.length/2%2==0){var o=i.length/2,p=o-2;q=i[o]-i[p],r=i[o+1]-i[p+1]}else if(b.isRound)q=b.midVector[1],r=-b.midVector[0];else{var o=i.length/2-1,p=o-2;q=i[o]-i[p],r=i[o+1]-i[p+1]}}else if(e||g||h){var q,r,s,t,u,v,l,n,w,x,y,z,i=b.allpts;if(b.ctrlpts.length/2%2==0){var A=i.length/2-1,B=A+2,C=B+2;w=b9(i[A],i[B],i[C],0),x=b9(i[A+1],i[B+1],i[C+1],0),y=b9(i[A],i[B],i[C],1e-4),z=b9(i[A+1],i[B+1],i[C+1],1e-4)}else{var B=i.length/2-1,A=B-2,C=B+2;w=b9(i[A],i[B],i[C],.4999),x=b9(i[A+1],i[B+1],i[C+1],.4999),y=b9(i[A],i[B],i[C],.5),z=b9(i[A+1],i[B+1],i[C+1],.5)}q=y-w,r=z-x}if(b.midtgtArrowAngle=b3(q,r),b.midDispX=q,b.midDispY=r,q*=-1,r*=-1,f){var i=b.allpts;if(i.length/2%2==0);else if(!b.isRound){var o=i.length/2-1,D=o+2;q=-(i[D]-i[o]),r=-(i[D+1]-i[o+1])}}if(b.midsrcArrowAngle=b3(q,r),f)q=u-b.segpts[b.segpts.length-2],r=v-b.segpts[b.segpts.length-1];else if(e||g||h||d){var i=b.allpts,E=i.length,j=b9(i[E-6],i[E-4],i[E-2],.9),k=b9(i[E-5],i[E-3],i[E-1],.9);q=u-j,r=v-k}else q=u-l,r=v-n;b.tgtArrowAngle=b3(q,r)},gQ.getArrowWidth=gQ.getArrowHeight=function(a,b){var c=this.arrowWidthCache=this.arrowWidthCache||{},d=c[a+", "+b];return d||(d=Math.max(Math.pow(13.37*a,.9),29)*b,c[a+", "+b]=d),d};var gR,gS,gT,gU,gV,gW,gX,gY,gZ,g$,g_,g0,g1,g2,g3,g4,g5,g6,g7,g8,g9,ha,hb,hc,hd,he,hf,hg,hh,hi,hj,hk,hl,hm,hn,ho,hp,hq,hr,hs,ht,hu,hv,hw,hx,hy,hz,hA,hB,hC,hD,hE,hF,hG,hH,hI,hJ,hK,hL,hM,hN,hO,hP,hQ,hR,hS,hT,hU,hV,hW,hX,hY,hZ,h$,h_,h0,h1,h2,h3,h4,h5,h6,h7,h8,h9,ia,ib,ic,id,ie,ig,ih,ii,ij,ik,il,im,io,ip,iq,ir,is,it,iu,iv,iw,ix,iy,iz,iA,iB,iC,iD,iE,iF,iG,iH,iI,iJ,iK,iL,iM,iN,iO,iP,iQ,iR,iS,iT,iU,iV,iW,iX,iY,iZ,i$,i_,i0,i1,i2,i3,i4,i5,i6,i7,i8,i9,ja,jb,jc,jd,je,jf,jg,jh,ji,jj,jk,jl,jm={},jn={},jo=function(a,b,c){c.x=b.x-a.x,c.y=b.y-a.y,c.len=Math.sqrt(c.x*c.x+c.y*c.y),c.nx=c.x/c.len,c.ny=c.y/c.len,c.ang=Math.atan2(c.ny,c.nx)},jp=function(a,b){b.x=-1*a.x,b.y=-1*a.y,b.nx=-1*a.nx,b.ny=-1*a.ny,b.ang=a.ang>0?-(Math.PI-a.ang):Math.PI+a.ang},jq=function(a,b,c,d,e){if(a!==j?jo(b,a,jm):jp(jn,jm),jo(b,c,jn),jc=jm.nx*jn.ny-jm.ny*jn.nx,jd=jm.nx*jn.nx- -(jm.ny*jn.ny),1e-6>Math.abs(jg=Math.asin(Math.max(-1,Math.min(1,jc))))){ja=b.x,jb=b.y,ji=jk=0;return}je=1,jf=!1,jd<0?jg<0?jg=Math.PI+jg:(jg=Math.PI-jg,je=-1,jf=!0):jg>0&&(je=-1,jf=!0),jk=void 0!==b.radius?b.radius:d,jh=jg/2,jl=Math.min(jm.len/2,jn.len/2),ji=e?(jj=Math.abs(Math.cos(jh)*jk/Math.sin(jh)))>jl?Math.abs((jj=jl)*Math.sin(jh)/Math.cos(jh)):jk:Math.abs((jj=Math.min(jl,jk))*Math.sin(jh)/Math.cos(jh)),h=b.x+jn.nx*jj,i=b.y+jn.ny*jj,ja=h-jn.ny*ji*je,jb=i+jn.nx*ji*je,f=b.x+jm.nx*jj,g=b.y+jm.ny*jj,j=b};function jr(a,b){0===b.radius?a.lineTo(b.cx,b.cy):a.arc(b.cx,b.cy,b.radius,b.startAngle,b.endAngle,b.counterClockwise)}function js(a,b,c,d){var e=!(arguments.length>4)||void 0===arguments[4]||arguments[4];return 0===d||0===b.radius?{cx:b.x,cy:b.y,radius:0,startX:b.x,startY:b.y,stopX:b.x,stopY:b.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(jq(a,b,c,d,e),{cx:ja,cy:jb,radius:ji,startX:f,startY:g,stopX:h,stopY:i,startAngle:jm.ang+Math.PI/2*je,endAngle:jn.ang-Math.PI/2*je,counterClockwise:jf})}var jt=Math.sqrt(.02),ju={};function jv(a){var b=[];if(null!=a){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1];b.push({x:d,y:e})}return b}}ju.findMidptPtsEtc=function(a,b){var c,d=b.posPts,e=b.intersectionPts,f=b.vectorNormInverse,g=a.pstyle("source-endpoint"),h=a.pstyle("target-endpoint"),i=null!=g.units&&null!=h.units;switch(a.pstyle("edge-distances").value){case"node-position":c=d;break;case"intersection":c=e;break;case"endpoints":if(i){var j,k,l,n=an(this.manualEndptToPx(a.source()[0],g),2),o=n[0],p=n[1],q=an(this.manualEndptToPx(a.target()[0],h),2),r=q[0],s=q[1];j=s-p,l=Math.sqrt((k=r-o)*k+j*j),f={x:-j/l,y:k/l},c={x1:o,y1:p,x2:r,y2:s}}else bw("Edge ".concat(a.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),c=e}return{midptPts:c,vectorNormInverse:f}},ju.findHaystackPoints=function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c._private,e=d.rscratch;if(!e.haystack){var f=2*Math.random()*Math.PI;e.source={x:Math.cos(f),y:Math.sin(f)},e.target={x:Math.cos(f=2*Math.random()*Math.PI),y:Math.sin(f)}}var g=d.source,h=d.target,i=g.position(),j=h.position(),k=g.width(),l=h.width(),n=g.height(),o=h.height(),p=c.pstyle("haystack-radius").value/2;e.haystackPts=e.allpts=[e.source.x*k*p+i.x,e.source.y*n*p+i.y,e.target.x*l*p+j.x,e.target.y*o*p+j.y],e.midX=(e.allpts[0]+e.allpts[2])/2,e.midY=(e.allpts[1]+e.allpts[3])/2,e.edgeType="haystack",e.haystack=!0,this.storeEdgeProjections(c),this.calculateArrowAngles(c),this.recalculateEdgeLabelProjections(c),this.calculateLabelAngles(c)}},ju.findSegmentsPoints=function(a,b){var c=a._private.rscratch,d=a.pstyle("segment-weights"),e=a.pstyle("segment-distances"),f=a.pstyle("segment-radii"),g=a.pstyle("radius-type"),h=Math.min(d.pfValue.length,e.pfValue.length),i=f.pfValue[f.pfValue.length-1],j=g.pfValue[g.pfValue.length-1];c.edgeType="segments",c.segpts=[],c.radii=[],c.isArcRadius=[];for(var k=0;k<h;k++){var l=d.pfValue[k],n=e.pfValue[k],o=1-l,p=this.findMidptPtsEtc(a,b),q=p.midptPts,r=p.vectorNormInverse,s={x:q.x1*o+q.x2*l,y:q.y1*o+q.y2*l};c.segpts.push(s.x+r.x*n,s.y+r.y*n),c.radii.push(void 0!==f.pfValue[k]?f.pfValue[k]:i),c.isArcRadius.push((void 0!==g.pfValue[k]?g.pfValue[k]:j)==="arc-radius")}},ju.findLoopPoints=function(a,b,c,d){var e=a._private.rscratch,f=b.dirCounts,g=b.srcPos,h=a.pstyle("control-point-distances"),i=h?h.pfValue[0]:void 0,j=a.pstyle("loop-direction").pfValue,k=a.pstyle("loop-sweep").pfValue,l=a.pstyle("control-point-step-size").pfValue;e.edgeType="self";var n=c,o=l;d&&(n=0,o=i);var p=j-Math.PI/2,q=p-k/2,r=p+k/2,s=String(j+"_"+k);n=void 0===f[s]?f[s]=0:++f[s],e.ctrlpts=[g.x+1.4*Math.cos(q)*o*(n/3+1),g.y+1.4*Math.sin(q)*o*(n/3+1),g.x+1.4*Math.cos(r)*o*(n/3+1),g.y+1.4*Math.sin(r)*o*(n/3+1)]},ju.findCompoundLoopPoints=function(a,b,c,d){var e=a._private.rscratch;e.edgeType="compound";var f=b.srcPos,g=b.tgtPos,h=b.srcW,i=b.srcH,j=b.tgtW,k=b.tgtH,l=a.pstyle("control-point-step-size").pfValue,n=a.pstyle("control-point-distances"),o=n?n.pfValue[0]:void 0,p=c,q=l;d&&(p=0,q=o);var r={x:f.x-h/2,y:f.y-i/2},s={x:g.x-j/2,y:g.y-k/2},t={x:Math.min(r.x,s.x),y:Math.min(r.y,s.y)},u=Math.max(.5,Math.log(.01*h)),v=Math.max(.5,Math.log(.01*j));e.ctrlpts=[t.x,t.y-1.7995514309304248*q*(p/3+1)*u,t.x-1.7995514309304248*q*(p/3+1)*v,t.y]},ju.findStraightEdgePoints=function(a){a._private.rscratch.edgeType="straight"},ju.findBezierPoints=function(a,b,c,d,e){var f=a._private.rscratch,g=a.pstyle("control-point-step-size").pfValue,h=a.pstyle("control-point-distances"),i=a.pstyle("control-point-weights"),j=h&&i?Math.min(h.value.length,i.value.length):1,k=h?h.pfValue[0]:void 0,l=i.value[0];f.edgeType=d?"multibezier":"bezier",f.ctrlpts=[];for(var n=0;n<j;n++){var o=(.5-b.eles.length/2+c)*g*(e?-1:1),p=void 0,q=b5(o);d&&(k=h?h.pfValue[n]:g,l=i.value[n]);var r=void 0!==(p=d?k:void 0!==k?q*k:void 0)?p:o,s=1-l,t=l,u=this.findMidptPtsEtc(a,b),v=u.midptPts,w=u.vectorNormInverse,x={x:v.x1*s+v.x2*t,y:v.y1*s+v.y2*t};f.ctrlpts.push(x.x+w.x*r,x.y+w.y*r)}},ju.findTaxiPoints=function(a,b){var c,d=a._private.rscratch;d.edgeType="segments";var e="vertical",f="horizontal",g="leftward",h="rightward",i="downward",j="upward",k=b.posPts,l=b.srcW,n=b.srcH,o=b.tgtW,p=b.tgtH,q="node-position"!==a.pstyle("edge-distances").value,r=a.pstyle("taxi-direction").value,s=r,t=a.pstyle("taxi-turn"),u="%"===t.units,v=t.pfValue,w=a.pstyle("taxi-turn-min-distance").pfValue,x=k.x2-k.x1,y=k.y2-k.y1,z=function(a,b){return a>0?Math.max(a-b,0):Math.min(a+b,0)},A=z(x,q?(l+o)/2:0),B=z(y,q?(n+p)/2:0),C=!1;"auto"===s?r=Math.abs(A)>Math.abs(B)?f:e:s===j||s===i?(r=e,C=!0):(s===g||s===h)&&(r=f,C=!0);var D=r===e,E=D?B:A,F=D?y:x,G=b5(F),H=!1;!(C&&(u||v<0))&&(s===i&&F<0||s===j&&F>0||s===g&&F>0||s===h&&F<0)&&(G*=-1,E=G*Math.abs(E),H=!0);var I=function(a){return Math.abs(a)<w||Math.abs(a)>=Math.abs(E)},J=I(c=u?(v<0?1+v:v)*E:(v<0?E:0)+v*G),K=I(Math.abs(E)-Math.abs(c));if((J||K)&&!H)if(D){var L=Math.abs(x)<=o/2;if(Math.abs(F)<=n/2){var M=(k.x1+k.x2)/2;d.segpts=[M,k.y1,M,k.y2]}else if(L){var N=(k.y1+k.y2)/2;d.segpts=[k.x1,N,k.x2,N]}else d.segpts=[k.x1,k.y2]}else{var O=Math.abs(y)<=p/2;if(Math.abs(F)<=l/2){var P=(k.y1+k.y2)/2;d.segpts=[k.x1,P,k.x2,P]}else if(O){var Q=(k.x1+k.x2)/2;d.segpts=[Q,k.y1,Q,k.y2]}else d.segpts=[k.x2,k.y1]}else if(D){var R=k.y1+c+(q?n/2*G:0);d.segpts=[k.x1,R,k.x2,R]}else{var S=k.x1+c+(q?l/2*G:0);d.segpts=[S,k.y1,S,k.y2]}if(d.isRound){var T=a.pstyle("taxi-radius").value,U="arc-radius"===a.pstyle("radius-type").value[0];d.radii=Array(d.segpts.length/2).fill(T),d.isArcRadius=Array(d.segpts.length/2).fill(U)}},ju.tryToCorrectInvalidPoints=function(a,b){var c=a._private.rscratch;if("bezier"===c.edgeType){var d=b.srcPos,e=b.tgtPos,f=b.srcW,g=b.srcH,h=b.tgtW,i=b.tgtH,j=b.srcShape,k=b.tgtShape,l=b.srcCornerRadius,n=b.tgtCornerRadius,o=b.srcRs,p=b.tgtRs,q=!aB(c.startX)||!aB(c.startY),r=!aB(c.arrowStartX)||!aB(c.arrowStartY),s=!aB(c.endX)||!aB(c.endY),t=!aB(c.arrowEndX)||!aB(c.arrowEndY),u=3*(this.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.arrowShapeWidth),v=b6({x:c.ctrlpts[0],y:c.ctrlpts[1]},{x:c.startX,y:c.startY}),w=v<u,x=b6({x:c.ctrlpts[0],y:c.ctrlpts[1]},{x:c.endX,y:c.endY}),y=x<u,z=!1;if(q||r||w){z=!0;var A={x:c.ctrlpts[0]-d.x,y:c.ctrlpts[1]-d.y},B=Math.sqrt(A.x*A.x+A.y*A.y),C={x:A.x/B,y:A.y/B},D=Math.max(f,g),E={x:c.ctrlpts[0]+2*C.x*D,y:c.ctrlpts[1]+2*C.y*D},F=j.intersectLine(d.x,d.y,f,g,E.x,E.y,0,l,o);w?(c.ctrlpts[0]=c.ctrlpts[0]+C.x*(u-v),c.ctrlpts[1]=c.ctrlpts[1]+C.y*(u-v)):(c.ctrlpts[0]=F[0]+C.x*u,c.ctrlpts[1]=F[1]+C.y*u)}if(s||t||y){z=!0;var G={x:c.ctrlpts[0]-e.x,y:c.ctrlpts[1]-e.y},H=Math.sqrt(G.x*G.x+G.y*G.y),I={x:G.x/H,y:G.y/H},J=Math.max(f,g),K={x:c.ctrlpts[0]+2*I.x*J,y:c.ctrlpts[1]+2*I.y*J},L=k.intersectLine(e.x,e.y,h,i,K.x,K.y,0,n,p);y?(c.ctrlpts[0]=c.ctrlpts[0]+I.x*(u-x),c.ctrlpts[1]=c.ctrlpts[1]+I.y*(u-x)):(c.ctrlpts[0]=L[0]+I.x*u,c.ctrlpts[1]=L[1]+I.y*u)}z&&this.findEndpoints(a)}},ju.storeAllpts=function(a){var b=a._private.rscratch;if("multibezier"===b.edgeType||"bezier"===b.edgeType||"self"===b.edgeType||"compound"===b.edgeType){b.allpts=[],b.allpts.push(b.startX,b.startY);for(var c,d=0;d+1<b.ctrlpts.length;d+=2)b.allpts.push(b.ctrlpts[d],b.ctrlpts[d+1]),d+3<b.ctrlpts.length&&b.allpts.push((b.ctrlpts[d]+b.ctrlpts[d+2])/2,(b.ctrlpts[d+1]+b.ctrlpts[d+3])/2);(b.allpts.push(b.endX,b.endY),b.ctrlpts.length/2%2==0)?(c=b.allpts.length/2-1,b.midX=b.allpts[c],b.midY=b.allpts[c+1]):(c=b.allpts.length/2-3,b.midX=b9(b.allpts[c],b.allpts[c+2],b.allpts[c+4],.5),b.midY=b9(b.allpts[c+1],b.allpts[c+3],b.allpts[c+5],.5))}else if("straight"===b.edgeType)b.allpts=[b.startX,b.startY,b.endX,b.endY],b.midX=(b.startX+b.endX+b.arrowStartX+b.arrowEndX)/4,b.midY=(b.startY+b.endY+b.arrowStartY+b.arrowEndY)/4;else if("segments"===b.edgeType){if(b.allpts=[],b.allpts.push(b.startX,b.startY),b.allpts.push.apply(b.allpts,b.segpts),b.allpts.push(b.endX,b.endY),b.isRound){b.roundCorners=[];for(var e=2;e+3<b.allpts.length;e+=2){var f=b.radii[e/2-1],g=b.isArcRadius[e/2-1];b.roundCorners.push(js({x:b.allpts[e-2],y:b.allpts[e-1]},{x:b.allpts[e],y:b.allpts[e+1],radius:f},{x:b.allpts[e+2],y:b.allpts[e+3]},f,g))}}if(b.segpts.length%4==0){var h=b.segpts.length/2,i=h-2;b.midX=(b.segpts[i]+b.segpts[h])/2,b.midY=(b.segpts[i+1]+b.segpts[h+1])/2}else{var j=b.segpts.length/2-1;if(b.isRound){var k={x:b.segpts[j],y:b.segpts[j+1]},l=b.roundCorners[j/2];if(0===l.radius){var n={x:b.segpts[j+2],y:b.segpts[j+3]};b.midX=k.x,b.midY=k.y,b.midVector=[k.y-n.y,n.x-k.x]}else{var o=[k.x-l.cx,k.y-l.cy],p=l.radius/Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2));o=o.map(function(a){return a*p}),b.midX=l.cx+o[0],b.midY=l.cy+o[1],b.midVector=o}}else b.midX=b.segpts[j],b.midY=b.segpts[j+1]}}},ju.checkForInvalidEdgeWarning=function(a){var b=a[0]._private.rscratch;b.nodesOverlap||aB(b.startX)&&aB(b.startY)&&aB(b.endX)&&aB(b.endY)?b.loggedErr=!1:b.loggedErr||(b.loggedErr=!0,bw("Edge `"+a.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},ju.findEdgeControlPoints=function(a){var b=this;if(a&&0!==a.length){for(var c=this,d=c.cy.hasCompoundNodes(),e=new bI,f=function(a,b){return[].concat(ao(a),[+!!b]).join("-")},g=[],h=[],i=0;i<a.length;i++){var j=a[i],k=j._private,l=j.pstyle("curve-style").value;if(!j.removed()&&j.takesUpSpace()){if("haystack"===l){h.push(j);continue}var n="unbundled-bezier"===l||aP(l,"segments")||"straight"===l||"straight-triangle"===l||aP(l,"taxi"),o="unbundled-bezier"===l||"bezier"===l,p=k.source,q=k.target,r=[p.poolIndex(),q.poolIndex()].sort(),s=f(r,n),t=e.get(s);null==t&&(t={eles:[]},g.push({pairId:r,edgeIsUnbundled:n}),e.set(s,t)),t.eles.push(j),n&&(t.hasUnbundled=!0),o&&(t.hasBezier=!0)}}for(var u=0;u<g.length;u++)!function(){var a,h=g[u],i=f(h.pairId,h.edgeIsUnbundled),j=e.get(i);if(!j.hasUnbundled){var k=j.eles[0].parallelEdges().filter(function(a){return a.isBundledBezier()});bD(j.eles),k.forEach(function(a){return j.eles.push(a)}),j.eles.sort(function(a,b){return a.poolIndex()-b.poolIndex()})}var l=j.eles[0],n=l.source(),o=l.target();if(n.poolIndex()>o.poolIndex()){var p=n;n=o,o=p}var q=j.srcPos=n.position(),r=j.tgtPos=o.position(),s=j.srcW=n.outerWidth(),t=j.srcH=n.outerHeight(),v=j.tgtW=o.outerWidth(),w=j.tgtH=o.outerHeight(),x=j.srcShape=c.nodeShapes[b.getNodeShape(n)],y=j.tgtShape=c.nodeShapes[b.getNodeShape(o)],z=j.srcCornerRadius="auto"===n.pstyle("corner-radius").value?"auto":n.pstyle("corner-radius").pfValue,A=j.tgtCornerRadius="auto"===o.pstyle("corner-radius").value?"auto":o.pstyle("corner-radius").pfValue,B=j.tgtRs=o._private.rscratch,C=j.srcRs=n._private.rscratch;j.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var D=0;D<j.eles.length;D++){var E=j.eles[D],F=E[0]._private.rscratch,G=E.pstyle("curve-style").value,H="unbundled-bezier"===G||aP(G,"segments")||aP(G,"taxi"),I=!n.same(E.source());if(!j.calculatedIntersection&&n!==o&&(j.hasBezier||j.hasUnbundled)){j.calculatedIntersection=!0;var J=x.intersectLine(q.x,q.y,s,t,r.x,r.y,0,z,C),K=j.srcIntn=J,L=y.intersectLine(r.x,r.y,v,w,q.x,q.y,0,A,B),M=j.tgtIntn=L,N=j.intersectionPts={x1:J[0],x2:L[0],y1:J[1],y2:L[1]},O=j.posPts={x1:q.x,x2:r.x,y1:q.y,y2:r.y},P=L[1]-J[1],Q=L[0]-J[0],R=Math.sqrt(Q*Q+P*P);aB(R)&&R>=jt||(R=Math.sqrt(Math.max(Q*Q,.01)+Math.max(P*P,.01)));var S=j.vector={x:Q,y:P},T=j.vectorNorm={x:S.x/R,y:S.y/R},U={x:-T.y,y:T.x};j.nodesOverlap=!aB(R)||y.checkPoint(J[0],J[1],0,v,w,r.x,r.y,A,B)||x.checkPoint(L[0],L[1],0,s,t,q.x,q.y,z,C),j.vectorNormInverse=U,a={nodesOverlap:j.nodesOverlap,dirCounts:j.dirCounts,calculatedIntersection:!0,hasBezier:j.hasBezier,hasUnbundled:j.hasUnbundled,eles:j.eles,srcPos:r,srcRs:B,tgtPos:q,tgtRs:C,srcW:v,srcH:w,tgtW:s,tgtH:t,srcIntn:M,tgtIntn:K,srcShape:y,tgtShape:x,posPts:{x1:O.x2,y1:O.y2,x2:O.x1,y2:O.y1},intersectionPts:{x1:N.x2,y1:N.y2,x2:N.x1,y2:N.y1},vector:{x:-S.x,y:-S.y},vectorNorm:{x:-T.x,y:-T.y},vectorNormInverse:{x:-U.x,y:-U.y}}}var V=I?a:j;F.nodesOverlap=V.nodesOverlap,F.srcIntn=V.srcIntn,F.tgtIntn=V.tgtIntn,F.isRound=G.startsWith("round"),d&&(n.isParent()||n.isChild()||o.isParent()||o.isChild())&&(n.parents().anySame(o)||o.parents().anySame(n)||n.same(o)&&n.isParent())?b.findCompoundLoopPoints(E,V,D,H):n===o?b.findLoopPoints(E,V,D,H):G.endsWith("segments")?b.findSegmentsPoints(E,V):G.endsWith("taxi")?b.findTaxiPoints(E,V):"straight"!==G&&(H||j.eles.length%2!=1||D!==Math.floor(j.eles.length/2))?b.findBezierPoints(E,V,D,H,I):b.findStraightEdgePoints(E),b.findEndpoints(E),b.tryToCorrectInvalidPoints(E,V),b.checkForInvalidEdgeWarning(E),b.storeAllpts(E),b.storeEdgeProjections(E),b.calculateArrowAngles(E),b.recalculateEdgeLabelProjections(E),b.calculateLabelAngles(E)}}();this.findHaystackPoints(h)}},ju.getSegmentPoints=function(a){var b=a[0]._private.rscratch;if(this.recalculateRenderedStyle(a),"segments"===b.edgeType)return jv(b.segpts)},ju.getControlPoints=function(a){var b=a[0]._private.rscratch;this.recalculateRenderedStyle(a);var c=b.edgeType;if("bezier"===c||"multibezier"===c||"self"===c||"compound"===c)return jv(b.ctrlpts)},ju.getEdgeMidpoint=function(a){var b=a[0]._private.rscratch;return this.recalculateRenderedStyle(a),{x:b.midX,y:b.midY}};var jw={};jw.manualEndptToPx=function(a,b){var c=a.position(),d=a.outerWidth(),e=a.outerHeight(),f=a._private.rscratch;if(2===b.value.length){var g=[b.pfValue[0],b.pfValue[1]];return"%"===b.units[0]&&(g[0]=g[0]*d),"%"===b.units[1]&&(g[1]=g[1]*e),g[0]+=c.x,g[1]+=c.y,g}var h=b.pfValue[0];h=-Math.PI/2+h;var i=2*Math.max(d,e),j=[c.x+Math.cos(h)*i,c.y+Math.sin(h)*i];return this.nodeShapes[this.getNodeShape(a)].intersectLine(c.x,c.y,d,e,j[0],j[1],0,"auto"===a.pstyle("corner-radius").value?"auto":a.pstyle("corner-radius").pfValue,f)},jw.findEndpoints=function(a){var b,c,d,e,f,g,h,i,j,k=a.source()[0],l=a.target()[0],n=k.position(),o=l.position(),p=a.pstyle("target-arrow-shape").value,q=a.pstyle("source-arrow-shape").value,r=a.pstyle("target-distance-from-node").pfValue,s=a.pstyle("source-distance-from-node").pfValue,t=k._private.rscratch,u=l._private.rscratch,v=a.pstyle("curve-style").value,w=a._private.rscratch,x=w.edgeType,y=aP(v,"taxi"),z="self"===x||"compound"===x,A="bezier"===x||"multibezier"===x||z,B="bezier"!==x,C="straight"===x||"segments"===x,D="segments"===x,E=z||y,F=a.pstyle("source-endpoint"),G=E?"outside-to-node":F.value,H="auto"===k.pstyle("corner-radius").value?"auto":k.pstyle("corner-radius").pfValue,I=a.pstyle("target-endpoint"),J=E?"outside-to-node":I.value,K="auto"===l.pstyle("corner-radius").value?"auto":l.pstyle("corner-radius").pfValue;w.srcManEndpt=F,w.tgtManEndpt=I;var L=null!=(b=(null==I||null==(c=I.pfValue)?void 0:c.length)===2?I.pfValue:null)?b:[0,0],M=null!=(d=(null==F||null==(e=F.pfValue)?void 0:e.length)===2?F.pfValue:null)?d:[0,0];if(A){var N=[w.ctrlpts[0],w.ctrlpts[1]];g=B?[w.ctrlpts[w.ctrlpts.length-2],w.ctrlpts[w.ctrlpts.length-1]]:N,h=N}else if(C){var O=D?w.segpts.slice(0,2):[o.x+L[0],o.y+L[1]];g=D?w.segpts.slice(w.segpts.length-2):[n.x+M[0],n.y+M[1]],h=O}if("inside-to-node"===J)f=[o.x,o.y];else if(I.units)f=this.manualEndptToPx(l,I);else if("outside-to-line"===J)f=w.tgtIntn;else if("outside-to-node"===J||"outside-to-node-or-label"===J?i=g:("outside-to-line"===J||"outside-to-line-or-label"===J)&&(i=[n.x,n.y]),f=this.nodeShapes[this.getNodeShape(l)].intersectLine(o.x,o.y,l.outerWidth(),l.outerHeight(),i[0],i[1],0,K,u),"outside-to-node-or-label"===J||"outside-to-line-or-label"===J){var P=l._private.rscratch,Q=P.labelWidth,R=P.labelHeight,S=P.labelX,T=P.labelY,U=Q/2,V=R/2,W=l.pstyle("text-valign").value;"top"===W?T-=V:"bottom"===W&&(T+=V);var X=l.pstyle("text-halign").value;"left"===X?S-=U:"right"===X&&(S+=U);var Y=cH(i[0],i[1],[S-U,T-V,S+U,T-V,S+U,T+V,S-U,T+V],o.x,o.y);if(Y.length>0){var Z=b7(n,b$(f)),$=b7(n,b$(Y)),_=Z;$<Z&&(f=Y,_=$),Y.length>2&&b7(n,{x:Y[2],y:Y[3]})<_&&(f=[Y[2],Y[3]])}}var aa=cJ(f,g,this.arrowShapes[p].spacing(a)+r),ab=cJ(f,g,this.arrowShapes[p].gap(a)+r);if(w.endX=ab[0],w.endY=ab[1],w.arrowEndX=aa[0],w.arrowEndY=aa[1],"inside-to-node"===G)f=[n.x,n.y];else if(F.units)f=this.manualEndptToPx(k,F);else if("outside-to-line"===G)f=w.srcIntn;else if("outside-to-node"===G||"outside-to-node-or-label"===G?j=h:("outside-to-line"===G||"outside-to-line-or-label"===G)&&(j=[o.x,o.y]),f=this.nodeShapes[this.getNodeShape(k)].intersectLine(n.x,n.y,k.outerWidth(),k.outerHeight(),j[0],j[1],0,H,t),"outside-to-node-or-label"===G||"outside-to-line-or-label"===G){var ac=k._private.rscratch,ad=ac.labelWidth,ae=ac.labelHeight,af=ac.labelX,ag=ac.labelY,ah=ad/2,ai=ae/2,aj=k.pstyle("text-valign").value;"top"===aj?ag-=ai:"bottom"===aj&&(ag+=ai);var ak=k.pstyle("text-halign").value;"left"===ak?af-=ah:"right"===ak&&(af+=ah);var al=cH(j[0],j[1],[af-ah,ag-ai,af+ah,ag-ai,af+ah,ag+ai,af-ah,ag+ai],n.x,n.y);if(al.length>0){var am=b7(o,b$(f)),an=b7(o,b$(al)),ao=am;an<am&&(f=[al[0],al[1]],ao=an),al.length>2&&b7(o,{x:al[2],y:al[3]})<ao&&(f=[al[2],al[3]])}}var ap=cJ(f,h,this.arrowShapes[q].spacing(a)+s),aq=cJ(f,h,this.arrowShapes[q].gap(a)+s);w.startX=aq[0],w.startY=aq[1],w.arrowStartX=ap[0],w.arrowStartY=ap[1],(A||B||C)&&(aB(w.startX)&&aB(w.startY)&&aB(w.endX)&&aB(w.endY)?w.badLine=!1:w.badLine=!0)},jw.getSourceEndpoint=function(a){var b=a[0]._private.rscratch;return(this.recalculateRenderedStyle(a),"haystack"===b.edgeType)?{x:b.haystackPts[0],y:b.haystackPts[1]}:{x:b.arrowStartX,y:b.arrowStartY}},jw.getTargetEndpoint=function(a){var b=a[0]._private.rscratch;return(this.recalculateRenderedStyle(a),"haystack"===b.edgeType)?{x:b.haystackPts[2],y:b.haystackPts[3]}:{x:b.arrowEndX,y:b.arrowEndY}};var jx={};jx.storeEdgeProjections=function(a){var b=a._private,c=b.rscratch,d=c.edgeType;if(b.rstyle.bezierPts=null,b.rstyle.linePts=null,b.rstyle.haystackPts=null,"multibezier"===d||"bezier"===d||"self"===d||"compound"===d){b.rstyle.bezierPts=[];for(var e=0;e+5<c.allpts.length;e+=4)!function(a,b,c){for(var d=function(a,b,c,d){return b9(a,b,c,d)},e=b._private.rstyle.bezierPts,f=0;f<a.bezierProjPcts.length;f++){var g=a.bezierProjPcts[f];e.push({x:d(c[0],c[2],c[4],g),y:d(c[1],c[3],c[5],g)})}}(this,a,c.allpts.slice(e,e+6))}else if("segments"===d)for(var f=b.rstyle.linePts=[],e=0;e+1<c.allpts.length;e+=2)f.push({x:c.allpts[e],y:c.allpts[e+1]});else if("haystack"===d){var g=c.haystackPts;b.rstyle.haystackPts=[{x:g[0],y:g[1]},{x:g[2],y:g[3]}]}b.rstyle.arrowWidth=this.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.arrowShapeWidth},jx.recalculateEdgeProjections=function(a){this.findEdgeControlPoints(a)};var jy={};jy.recalculateNodeLabelProjection=function(a){var b,c;if(!aI(a.pstyle("label").strValue)){var d=a._private,e=a.width(),f=a.height(),g=a.padding(),h=a.position(),i=a.pstyle("text-halign").strValue,j=a.pstyle("text-valign").strValue,k=d.rscratch,l=d.rstyle;switch(i){case"left":b=h.x-e/2-g;break;case"right":b=h.x+e/2+g;break;default:b=h.x}switch(j){case"top":c=h.y-f/2-g;break;case"bottom":c=h.y+f/2+g;break;default:c=h.y}k.labelX=b,k.labelY=c,l.labelX=b,l.labelY=c,this.calculateLabelAngles(a),this.applyLabelDimensions(a)}};var jz=function(a,b){var c=Math.atan(b/a);return 0===a&&c<0&&(c*=-1),c},jA=function(a,b){return jz(b.x-a.x,b.y-a.y)},jB=function(a,b,c,d){var e=cc(0,d-.001,1),f=cc(0,d+.001,1);return jA(ca(a,b,c,e),ca(a,b,c,f))};jy.recalculateEdgeLabelProjections=function(a){var b,c=a._private,d=c.rscratch,e=this,f={mid:a.pstyle("label").strValue,source:a.pstyle("source-label").strValue,target:a.pstyle("target-label").strValue};if(f.mid||f.source||f.target){b={x:d.midX,y:d.midY};var g=function(a,b,d){bG(c.rscratch,a,b,d),bG(c.rstyle,a,b,d)};g("labelX",null,b.x),g("labelY",null,b.y),g("labelAutoAngle",null,jz(d.midDispX,d.midDispY));var h=function(){if(h.cache)return h.cache;for(var a=[],b=0;b+5<d.allpts.length;b+=4){var f={x:d.allpts[b],y:d.allpts[b+1]},g={x:d.allpts[b+2],y:d.allpts[b+3]},i={x:d.allpts[b+4],y:d.allpts[b+5]};a.push({p0:f,p1:g,p2:i,startDist:0,length:0,segments:[]})}var j=c.rstyle.bezierPts,k=e.bezierProjPcts.length;function l(a,b,c,d,e){var f=b6(b,c),g=a.segments[a.segments.length-1],h={p0:b,p1:c,t0:d,t1:e,startDist:g?g.startDist+g.length:0,length:f};a.segments.push(h),a.length+=f}for(var n=0;n<a.length;n++){var o=a[n],p=a[n-1];p&&(o.startDist=p.startDist+p.length),l(o,o.p0,j[n*k],0,e.bezierProjPcts[0]);for(var q=0;q<k-1;q++)l(o,j[n*k+q],j[n*k+q+1],e.bezierProjPcts[q],e.bezierProjPcts[q+1]);l(o,j[n*k+k-1],o.p2,e.bezierProjPcts[k-1],1)}return h.cache=a},i=function(c){var e="source"===c;if(f[c]){var i=a.pstyle(c+"-text-offset").pfValue;switch(d.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var j,k,l=h(),n=0,o=0,p=0;p<l.length;p++){for(var q=l[e?p:l.length-1-p],r=0;r<q.segments.length;r++){var s=q.segments[e?r:q.segments.length-1-r],t=p===l.length-1&&r===q.segments.length-1;if(n=o,(o+=s.length)>=i||t){k={cp:q,segment:s};break}}if(k)break}var u=k.cp,v=k.segment,w=(i-n)/v.length,x=v.t1-v.t0,y=e?v.t0+x*w:v.t1-x*w;y=cc(0,y,1),b=ca(u.p0,u.p1,u.p2,y),j=jB(u.p0,u.p1,u.p2,y);break;case"straight":case"segments":case"haystack":for(var z,A,B,C,D=0,E=d.allpts.length,F=0;F+3<E&&(e?(z={x:d.allpts[F],y:d.allpts[F+1]},A={x:d.allpts[F+2],y:d.allpts[F+3]}):(z={x:d.allpts[E-2-F],y:d.allpts[E-1-F]},A={x:d.allpts[E-4-F],y:d.allpts[E-3-F]}),B=b6(z,A),C=D,!((D+=B)>=i));F+=2);var G=(i-C)/B;b=cb(z,A,G=cc(0,G,1)),j=jA(z,A)}g("labelX",c,b.x),g("labelY",c,b.y),g("labelAutoAngle",c,j)}};i("source"),i("target"),this.applyLabelDimensions(a)}},jy.applyLabelDimensions=function(a){this.applyPrefixedLabelDimensions(a),a.isEdge()&&(this.applyPrefixedLabelDimensions(a,"source"),this.applyPrefixedLabelDimensions(a,"target"))},jy.applyPrefixedLabelDimensions=function(a,b){var c=a._private,d=this.getLabelText(a,b),e=bj(d,a._private.labelDimsKey);if(bF(c.rscratch,"prefixedLabelDimsKey",b)!==e){bG(c.rscratch,"prefixedLabelDimsKey",b,e);var f=this.calculateLabelDimensions(a,d),g=a.pstyle("line-height").pfValue,h=a.pstyle("text-wrap").strValue,i=bF(c.rscratch,"labelWrapCachedLines",b)||[],j="wrap"!==h?1:Math.max(i.length,1),k=f.height/j,l=f.width,n=f.height+(j-1)*(g-1)*k;bG(c.rstyle,"labelWidth",b,l),bG(c.rscratch,"labelWidth",b,l),bG(c.rstyle,"labelHeight",b,n),bG(c.rscratch,"labelHeight",b,n),bG(c.rscratch,"labelLineHeight",b,k*g)}},jy.getLabelText=function(a,b){var c=a._private,d=b?b+"-":"",e=a.pstyle(d+"label").strValue,f=a.pstyle("text-transform").value,g=function(a,d){return d?(bG(c.rscratch,a,b,d),d):bF(c.rscratch,a,b)};if(!e)return"";"none"==f||("uppercase"==f?e=e.toUpperCase():"lowercase"==f&&(e=e.toLowerCase()));var h=a.pstyle("text-wrap").value;if("wrap"===h){var i=g("labelKey");if(null!=i&&g("labelWrapKey")===i)return g("labelWrapCachedText");for(var j=e.split("\n"),k=a.pstyle("text-max-width").pfValue,l="anywhere"===a.pstyle("text-overflow-wrap").value,n=[],o=/[\s\u200b]+|$/g,p=0;p<j.length;p++){var q=j[p],r=this.calculateLabelDimensions(a,q).width;if(l&&(q=q.split("").join("")),r>k){var s,t=q.matchAll(o),u="",v=0,w=al(t);try{for(w.s();!(s=w.n()).done;){var x=s.value,y=x[0],z=q.substring(v,x.index);v=x.index+y.length;var A=0===u.length?z:u+z+y;this.calculateLabelDimensions(a,A).width<=k?u+=z+y:(u&&n.push(u),u=z+y)}}catch(a){w.e(a)}finally{w.f()}u.match(/^[\s\u200b]+$/)||n.push(u)}else n.push(q)}g("labelWrapCachedLines",n),e=g("labelWrapCachedText",n.join("\n")),g("labelWrapKey",i)}else if("ellipsis"===h){var B=a.pstyle("text-max-width").pfValue,C="",D=!1;if(this.calculateLabelDimensions(a,e).width<B)return e;for(var E=0;E<e.length&&!(this.calculateLabelDimensions(a,C+e[E]+"").width>B);E++)C+=e[E],E===e.length-1&&(D=!0);return D||(C+=""),C}return e},jy.getLabelJustification=function(a){var b=a.pstyle("text-justification").strValue,c=a.pstyle("text-halign").strValue;if("auto"!==b)return b;if(!a.isNode())return"center";switch(c){case"left":return"right";case"right":return"left";default:return"center"}},jy.calculateLabelDimensions=function(a,b){var c=this.cy.window().document,d=a.pstyle("font-style").strValue,e=a.pstyle("font-size").pfValue,f=a.pstyle("font-family").strValue,g=a.pstyle("font-weight").strValue,h=this.labelCalcCanvas,i=this.labelCalcCanvasContext;if(!h){h=this.labelCalcCanvas=c.createElement("canvas"),i=this.labelCalcCanvasContext=h.getContext("2d");var j=h.style;j.position="absolute",j.left="-9999px",j.top="-9999px",j.zIndex="-1",j.visibility="hidden",j.pointerEvents="none"}i.font="".concat(d," ").concat(g," ").concat(e,"px ").concat(f);for(var k=0,l=0,n=b.split("\n"),o=0;o<n.length;o++){var p=n[o];k=Math.max(Math.ceil(i.measureText(p).width),k),l+=e}return{width:k+=0,height:l+=0}},jy.calculateLabelAngle=function(a,b){var c=a._private.rscratch,d=a.isEdge(),e=a.pstyle((b?b+"-":"")+"text-rotation"),f=e.strValue;return"none"===f?0:d&&"autorotate"===f?c.labelAutoAngle:"autorotate"===f?0:e.pfValue},jy.calculateLabelAngles=function(a){var b=a.isEdge(),c=a._private.rscratch;c.labelAngle=this.calculateLabelAngle(a),b&&(c.sourceLabelAngle=this.calculateLabelAngle(a,"source"),c.targetLabelAngle=this.calculateLabelAngle(a,"target"))};var jC={},jD=!1;jC.getNodeShape=function(a){var b=a.pstyle("shape").value;if("cutrectangle"===b&&(28>a.width()||28>a.height()))return jD||(bw("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),jD=!0),"rectangle";if(a.isParent())if("rectangle"===b||"roundrectangle"===b||"round-rectangle"===b||"cutrectangle"===b||"cut-rectangle"===b||"barrel"===b)return b;else return"rectangle";if("polygon"===b){var c=a.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(c).name}return b};var jE={};jE.registerCalculationListeners=function(){var a=this.cy,b=a.collection(),c=this,d=function(a){var c=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(b.merge(a),c)for(var d=0;d<a.length;d++){var e=a[d]._private.rstyle;e.clean=!1,e.cleanConnected=!1}};c.binder(a).on("bounds.* dirty.*",function(a){d(a.target)}).on("style.* background.*",function(a){d(a.target,!1)});var e=function(e){if(e){var f=c.onUpdateEleCalcsFns;b.cleanStyle();for(var g=0;g<b.length;g++){var h=b[g],i=h._private.rstyle;h.isNode()&&!i.cleanConnected&&(d(h.connectedEdges()),i.cleanConnected=!0)}if(f)for(var j=0;j<f.length;j++)(0,f[j])(e,b);c.recalculateRenderedStyle(b),b=a.collection()}};c.flushRenderedStyleQueue=function(){e(!0)},c.beforeRender(e,c.beforeRenderPriorities.eleCalcs)},jE.onUpdateEleCalcs=function(a){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(a)},jE.recalculateRenderedStyle=function(a,b){var c=function(a){return a._private.rstyle.cleanConnected};if(0!==a.length){var d=[],e=[];if(!this.destroyed){void 0===b&&(b=!0);for(var f=0;f<a.length;f++){var g=a[f],h=g._private,i=h.rstyle;!g.isEdge()||c(g.source())&&c(g.target())||(i.clean=!1),g.isEdge()&&g.isBundledBezier()&&g.parallelEdges().some(function(a){return!a._private.rstyle.clean&&a.isBundledBezier()})&&(i.clean=!1),b&&i.clean||g.removed()||"none"!==g.pstyle("display").value&&("nodes"===h.group?e.push(g):d.push(g),i.clean=!0)}for(var j=0;j<e.length;j++){var k=e[j],l=k._private.rstyle,n=k.position();this.recalculateNodeLabelProjection(k),l.nodeX=n.x,l.nodeY=n.y,l.nodeW=k.pstyle("width").pfValue,l.nodeH=k.pstyle("height").pfValue}this.recalculateEdgeProjections(d);for(var o=0;o<d.length;o++){var p=d[o]._private,q=p.rstyle,r=p.rscratch;q.srcX=r.arrowStartX,q.srcY=r.arrowStartY,q.tgtX=r.arrowEndX,q.tgtY=r.arrowEndY,q.midX=r.midX,q.midY=r.midY,q.labelAngle=r.labelAngle,q.sourceLabelAngle=r.sourceLabelAngle,q.targetLabelAngle=r.targetLabelAngle}}}};var jF={};jF.updateCachedGrabbedEles=function(){var a=this.cachedZSortedEles;if(a){a.drag=[],a.nondrag=[];for(var b=[],c=0;c<a.length;c++){var d=a[c],e=d._private.rscratch;d.grabbed()&&!d.isParent()?b.push(d):e.inDragLayer?a.drag.push(d):a.nondrag.push(d)}for(var c=0;c<b.length;c++){var d=b[c];a.drag.push(d)}}},jF.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null},jF.getCachedZSortedEles=function(a){if(a||!this.cachedZSortedEles){var b=this.cy.mutableElements().toArray();b.sort(fi),b.interactive=b.filter(function(a){return a.interactive()}),this.cachedZSortedEles=b,this.updateCachedGrabbedEles()}else b=this.cachedZSortedEles;return b};var jG={};[gP,gQ,ju,jw,jx,jy,jC,jE,jF].forEach(function(a){aW(jG,a)});var jH={};jH.getCachedImage=function(a,b,c){var d=this.imageCache=this.imageCache||{},e=d[a];if(e)return e.image.complete||e.image.addEventListener("load",c),e.image;var f=(e=d[a]=d[a]||{}).image=new Image;f.addEventListener("load",c),f.addEventListener("error",function(){f.error=!0});var g="data:";return a.substring(0,g.length).toLowerCase()!==g&&(f.crossOrigin=b="null"===b?null:b),f.src=a,f};var jI={};jI.registerBinding=function(a,b,c,d){var e=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(a)){for(var f=[],g=0;g<a.length;g++){var h=a[g];if(void 0!==h){var i=this.binder(h);f.push(i.on.apply(i,e))}}return f}var i=this.binder(a);return i.on.apply(i,e)},jI.binder=function(a){var b=this,c=b.cy.window(),d=a===c||a===c.document||a===c.document.body||!("u"<typeof HTMLElement)&&a instanceof HTMLElement;if(null==b.supportsPassiveEvents){var e=!1;try{var f=Object.defineProperty({},"passive",{get:function(){return e=!0,!0}});c.addEventListener("test",null,f)}catch(a){}b.supportsPassiveEvents=e}var g=function(c,e,f){var g=Array.prototype.slice.call(arguments);return d&&b.supportsPassiveEvents&&(g[2]={capture:null!=f&&f,passive:!1,once:!1}),b.bindings.push({target:a,args:g}),(a.addEventListener||a.on).apply(a,g),this};return{on:g,addEventListener:g,addListener:g,bind:g}},jI.nodeIsDraggable=function(a){return a&&a.isNode()&&!a.locked()&&a.grabbable()},jI.nodeIsGrabbable=function(a){return this.nodeIsDraggable(a)&&a.interactive()},jI.load=function(){var a,b,c,d,e,f,g,h,i,j,k,l,n,o,p,q,r,s,t,u,v,w,x,y,z,A=this,B=A.cy.window(),C=function(a){return a.selected()},D=function(a,b,c,d){null==a&&(a=A.cy);for(var e=0;e<b.length;e++){var f=b[e];a.emit({originalEvent:c,type:f,position:d})}},E=function(a){return a.shiftKey||a.metaKey||a.ctrlKey},F=function(a,b){var c=!0;if(A.cy.hasCompoundNodes()&&a&&a.pannable())for(var d=0;b&&d<b.length;d++){var a=b[d];if(a.isNode()&&a.isParent()&&!a.pannable()){c=!1;break}}else c=!0;return c},G=function(a){a[0]._private.grabbed=!0},H=function(a){a[0]._private.grabbed=!1},I=function(a){a[0]._private.rscratch.inDragLayer=!0},J=function(a){a[0]._private.rscratch.inDragLayer=!1},K=function(a){a[0]._private.rscratch.isGrabTarget=!0},L=function(a){a[0]._private.rscratch.isGrabTarget=!1},M=function(a,b){var c=b.addToList;!c.has(a)&&a.grabbable()&&!a.locked()&&(c.merge(a),G(a))},N=function(a,b){if(a.cy().hasCompoundNodes()&&(null!=b.inDragLayer||null!=b.addToList)){var c=a.descendants();b.inDragLayer&&(c.forEach(I),c.connectedEdges().forEach(I)),b.addToList&&M(c,b)}},O=function(a,b){b=b||{};var c=a.cy().hasCompoundNodes();b.inDragLayer&&(a.forEach(I),a.neighborhood().stdFilter(function(a){return!c||a.isEdge()}).forEach(I)),b.addToList&&a.forEach(function(a){M(a,b)}),N(a,b),Q(a,{inDragLayer:b.inDragLayer}),A.updateCachedGrabbedEles()},P=function(a){a&&(A.getCachedZSortedEles().forEach(function(a){H(a),J(a),L(a)}),A.updateCachedGrabbedEles())},Q=function(a,b){if((null!=b.inDragLayer||null!=b.addToList)&&a.cy().hasCompoundNodes()){var c=a.ancestors().orphans();if(!c.same(a)){var d=c.descendants().spawnSelf().merge(c).unmerge(a).unmerge(a.descendants()),e=d.connectedEdges();b.inDragLayer&&(e.forEach(I),d.forEach(I)),b.addToList&&d.forEach(function(a){M(a,b)})}}},R=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},S="u">typeof MutationObserver,T="u">typeof ResizeObserver;S?(A.removeObserver=new MutationObserver(function(a){for(var b=0;b<a.length;b++){var c=a[b].removedNodes;if(c){for(var d=0;d<c.length;d++)if(c[d]===A.container){A.destroy();break}}}}),A.container.parentNode&&A.removeObserver.observe(A.container.parentNode,{childList:!0})):A.registerBinding(A.container,"DOMNodeRemoved",function(a){A.destroy()});var U=a9(function(){A.cy.resize()},100);S&&(A.styleObserver=new MutationObserver(U),A.styleObserver.observe(A.container,{attributes:!0})),A.registerBinding(B,"resize",U),T&&(A.resizeObserver=new ResizeObserver(U),A.resizeObserver.observe(A.container));for(var V=function(){A.invalidateContainerClientCoordsCache()},W=A.container;null!=W;){a=W,A.registerBinding(a,"transitionend",V),A.registerBinding(a,"animationend",V),A.registerBinding(a,"scroll",V),W=W.parentNode}A.registerBinding(A.container,"contextmenu",function(a){a.preventDefault()});var X=function(a){for(var b=A.findContainerClientCoords(),c=b[0],d=b[1],e=b[2],f=b[3],g=a.touches?a.touches:[a],h=!1,i=0;i<g.length;i++){var j=g[i];if(c<=j.clientX&&j.clientX<=c+e&&d<=j.clientY&&j.clientY<=d+f){h=!0;break}}if(!h)return!1;for(var k=A.container,l=a.target.parentNode,n=!1;l;){if(l===k){n=!0;break}l=l.parentNode}return!!n};A.registerBinding(A.container,"mousedown",function(a){if(X(a)&&(1!==A.hoverData.which||1===a.which)){a.preventDefault(),R(),A.hoverData.capture=!0,A.hoverData.which=a.which;var b=A.cy,c=[a.clientX,a.clientY],d=A.projectIntoViewport(c[0],c[1]),e=A.selection,f=A.findNearestElements(d[0],d[1],!0,!1),g=f[0],h=A.dragData.possibleDragElements;A.hoverData.mdownPos=d,A.hoverData.mdownGPos=c;var i=function(b){return{originalEvent:a,type:b,position:{x:d[0],y:d[1]}}};if(3==a.which){A.hoverData.cxtStarted=!0;var j={originalEvent:a,type:"cxttapstart",position:{x:d[0],y:d[1]}};g?(g.activate(),g.emit(j),A.hoverData.down=g):b.emit(j),A.hoverData.downTime=new Date().getTime(),A.hoverData.cxtDragged=!1}else if(1==a.which){if(g&&g.activate(),null!=g&&A.nodeIsGrabbable(g)){if(K(g),g.selected()){h=A.dragData.possibleDragElements=b.collection();var k=b.$(function(a){return a.isNode()&&a.selected()&&A.nodeIsGrabbable(a)});O(k,{addToList:h}),g.emit(i("grabon")),k.forEach(function(a){a.emit(i("grab"))})}else O(g,{addToList:h=A.dragData.possibleDragElements=b.collection()}),g.emit(i("grabon")).emit(i("grab"));A.redrawHint("eles",!0),A.redrawHint("drag",!0)}A.hoverData.down=g,A.hoverData.downs=f,A.hoverData.downTime=new Date().getTime(),D(g,["mousedown","tapstart","vmousedown"],a,{x:d[0],y:d[1]}),null==g?(e[4]=1,A.data.bgActivePosistion={x:d[0],y:d[1]},A.redrawHint("select",!0),A.redraw()):g.pannable()&&(e[4]=1),A.hoverData.tapholdCancelled=!1,clearTimeout(A.hoverData.tapholdTimeout),A.hoverData.tapholdTimeout=setTimeout(function(){if(!A.hoverData.tapholdCancelled){var a=A.hoverData.down;a?a.emit(i("taphold")):b.emit(i("taphold"))}},A.tapholdDuration)}e[0]=e[2]=d[0],e[1]=e[3]=d[1]}},!1);var Y=function(a){var b=a.getRootNode();if(b&&11===b.nodeType&&void 0!==b.host)return b}(A.container);A.registerBinding([B,Y],"mousemove",function(a){var b,c;if(A.hoverData.capture||X(a)){var d=!1,e=A.cy,f=e.zoom(),g=[a.clientX,a.clientY],h=A.projectIntoViewport(g[0],g[1]),i=A.hoverData.mdownPos,j=A.hoverData.mdownGPos,k=A.selection,l=null;A.hoverData.draggingEles||A.hoverData.dragging||A.hoverData.selecting||(l=A.findNearestElement(h[0],h[1],!0,!1));var n=A.hoverData.last,o=A.hoverData.down,p=[h[0]-k[2],h[1]-k[3]],q=A.dragData.possibleDragElements;if(j){var r=g[0]-j[0],s=g[1]-j[1];A.hoverData.isOverThresholdDrag=b=r*r+s*s>=A.desktopTapThreshold2}var t=E(a);b&&(A.hoverData.tapholdCancelled=!0),d=!0,D(l,["mousemove","vmousemove","tapdrag"],a,{x:h[0],y:h[1]});var u=function(b){return{originalEvent:a,type:b,position:{x:h[0],y:h[1]}}},v=function(){A.data.bgActivePosistion=void 0,A.hoverData.selecting||e.emit(u("boxstart")),k[4]=1,A.hoverData.selecting=!0,A.redrawHint("select",!0),A.redraw()};if(3===A.hoverData.which){if(b){var w=u("cxtdrag");o?o.emit(w):e.emit(w),A.hoverData.cxtDragged=!0,(!A.hoverData.cxtOver||l!==A.hoverData.cxtOver)&&(A.hoverData.cxtOver&&A.hoverData.cxtOver.emit(u("cxtdragout")),A.hoverData.cxtOver=l,l&&l.emit(u("cxtdragover")))}}else if(A.hoverData.dragging){if(d=!0,e.panningEnabled()&&e.userPanningEnabled()){if(A.hoverData.justStartedPan){var x=A.hoverData.mdownPos;c={x:(h[0]-x[0])*f,y:(h[1]-x[1])*f},A.hoverData.justStartedPan=!1}else c={x:p[0]*f,y:p[1]*f};e.panBy(c),e.emit(u("dragpan")),A.hoverData.dragged=!0}h=A.projectIntoViewport(a.clientX,a.clientY)}else if(1==k[4]&&(null==o||o.pannable()))b&&(!A.hoverData.dragging&&e.boxSelectionEnabled()&&(t||!e.panningEnabled()||!e.userPanningEnabled())?v():!A.hoverData.selecting&&e.panningEnabled()&&e.userPanningEnabled()&&F(o,A.hoverData.downs)&&(A.hoverData.dragging=!0,A.hoverData.justStartedPan=!0,k[4]=0,A.data.bgActivePosistion=b$(i),A.redrawHint("select",!0),A.redraw()),o&&o.pannable()&&o.active()&&o.unactivate());else{if(o&&o.pannable()&&o.active()&&o.unactivate(),o&&o.grabbed()||l==n||(n&&D(n,["mouseout","tapdragout"],a,{x:h[0],y:h[1]}),l&&D(l,["mouseover","tapdragover"],a,{x:h[0],y:h[1]}),A.hoverData.last=l),o)if(b){if(e.boxSelectionEnabled()&&t)o&&o.grabbed()&&(P(q),o.emit(u("freeon")),q.emit(u("free")),A.dragData.didDrag&&(o.emit(u("dragfreeon")),q.emit(u("dragfree")))),v();else if(o&&o.grabbed()&&A.nodeIsDraggable(o)){var y,z=!A.dragData.didDrag;z&&A.redrawHint("eles",!0),A.dragData.didDrag=!0,A.hoverData.draggingEles||O(q,{inDragLayer:!0});var B={x:0,y:0};if(aB(p[0])&&aB(p[1])&&(B.x+=p[0],B.y+=p[1],z)){var C=A.hoverData.dragDelta;C&&aB(C[0])&&aB(C[1])&&(B.x+=C[0],B.y+=C[1])}A.hoverData.draggingEles=!0,q.silentShift(B).emit(u("position")).emit(u("drag")),A.redrawHint("drag",!0),A.redraw()}}else 0===(y=A.hoverData.dragDelta=A.hoverData.dragDelta||[]).length?(y.push(p[0]),y.push(p[1])):(y[0]+=p[0],y[1]+=p[1]);d=!0}if(k[2]=h[0],k[3]=h[1],d)return a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),!1}},!1),A.registerBinding(B,"mouseup",function(a){if((1!==A.hoverData.which||1===a.which||!A.hoverData.capture)&&A.hoverData.capture){A.hoverData.capture=!1;var e=A.cy,f=A.projectIntoViewport(a.clientX,a.clientY),g=A.selection,h=A.findNearestElement(f[0],f[1],!0,!1),i=A.dragData.possibleDragElements,j=A.hoverData.down,k=E(a);A.data.bgActivePosistion&&(A.redrawHint("select",!0),A.redraw()),A.hoverData.tapholdCancelled=!0,A.data.bgActivePosistion=void 0,j&&j.unactivate();var l=function(b){return{originalEvent:a,type:b,position:{x:f[0],y:f[1]}}};if(3===A.hoverData.which){var n=l("cxttapend");if(j?j.emit(n):e.emit(n),!A.hoverData.cxtDragged){var o=l("cxttap");j?j.emit(o):e.emit(o)}A.hoverData.cxtDragged=!1,A.hoverData.which=null}else if(1===A.hoverData.which){if(D(h,["mouseup","tapend","vmouseup"],a,{x:f[0],y:f[1]}),A.dragData.didDrag||A.hoverData.dragged||A.hoverData.selecting||A.hoverData.isOverThresholdDrag||(D(j,["click","tap","vclick"],a,{x:f[0],y:f[1]}),c=!1,a.timeStamp-d<=e.multiClickDebounceTime()?(b&&clearTimeout(b),c=!0,d=null,D(j,["dblclick","dbltap","vdblclick"],a,{x:f[0],y:f[1]})):(b=setTimeout(function(){c||D(j,["oneclick","onetap","voneclick"],a,{x:f[0],y:f[1]})},e.multiClickDebounceTime()),d=a.timeStamp)),null!=j||A.dragData.didDrag||A.hoverData.selecting||A.hoverData.dragged||E(a)||(e.$(C).unselect(["tapunselect"]),i.length>0&&A.redrawHint("eles",!0),A.dragData.possibleDragElements=i=e.collection()),h!=j||A.dragData.didDrag||A.hoverData.selecting||null==h||!h._private.selectable||(A.hoverData.dragging||("additive"===e.selectionType()||k?h.selected()?h.unselect(["tapunselect"]):h.select(["tapselect"]):k||(e.$(C).unmerge(h).unselect(["tapunselect"]),h.select(["tapselect"]))),A.redrawHint("eles",!0)),A.hoverData.selecting){var p=e.collection(A.getAllInBox(g[0],g[1],g[2],g[3]));A.redrawHint("select",!0),p.length>0&&A.redrawHint("eles",!0),e.emit(l("boxend"));"additive"===e.selectionType()||k||e.$(C).unmerge(p).unselect(),p.emit(l("box")).stdFilter(function(a){return a.selectable()&&!a.selected()}).select().emit(l("boxselect")),A.redraw()}if(A.hoverData.dragging&&(A.hoverData.dragging=!1,A.redrawHint("select",!0),A.redrawHint("eles",!0),A.redraw()),!g[4]){A.redrawHint("drag",!0),A.redrawHint("eles",!0);var q=j&&j.grabbed();P(i),q&&(j.emit(l("freeon")),i.emit(l("free")),A.dragData.didDrag&&(j.emit(l("dragfreeon")),i.emit(l("dragfree"))))}}g[4]=0,A.hoverData.down=null,A.hoverData.cxtStarted=!1,A.hoverData.draggingEles=!1,A.hoverData.selecting=!1,A.hoverData.isOverThresholdDrag=!1,A.dragData.didDrag=!1,A.hoverData.dragged=!1,A.hoverData.dragDelta=[],A.hoverData.mdownPos=null,A.hoverData.mdownGPos=null,A.hoverData.which=null}},!1);var Z=[],$=1e5,_=function(a,b){for(var c=0;c<a.length;c++)if(a[c]%b!=0)return!1;return!0},aa=function(a){for(var b=Math.abs(a[0]),c=1;c<a.length;c++)if(Math.abs(a[c])!==b)return!1;return!0},ab=function(a){var b=!1,c=a.deltaY;if(null==c&&(null!=a.wheelDeltaY?c=a.wheelDeltaY/4:null!=a.wheelDelta&&(c=a.wheelDelta/4)),0!==c){if(null==e)if(Z.length>=4){if(!(e=_(Z,5))){var d=Math.abs(Z[0]);e=aa(Z)&&d>5}if(e)for(var f=0;f<Z.length;f++)$=Math.min(Math.abs(Z[f]),$)}else Z.push(c),b=!0;else e&&($=Math.min(Math.abs(c),$));if(!A.scrollingPage){var g=A.cy,h=g.zoom(),i=g.pan(),j=A.projectIntoViewport(a.clientX,a.clientY),k=[j[0]*h+i.x,j[1]*h+i.y];if(A.hoverData.draggingEles||A.hoverData.dragging||A.hoverData.cxtStarted||0!==A.selection[4])return void a.preventDefault();if(g.panningEnabled()&&g.userPanningEnabled()&&g.zoomingEnabled()&&g.userZoomingEnabled()){a.preventDefault(),A.data.wheelZooming=!0,clearTimeout(A.data.wheelTimeout),A.data.wheelTimeout=setTimeout(function(){A.data.wheelZooming=!1,A.redrawHint("eles",!0),A.redraw()},150),b&&Math.abs(c)>5&&(c=5*b5(c)),l=-(c/250),e&&(l/=$,l*=3),l*=A.wheelSensitivity,1===a.deltaMode&&(l*=33);var l,n=g.zoom()*Math.pow(10,l);"gesturechange"===a.type&&(n=A.gestureStartZoom*a.scale),g.zoom({level:n,renderedPosition:{x:k[0],y:k[1]}}),g.emit({type:"gesturechange"===a.type?"pinchzoom":"scrollzoom",originalEvent:a,position:{x:j[0],y:j[1]}})}}}};A.registerBinding(A.container,"wheel",ab,!0),A.registerBinding(B,"scroll",function(a){A.scrollingPage=!0,clearTimeout(A.scrollingPageTimeout),A.scrollingPageTimeout=setTimeout(function(){A.scrollingPage=!1},250)},!0),A.registerBinding(A.container,"gesturestart",function(a){A.gestureStartZoom=A.cy.zoom(),A.hasTouchStarted||a.preventDefault()},!0),A.registerBinding(A.container,"gesturechange",function(a){A.hasTouchStarted||ab(a)},!0),A.registerBinding(A.container,"mouseout",function(a){var b=A.projectIntoViewport(a.clientX,a.clientY);A.cy.emit({originalEvent:a,type:"mouseout",position:{x:b[0],y:b[1]}})},!1),A.registerBinding(A.container,"mouseover",function(a){var b=A.projectIntoViewport(a.clientX,a.clientY);A.cy.emit({originalEvent:a,type:"mouseover",position:{x:b[0],y:b[1]}})},!1);var ac=function(a,b,c,d){return Math.sqrt((c-a)*(c-a)+(d-b)*(d-b))},ad=function(a,b,c,d){return(c-a)*(c-a)+(d-b)*(d-b)};if(A.registerBinding(A.container,"touchstart",t=function(a){if(A.hasTouchStarted=!0,X(a)){R(),A.touchData.capture=!0,A.data.bgActivePosistion=void 0;var b=A.cy,c=A.touchData.now,d=A.touchData.earlier;if(a.touches[0]){var e=A.projectIntoViewport(a.touches[0].clientX,a.touches[0].clientY);c[0]=e[0],c[1]=e[1]}if(a.touches[1]){var e=A.projectIntoViewport(a.touches[1].clientX,a.touches[1].clientY);c[2]=e[0],c[3]=e[1]}if(a.touches[2]){var e=A.projectIntoViewport(a.touches[2].clientX,a.touches[2].clientY);c[4]=e[0],c[5]=e[1]}var t=function(b){return{originalEvent:a,type:b,position:{x:c[0],y:c[1]}}};if(a.touches[1]){A.touchData.singleTouchMoved=!0,P(A.dragData.touchDragEles);var u=A.findContainerClientCoords();o=u[0],p=u[1],q=u[2],r=u[3],f=a.touches[0].clientX-o,g=a.touches[0].clientY-p,h=a.touches[1].clientX-o,i=a.touches[1].clientY-p,s=0<=f&&f<=q&&0<=h&&h<=q&&0<=g&&g<=r&&0<=i&&i<=r;var v=b.pan(),w=b.zoom();if(j=ac(f,g,h,i),k=ad(f,g,h,i),n=[((l=[(f+h)/2,(g+i)/2])[0]-v.x)/w,(l[1]-v.y)/w],k<4e4&&!a.touches[2]){var x=A.findNearestElement(c[0],c[1],!0,!0),y=A.findNearestElement(c[2],c[3],!0,!0);x&&x.isNode()?(x.activate().emit(t("cxttapstart")),A.touchData.start=x):y&&y.isNode()?(y.activate().emit(t("cxttapstart")),A.touchData.start=y):b.emit(t("cxttapstart")),A.touchData.start&&(A.touchData.start._private.grabbed=!1),A.touchData.cxt=!0,A.touchData.cxtDragged=!1,A.data.bgActivePosistion=void 0,A.redraw();return}}if(a.touches[2])b.boxSelectionEnabled()&&a.preventDefault();else if(a.touches[1]);else if(a.touches[0]){var z=A.findNearestElements(c[0],c[1],!0,!0),B=z[0];if(null!=B&&(B.activate(),A.touchData.start=B,A.touchData.starts=z,A.nodeIsGrabbable(B))){var C=A.dragData.touchDragEles=b.collection(),E=null;A.redrawHint("eles",!0),A.redrawHint("drag",!0),B.selected()?O(E=b.$(function(a){return a.selected()&&A.nodeIsGrabbable(a)}),{addToList:C}):O(B,{addToList:C}),K(B),B.emit(t("grabon")),E?E.forEach(function(a){a.emit(t("grab"))}):B.emit(t("grab"))}D(B,["touchstart","tapstart","vmousedown"],a,{x:c[0],y:c[1]}),null==B&&(A.data.bgActivePosistion={x:e[0],y:e[1]},A.redrawHint("select",!0),A.redraw()),A.touchData.singleTouchMoved=!1,A.touchData.singleTouchStartTime=+new Date,clearTimeout(A.touchData.tapholdTimeout),A.touchData.tapholdTimeout=setTimeout(function(){!1!==A.touchData.singleTouchMoved||A.pinching||A.touchData.selecting||D(A.touchData.start,["taphold"],a,{x:c[0],y:c[1]})},A.tapholdDuration)}if(a.touches.length>=1){for(var F=A.touchData.startPosition=[null,null,null,null,null,null],G=0;G<c.length;G++)F[G]=d[G]=c[G];var H=a.touches[0];A.touchData.startGPosition=[H.clientX,H.clientY]}}},!1),A.registerBinding(B,"touchmove",u=function(a){var b=A.touchData.capture;if(b||X(a)){var c=A.selection,d=A.cy,e=A.touchData.now,l=A.touchData.earlier,q=d.zoom();if(a.touches[0]){var r=A.projectIntoViewport(a.touches[0].clientX,a.touches[0].clientY);e[0]=r[0],e[1]=r[1]}if(a.touches[1]){var r=A.projectIntoViewport(a.touches[1].clientX,a.touches[1].clientY);e[2]=r[0],e[3]=r[1]}if(a.touches[2]){var r=A.projectIntoViewport(a.touches[2].clientX,a.touches[2].clientY);e[4]=r[0],e[5]=r[1]}var t=function(b){return{originalEvent:a,type:b,position:{x:e[0],y:e[1]}}},u=A.touchData.startGPosition;if(b&&a.touches[0]&&u){for(var v=[],w=0;w<e.length;w++)v[w]=e[w]-l[w];var x=a.touches[0].clientX-u[0],y=x*x,z=a.touches[0].clientY-u[1];ab=y+z*z>=A.touchTapThreshold2}if(b&&A.touchData.cxt){a.preventDefault();var B=a.touches[0].clientX-o,C=a.touches[0].clientY-p,E=a.touches[1].clientX-o,G=a.touches[1].clientY-p,H=ad(B,C,E,G);if(H/k>=2.25||H>=22500){A.touchData.cxt=!1,A.data.bgActivePosistion=void 0,A.redrawHint("select",!0);var I=t("cxttapend");A.touchData.start?(A.touchData.start.unactivate().emit(I),A.touchData.start=null):d.emit(I)}}if(b&&A.touchData.cxt){var I=t("cxtdrag");A.data.bgActivePosistion=void 0,A.redrawHint("select",!0),A.touchData.start?A.touchData.start.emit(I):d.emit(I),A.touchData.start&&(A.touchData.start._private.grabbed=!1),A.touchData.cxtDragged=!0;var J=A.findNearestElement(e[0],e[1],!0,!0);(!A.touchData.cxtOver||J!==A.touchData.cxtOver)&&(A.touchData.cxtOver&&A.touchData.cxtOver.emit(t("cxtdragout")),A.touchData.cxtOver=J,J&&J.emit(t("cxtdragover")))}else if(b&&a.touches[2]&&d.boxSelectionEnabled())a.preventDefault(),A.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,A.touchData.selecting||d.emit(t("boxstart")),A.touchData.selecting=!0,A.touchData.didSelect=!0,c[4]=1,c&&0!==c.length&&void 0!==c[0]?(c[2]=(e[0]+e[2]+e[4])/3,c[3]=(e[1]+e[3]+e[5])/3):(c[0]=(e[0]+e[2]+e[4])/3,c[1]=(e[1]+e[3]+e[5])/3,c[2]=(e[0]+e[2]+e[4])/3+1,c[3]=(e[1]+e[3]+e[5])/3+1),A.redrawHint("select",!0),A.redraw();else if(b&&a.touches[1]&&!A.touchData.didSelect&&d.zoomingEnabled()&&d.panningEnabled()&&d.userZoomingEnabled()&&d.userPanningEnabled()){a.preventDefault(),A.data.bgActivePosistion=void 0,A.redrawHint("select",!0);var K=A.dragData.touchDragEles;if(K){A.redrawHint("drag",!0);for(var L=0;L<K.length;L++){var M=K[L]._private;M.grabbed=!1,M.rscratch.inDragLayer=!1}}var N=A.touchData.start,B=a.touches[0].clientX-o,C=a.touches[0].clientY-p,E=a.touches[1].clientX-o,G=a.touches[1].clientY-p,Q=ac(B,C,E,G),R=Q/j;if(s){var S=B-f,T=C-g,U=E-h,V=G-i,W=d.zoom(),Y=W*R,Z=d.pan(),$=n[0]*W+Z.x,_=n[1]*W+Z.y,aa={x:-Y/W*($-Z.x-(S+U)/2)+$,y:-Y/W*(_-Z.y-(T+V)/2)+_};if(N&&N.active()){var K=A.dragData.touchDragEles;P(K),A.redrawHint("drag",!0),A.redrawHint("eles",!0),N.unactivate().emit(t("freeon")),K.emit(t("free")),A.dragData.didDrag&&(N.emit(t("dragfreeon")),K.emit(t("dragfree")))}d.viewport({zoom:Y,pan:aa,cancelOnFailedZoom:!0}),d.emit(t("pinchzoom")),j=Q,f=B,g=C,h=E,i=G,A.pinching=!0}if(a.touches[0]){var r=A.projectIntoViewport(a.touches[0].clientX,a.touches[0].clientY);e[0]=r[0],e[1]=r[1]}if(a.touches[1]){var r=A.projectIntoViewport(a.touches[1].clientX,a.touches[1].clientY);e[2]=r[0],e[3]=r[1]}if(a.touches[2]){var r=A.projectIntoViewport(a.touches[2].clientX,a.touches[2].clientY);e[4]=r[0],e[5]=r[1]}}else if(a.touches[0]&&!A.touchData.didSelect){var ab,J,ae=A.touchData.start,af=A.touchData.last;if(A.hoverData.draggingEles||A.swipePanning||(J=A.findNearestElement(e[0],e[1],!0,!0)),b&&null!=ae&&a.preventDefault(),b&&null!=ae&&A.nodeIsDraggable(ae))if(ab){var K=A.dragData.touchDragEles,ag=!A.dragData.didDrag;ag&&O(K,{inDragLayer:!0}),A.dragData.didDrag=!0;var ah={x:0,y:0};if(aB(v[0])&&aB(v[1])&&(ah.x+=v[0],ah.y+=v[1],ag)){A.redrawHint("eles",!0);var ai=A.touchData.dragDelta;ai&&aB(ai[0])&&aB(ai[1])&&(ah.x+=ai[0],ah.y+=ai[1])}A.hoverData.draggingEles=!0,K.silentShift(ah).emit(t("position")).emit(t("drag")),A.redrawHint("drag",!0),A.touchData.startPosition[0]==l[0]&&A.touchData.startPosition[1]==l[1]&&A.redrawHint("eles",!0),A.redraw()}else{var ai=A.touchData.dragDelta=A.touchData.dragDelta||[];0===ai.length?(ai.push(v[0]),ai.push(v[1])):(ai[0]+=v[0],ai[1]+=v[1])}if(D(ae||J,["touchmove","tapdrag","vmousemove"],a,{x:e[0],y:e[1]}),ae&&ae.grabbed()||J==af||(af&&af.emit(t("tapdragout")),J&&J.emit(t("tapdragover"))),A.touchData.last=J,b)for(var L=0;L<e.length;L++)e[L]&&A.touchData.startPosition[L]&&ab&&(A.touchData.singleTouchMoved=!0);if(b&&(null==ae||ae.pannable())&&d.panningEnabled()&&d.userPanningEnabled()){F(ae,A.touchData.starts)&&(a.preventDefault(),A.data.bgActivePosistion||(A.data.bgActivePosistion=b$(A.touchData.startPosition)),A.swipePanning?(d.panBy({x:v[0]*q,y:v[1]*q}),d.emit(t("dragpan"))):ab&&(A.swipePanning=!0,d.panBy({x:x*q,y:z*q}),d.emit(t("dragpan")),ae&&(ae.unactivate(),A.redrawHint("select",!0),A.touchData.start=null)));var r=A.projectIntoViewport(a.touches[0].clientX,a.touches[0].clientY);e[0]=r[0],e[1]=r[1]}}for(var w=0;w<e.length;w++)l[w]=e[w];b&&a.touches.length>0&&!A.hoverData.draggingEles&&!A.swipePanning&&null!=A.data.bgActivePosistion&&(A.data.bgActivePosistion=void 0,A.redrawHint("select",!0),A.redraw())}},!1),A.registerBinding(B,"touchcancel",v=function(a){var b=A.touchData.start;A.touchData.capture=!1,b&&b.unactivate()}),A.registerBinding(B,"touchend",w=function(a){var b,c=A.touchData.start;if(A.touchData.capture){0===a.touches.length&&(A.touchData.capture=!1),a.preventDefault();var d=A.selection;A.swipePanning=!1,A.hoverData.draggingEles=!1;var e=A.cy,f=e.zoom(),g=A.touchData.now,h=A.touchData.earlier;if(a.touches[0]){var i=A.projectIntoViewport(a.touches[0].clientX,a.touches[0].clientY);g[0]=i[0],g[1]=i[1]}if(a.touches[1]){var i=A.projectIntoViewport(a.touches[1].clientX,a.touches[1].clientY);g[2]=i[0],g[3]=i[1]}if(a.touches[2]){var i=A.projectIntoViewport(a.touches[2].clientX,a.touches[2].clientY);g[4]=i[0],g[5]=i[1]}var j=function(b){return{originalEvent:a,type:b,position:{x:g[0],y:g[1]}}};if(c&&c.unactivate(),A.touchData.cxt){if(b=j("cxttapend"),c?c.emit(b):e.emit(b),!A.touchData.cxtDragged){var k=j("cxttap");c?c.emit(k):e.emit(k)}A.touchData.start&&(A.touchData.start._private.grabbed=!1),A.touchData.cxt=!1,A.touchData.start=null,A.redraw();return}if(!a.touches[2]&&e.boxSelectionEnabled()&&A.touchData.selecting){A.touchData.selecting=!1;var l=e.collection(A.getAllInBox(d[0],d[1],d[2],d[3]));d[0]=void 0,d[1]=void 0,d[2]=void 0,d[3]=void 0,d[4]=0,A.redrawHint("select",!0),e.emit(j("boxend")),l.emit(j("box")).stdFilter(function(a){return a.selectable()&&!a.selected()}).select().emit(j("boxselect")),l.nonempty()&&A.redrawHint("eles",!0),A.redraw()}if(null!=c&&c.unactivate(),a.touches[2])A.data.bgActivePosistion=void 0,A.redrawHint("select",!0);else if(a.touches[1]);else if(a.touches[0]);else if(!a.touches[0]){A.data.bgActivePosistion=void 0,A.redrawHint("select",!0);var n=A.dragData.touchDragEles;if(null!=c){var o=c._private.grabbed;P(n),A.redrawHint("drag",!0),A.redrawHint("eles",!0),o&&(c.emit(j("freeon")),n.emit(j("free")),A.dragData.didDrag&&(c.emit(j("dragfreeon")),n.emit(j("dragfree")))),D(c,["touchend","tapend","vmouseup","tapdragout"],a,{x:g[0],y:g[1]}),c.unactivate(),A.touchData.start=null}else D(A.findNearestElement(g[0],g[1],!0,!0),["touchend","tapend","vmouseup","tapdragout"],a,{x:g[0],y:g[1]});var p=A.touchData.startPosition[0]-g[0],q=A.touchData.startPosition[1]-g[1];A.touchData.singleTouchMoved||(c||e.$(":selected").unselect(["tapunselect"]),D(c,["tap","vclick"],a,{x:g[0],y:g[1]}),x=!1,a.timeStamp-z<=e.multiClickDebounceTime()?(y&&clearTimeout(y),x=!0,z=null,D(c,["dbltap","vdblclick"],a,{x:g[0],y:g[1]})):(y=setTimeout(function(){x||D(c,["onetap","voneclick"],a,{x:g[0],y:g[1]})},e.multiClickDebounceTime()),z=a.timeStamp)),null!=c&&!A.dragData.didDrag&&c._private.selectable&&(p*p+q*q)*f*f<A.touchTapThreshold2&&!A.pinching&&("single"===e.selectionType()?(e.$(C).unmerge(c).unselect(["tapunselect"]),c.select(["tapselect"])):c.selected()?c.unselect(["tapunselect"]):c.select(["tapselect"]),A.redrawHint("eles",!0)),A.touchData.singleTouchMoved=!0}for(var r=0;r<g.length;r++)h[r]=g[r];A.dragData.didDrag=!1,0===a.touches.length&&(A.touchData.dragDelta=[],A.touchData.startPosition=[null,null,null,null,null,null],A.touchData.startGPosition=null,A.touchData.didSelect=!1),a.touches.length<2&&(1===a.touches.length&&(A.touchData.startGPosition=[a.touches[0].clientX,a.touches[0].clientY]),A.pinching=!1,A.redrawHint("eles",!0),A.redraw())}},!1),"u"<typeof TouchEvent){var ae=[],af=function(a){return{clientX:a.clientX,clientY:a.clientY,force:1,identifier:a.pointerId,pageX:a.pageX,pageY:a.pageY,radiusX:a.width/2,radiusY:a.height/2,screenX:a.screenX,screenY:a.screenY,target:a.target}},ag=function(a){ae.push({event:a,touch:af(a)})},ah=function(a){for(var b=0;b<ae.length;b++)if(ae[b].event.pointerId===a.pointerId)return void ae.splice(b,1)},ai=function(a){var b=ae.filter(function(b){return b.event.pointerId===a.pointerId})[0];b.event=a,b.touch=af(a)},aj=function(a){a.touches=ae.map(function(a){return a.touch})},ak=function(a){return"mouse"===a.pointerType||4===a.pointerType};A.registerBinding(A.container,"pointerdown",function(a){ak(a)||(a.preventDefault(),ag(a),aj(a),t(a))}),A.registerBinding(A.container,"pointerup",function(a){ak(a)||(ah(a),aj(a),w(a))}),A.registerBinding(A.container,"pointercancel",function(a){ak(a)||(ah(a),aj(a),v(a))}),A.registerBinding(A.container,"pointermove",function(a){ak(a)||(a.preventDefault(),ai(a),aj(a),u(a))})}};var jJ={};jJ.generatePolygon=function(a,b){return this.nodeShapes[a]={renderer:this,name:a,points:b,draw:function(a,b,c,d,e,f){this.renderer.nodeShapeImpl("polygon",a,b,c,d,e,this.points)},intersectLine:function(a,b,c,d,e,f,g,h){return cH(e,f,this.points,a,b,c/2,d/2,g)},checkPoint:function(a,b,c,d,e,f,g,h){return cx(a,b,this.points,f,g,d,e,[0,-1],c)},hasMiterBounds:"rectangle"!==a,miterBounds:function(a,b,c,d,e,f){var g,h,i;return g=this.points,h=function(a,b){if(a.length<3)throw Error("Need at least 3 vertices");var c=function(a,b){return{x:a.x+b.x,y:a.y+b.y}},d=function(a,b){return{x:a.x-b.x,y:a.y-b.y}},e=function(a,b){return{x:a.x*b,y:a.y*b}},f=function(a,b){return a.x*b.y-a.y*b.x},g=a.map(function(a){return{x:a.x,y:a.y}});0>function(a){for(var b=0,c=0;c<a.length;c++){var d=a[c],e=a[(c+1)%a.length];b+=d.x*e.y-e.x*d.y}return b/2}(g)&&g.reverse();for(var h=g.length,i=[],j=0;j<h;j++){var k=g[j],l=d(g[(j+1)%h],k),n=function(a){var b=co(a.x,a.y);return 0===b?{x:0,y:0}:{x:a.x/b,y:a.y/b}}({x:l.y,y:-l.x});i.push(n)}for(var o=i.map(function(a,d){return{p1:c(g[d],e(a,b)),p2:c(g[(d+1)%h],e(a,b))}}),p=[],q=0;q<h;q++){var r=o[(q-1+h)%h],s=o[q],t=function(a,b,g,h){var i=d(b,a),j=d(h,g),k=f(i,j);if(1e-9>Math.abs(k))return c(a,e(i,.5));var l=f(d(g,a),j)/k;return c(a,e(i,l))}(r.p1,r.p2,s.p1,s.p2);p.push(t)}return p}(cG(g,a,b,c,d),e),i=cd(),h.forEach(function(a){return cg(i,a.x,a.y)}),i}}},jJ.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(a,b,c,d,e,f){this.renderer.nodeShapeImpl(this.name,a,b,c,d,e)},intersectLine:function(a,b,c,d,e,f,g,h){return cB(e,f,a,b,c/2+g,d/2+g)},checkPoint:function(a,b,c,d,e,f,g,h){return cC(a,b,d,e,f,g,c)}}},jJ.generateRoundPolygon=function(a,b){return this.nodeShapes[a]={renderer:this,name:a,points:b,getOrCreateCorners:function(a,c,d,e,f,g,h){if(void 0!==g[h]&&g[h+"-cx"]===a&&g[h+"-cy"]===c)return g[h];g[h]=Array(b.length/2),g[h+"-cx"]=a,g[h+"-cy"]=c;var i=d/2,j=e/2;f="auto"===f?cO(d,e):f;for(var k=Array(b.length/2),l=0;l<b.length/2;l++)k[l]={x:a+i*b[2*l],y:c+j*b[2*l+1]};var n,o,p,q,r=k.length;for(n=0,o=k[r-1];n<r;n++)p=k[n%r],q=k[(n+1)%r],g[h][n]=js(o,p,q,f),o=p,p=q;return g[h]},draw:function(a,b,c,d,e,f,g){this.renderer.nodeShapeImpl("round-polygon",a,b,c,d,e,this.points,this.getOrCreateCorners(b,c,d,e,f,g,"drawCorners"))},intersectLine:function(a,b,c,d,e,f,g,h,i){return cI(e,f,this.points,a,b,c,d,g,this.getOrCreateCorners(a,b,c,d,h,i,"corners"))},checkPoint:function(a,b,c,d,e,f,g,h,i){return cy(a,b,this.points,f,g,d,e,this.getOrCreateCorners(f,g,d,e,h,i,"corners"))}}},jJ.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:cK(4,0),draw:function(a,b,c,d,e,f){this.renderer.nodeShapeImpl(this.name,a,b,c,d,e,this.points,f)},intersectLine:function(a,b,c,d,e,f,g,h){return cp(e,f,a,b,c,d,g,h)},checkPoint:function(a,b,c,d,e,f,g,h){var i=d/2,j=e/2,k=2*(h=Math.min(i,j,h="auto"===h?cN(d,e):h));return!!(cx(a,b,this.points,f,g,d,e-k,[0,-1],c)||cx(a,b,this.points,f,g,d-k,e,[0,-1],c)||cC(a,b,k,k,f-i+h,g-j+h,c)||cC(a,b,k,k,f+i-h,g-j+h,c)||cC(a,b,k,k,f+i-h,g+j-h,c)||cC(a,b,k,k,f-i+h,g+j-h,c))}}},jJ.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:cP(),points:cK(4,0),draw:function(a,b,c,d,e,f){this.renderer.nodeShapeImpl(this.name,a,b,c,d,e,null,f)},generateCutTrianglePts:function(a,b,c,d,e){var f="auto"===e?this.cornerLength:e,g=b/2,h=a/2,i=c-h,j=c+h,k=d-g,l=d+g;return{topLeft:[i,k+f,i+f,k,i+f,k+f],topRight:[j-f,k,j,k+f,j-f,k+f],bottomRight:[j,l-f,j-f,l,j-f,l-f],bottomLeft:[i+f,l,i,l-f,i+f,l-f]}},intersectLine:function(a,b,c,d,e,f,g,h){var i=this.generateCutTrianglePts(c+2*g,d+2*g,a,b,h);return cH(e,f,[].concat.apply([],[i.topLeft.splice(0,4),i.topRight.splice(0,4),i.bottomRight.splice(0,4),i.bottomLeft.splice(0,4)]),a,b)},checkPoint:function(a,b,c,d,e,f,g,h){var i="auto"===h?this.cornerLength:h;if(cx(a,b,this.points,f,g,d,e-2*i,[0,-1],c)||cx(a,b,this.points,f,g,d-2*i,e,[0,-1],c))return!0;var j=this.generateCutTrianglePts(d,e,f,g);return cw(a,b,j.topLeft)||cw(a,b,j.topRight)||cw(a,b,j.bottomRight)||cw(a,b,j.bottomLeft)}}},jJ.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:cK(4,0),draw:function(a,b,c,d,e,f){this.renderer.nodeShapeImpl(this.name,a,b,c,d,e)},intersectLine:function(a,b,c,d,e,f,g,h){var i=this.generateBarrelBezierPts(c+2*g,d+2*g,a,b),j=function(a){var b=ca({x:a[0],y:a[1]},{x:a[2],y:a[3]},{x:a[4],y:a[5]},.15),c=ca({x:a[0],y:a[1]},{x:a[2],y:a[3]},{x:a[4],y:a[5]},.5),d=ca({x:a[0],y:a[1]},{x:a[2],y:a[3]},{x:a[4],y:a[5]},.85);return[a[0],a[1],b.x,b.y,c.x,c.y,d.x,d.y,a[4],a[5]]};return cH(e,f,[].concat(j(i.topLeft),j(i.topRight),j(i.bottomRight),j(i.bottomLeft)),a,b)},generateBarrelBezierPts:function(a,b,c,d){var e=b/2,f=a/2,g=c-f,h=c+f,i=d-e,j=d+e,k=cQ(a,b),l=k.heightOffset,n=k.widthOffset,o=k.ctrlPtOffsetPct*a,p={topLeft:[g,i+l,g+o,i,g+n,i],topRight:[h-n,i,h-o,i,h,i+l],bottomRight:[h,j-l,h-o,j,h-n,j],bottomLeft:[g+n,j,g+o,j,g,j-l]};return p.topLeft.isTop=!0,p.topRight.isTop=!0,p.bottomLeft.isBottom=!0,p.bottomRight.isBottom=!0,p},checkPoint:function(a,b,c,d,e,f,g,h){var i=cQ(d,e),j=i.heightOffset,k=i.widthOffset;if(cx(a,b,this.points,f,g,d,e-2*j,[0,-1],c)||cx(a,b,this.points,f,g,d-2*k,e,[0,-1],c))return!0;for(var l=this.generateBarrelBezierPts(d,e,f,g),n=Object.keys(l),o=0;o<n.length;o++){var p=l[n[o]],q=function(a,b,c){var d=c[4],e=c[2],f=c[0],g=c[5],h=c[1],i=Math.min(d,f),j=Math.max(d,f),k=Math.min(g,h),l=Math.max(g,h);if(i<=a&&a<=j&&k<=b&&b<=l){var n=[d-2*e+f,2*(e-d),d],o=cs(n[0],n[1],n[2],a).filter(function(a){return 0<=a&&a<=1});if(o.length>0)return o[0]}return null}(a,b,p);if(null!=q){var r=b9(p[5],p[3],p[1],q);if(p.isTop&&r<=b||p.isBottom&&b<=r)return!0}}return!1}}},jJ.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:cK(4,0),draw:function(a,b,c,d,e,f){this.renderer.nodeShapeImpl(this.name,a,b,c,d,e,this.points,f)},intersectLine:function(a,b,c,d,e,f,g,h){var i=a-(c/2+g),j=b-(d/2+g),k=a+(c/2+g),l=cF(e,f,a,b,i,j,k,j,!1);return l.length>0?l:cp(e,f,a,b,c,d,g,h)},checkPoint:function(a,b,c,d,e,f,g,h){var i=2*(h="auto"===h?cN(d,e):h);if(cx(a,b,this.points,f,g,d,e-i,[0,-1],c)||cx(a,b,this.points,f,g,d-i,e,[0,-1],c))return!0;var j=d/2+2*c,k=e/2+2*c;return!!(cw(a,b,[f-j,g-k,f-j,g,f+j,g,f+j,g-k])||cC(a,b,i,i,f+d/2-h,g+e/2-h,c)||cC(a,b,i,i,f-d/2+h,g+e/2-h,c))}}},jJ.registerNodeShapes=function(){var a=this.nodeShapes={},b=this;this.generateEllipse(),this.generatePolygon("triangle",cK(3,0)),this.generateRoundPolygon("round-triangle",cK(3,0)),this.generatePolygon("rectangle",cK(4,0)),a.square=a.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var c=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",c),this.generateRoundPolygon("round-diamond",c),this.generatePolygon("pentagon",cK(5,0)),this.generateRoundPolygon("round-pentagon",cK(5,0)),this.generatePolygon("hexagon",cK(6,0)),this.generateRoundPolygon("round-hexagon",cK(6,0)),this.generatePolygon("heptagon",cK(7,0)),this.generateRoundPolygon("round-heptagon",cK(7,0)),this.generatePolygon("octagon",cK(8,0)),this.generateRoundPolygon("round-octagon",cK(8,0));var d=Array(20),e=cM(5,0),f=cM(5,Math.PI/5),g=.5*(3-Math.sqrt(5));g*=1.57;for(var h=0;h<f.length/2;h++)f[2*h]*=g,f[2*h+1]*=g;for(var h=0;h<5;h++)d[4*h]=e[2*h],d[4*h+1]=e[2*h+1],d[4*h+2]=f[2*h],d[4*h+3]=f[2*h+1];d=cL(d),this.generatePolygon("star",d),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var i=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",i),this.generateRoundPolygon("round-tag",i),a.makePolygon=function(a){var c,d="polygon-"+a.join("$");return(c=this[d])?c:b.generatePolygon(d,a)}};var jK={};jK.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},jK.redraw=function(a){a=a||bA(),void 0===this.averageRedrawTime&&(this.averageRedrawTime=0),void 0===this.lastRedrawTime&&(this.lastRedrawTime=0),void 0===this.lastDrawTime&&(this.lastDrawTime=0),this.requestedFrame=!0,this.renderOptions=a},jK.beforeRender=function(a,b){if(!this.destroyed){null==b&&bu("Priority is not optional for beforeRender");var c=this.beforeRenderCallbacks;c.push({fn:a,priority:b}),c.sort(function(a,b){return b.priority-a.priority})}};var jL=function(a,b,c){for(var d=a.beforeRenderCallbacks,e=0;e<d.length;e++)d[e].fn(b,c)};jK.startRenderLoop=function(){var a=this,b=a.cy;if(!a.renderLoopStarted){a.renderLoopStarted=!0;var c=function(d){if(!a.destroyed){if(b.batching());else if(a.requestedFrame&&!a.skipFrame){jL(a,!0,d);var e=ba();a.render(a.renderOptions);var f=a.lastDrawTime=ba();void 0===a.averageRedrawTime&&(a.averageRedrawTime=f-e),void 0===a.redrawCount&&(a.redrawCount=0),a.redrawCount++,void 0===a.redrawTotalTime&&(a.redrawTotalTime=0);var g=f-e;a.redrawTotalTime+=g,a.lastRedrawTime=g,a.averageRedrawTime=a.averageRedrawTime/2+g/2,a.requestedFrame=!1}else jL(a,!1,d);a.skipFrame=!1,bc(c)}};bc(c)}};var jM=function(a){this.init(a)},jN=jM.prototype;jN.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],jN.init=function(a){this.options=a,this.cy=a.cy;var b=this.container=a.cy.container(),c=this.cy.window();if(c){var d=c.document,e=d.head,f="__________cytoscape_stylesheet",g="__________cytoscape_container",h=null!=d.getElementById(f);if(0>b.className.indexOf(g)&&(b.className=(b.className||"")+" "+g),!h){var i=d.createElement("style");i.id=f,i.textContent="."+g+" { position: relative; }",e.insertBefore(i,e.children[0])}"static"===c.getComputedStyle(b).getPropertyValue("position")&&bw("A Cytoscape container has style position:static and so can not use UI extensions properly")}this.selection=[void 0,void 0,void 0,void 0,0],this.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],this.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},this.dragData={possibleDragElements:[]},this.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},this.redraws=0,this.showFps=a.showFps,this.debug=a.debug,this.webgl=a.webgl,this.hideEdgesOnViewport=a.hideEdgesOnViewport,this.textureOnViewport=a.textureOnViewport,this.wheelSensitivity=a.wheelSensitivity,this.motionBlurEnabled=a.motionBlur,this.forcedPixelRatio=aB(a.pixelRatio)?a.pixelRatio:null,this.motionBlur=a.motionBlur,this.motionBlurOpacity=a.motionBlurOpacity,this.motionBlurTransparency=1-this.motionBlurOpacity,this.motionBlurPxRatio=1,this.mbPxRBlurry=1,this.minMbLowQualFrames=4,this.fullQualityMb=!1,this.clearedForMotionBlur=[],this.desktopTapThreshold=a.desktopTapThreshold,this.desktopTapThreshold2=a.desktopTapThreshold*a.desktopTapThreshold,this.touchTapThreshold=a.touchTapThreshold,this.touchTapThreshold2=a.touchTapThreshold*a.touchTapThreshold,this.tapholdDuration=500,this.bindings=[],this.beforeRenderCallbacks=[],this.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},this.registerNodeShapes(),this.registerArrowShapes(),this.registerCalculationListeners()},jN.notify=function(a,b){var c=this.cy;if(!this.destroyed){if("init"===a)return void this.load();if("destroy"===a)return void this.destroy();("add"===a||"remove"===a||"move"===a&&c.hasCompoundNodes()||"load"===a||"zorder"===a||"mount"===a)&&this.invalidateCachedZSortedEles(),"viewport"===a&&this.redrawHint("select",!0),"gc"===a&&this.redrawHint("gc",!0),("load"===a||"resize"===a||"mount"===a)&&(this.invalidateContainerClientCoordsCache(),this.matchCanvasSize(this.container)),this.redrawHint("eles",!0),this.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},jN.destroy=function(){this.destroyed=!0,this.cy.stopAnimationLoop();for(var a=0;a<this.bindings.length;a++){var b=this.bindings[a],c=b.target;(c.off||c.removeEventListener).apply(c,b.args)}if(this.bindings=[],this.beforeRenderCallbacks=[],this.onUpdateEleCalcsFns=[],this.removeObserver&&this.removeObserver.disconnect(),this.styleObserver&&this.styleObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.labelCalcDiv)try{document.body.removeChild(this.labelCalcDiv)}catch(a){}},jN.isHeadless=function(){return!1},[gO,jG,jH,jI,jJ,jK].forEach(function(a){aW(jN,a)});var jO=1e3/60,jP=function(a){return function(){var b=this,c=this.renderer;if(!b.dequeueingSetup){b.dequeueingSetup=!0;var d=a9(function(){c.redrawHint("eles",!0),c.redrawHint("drag",!0),c.redraw()},a.deqRedrawThreshold),e=a.priority||bt;c.beforeRender(function(e,f){var g=ba(),h=c.averageRedrawTime,i=c.lastRedrawTime,j=[],k=c.cy.extent(),l=c.getPixelRatio();for(e||c.flushRenderedStyleQueue();;){var n=ba(),o=n-g,p=n-f;if(i<jO){var q=jO-(e?h:0);if(p>=a.deqFastCost*q)break}else if(e){if(o>=a.deqCost*i||o>=a.deqAvgCost*h)break}else if(p>=a.deqNoDrawCost*jO)break;var r=a.deq(b,l,k);if(r.length>0)for(var s=0;s<r.length;s++)j.push(r[s]);else break}j.length>0&&(a.onDeqd(b,j),!e&&a.shouldRedraw(b,j,l,k)&&d())},e(b))}}},jQ=ak(function a(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:br;aj(this,a),this.idsByKey=new bI,this.keyForId=new bI,this.cachesByLvl=new bI,this.lvls=[],this.getKey=b,this.doesEleInvalidateKey=c},[{key:"getIdsFor",value:function(a){null==a&&bu("Can not get id list for null key");var b=this.idsByKey,c=this.idsByKey.get(a);return c||(c=new bK,b.set(a,c)),c}},{key:"addIdForKey",value:function(a,b){null!=a&&this.getIdsFor(a).add(b)}},{key:"deleteIdForKey",value:function(a,b){null!=a&&this.getIdsFor(a).delete(b)}},{key:"getNumberOfIdsForKey",value:function(a){return null==a?0:this.getIdsFor(a).size}},{key:"updateKeyMappingFor",value:function(a){var b=a.id(),c=this.keyForId.get(b),d=this.getKey(a);this.deleteIdForKey(c,b),this.addIdForKey(d,b),this.keyForId.set(b,d)}},{key:"deleteKeyMappingFor",value:function(a){var b=a.id(),c=this.keyForId.get(b);this.deleteIdForKey(c,b),this.keyForId.delete(b)}},{key:"keyHasChangedFor",value:function(a){var b=a.id();return this.keyForId.get(b)!==this.getKey(a)}},{key:"isInvalid",value:function(a){return this.keyHasChangedFor(a)||this.doesEleInvalidateKey(a)}},{key:"getCachesAt",value:function(a){var b=this.cachesByLvl,c=this.lvls,d=b.get(a);return d||(d=new bI,b.set(a,d),c.push(a)),d}},{key:"getCache",value:function(a,b){return this.getCachesAt(b).get(a)}},{key:"get",value:function(a,b){var c=this.getKey(a),d=this.getCache(c,b);return null!=d&&this.updateKeyMappingFor(a),d}},{key:"getForCachedKey",value:function(a,b){var c=this.keyForId.get(a.id());return this.getCache(c,b)}},{key:"hasCache",value:function(a,b){return this.getCachesAt(b).has(a)}},{key:"has",value:function(a,b){var c=this.getKey(a);return this.hasCache(c,b)}},{key:"setCache",value:function(a,b,c){c.key=a,this.getCachesAt(b).set(a,c)}},{key:"set",value:function(a,b,c){var d=this.getKey(a);this.setCache(d,b,c),this.updateKeyMappingFor(a)}},{key:"deleteCache",value:function(a,b){this.getCachesAt(b).delete(a)}},{key:"delete",value:function(a,b){var c=this.getKey(a);this.deleteCache(c,b)}},{key:"invalidateKey",value:function(a){var b=this;this.lvls.forEach(function(c){return b.deleteCache(a,c)})}},{key:"invalidate",value:function(a){var b=a.id(),c=this.keyForId.get(b);this.deleteKeyMappingFor(a);var d=this.doesEleInvalidateKey(a);return d&&this.invalidateKey(c),d||0===this.getNumberOfIdsForKey(c)}}]),jR={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},jS=bB({getKey:null,doesEleInvalidateKey:br,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:bq,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),jT=function(a,b){this.renderer=a,this.onDequeues=[];var c=jS(b);aW(this,c),this.lookup=new jQ(c.getKey,c.doesEleInvalidateKey),this.setupDequeueing()},jU=jT.prototype;jU.reasons=jR,jU.getTextureQueue=function(a){return this.eleImgCaches=this.eleImgCaches||{},this.eleImgCaches[a]=this.eleImgCaches[a]||[]},jU.getRetiredTextureQueue=function(a){var b=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return b[a]=b[a]||[]},jU.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new bQ(function(a,b){return b.reqs-a.reqs})},jU.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},jU.getElement=function(a,b,c,d,e){var f,g,h,i=this,j=this.renderer,k=j.cy.zoom(),l=this.lookup;if(!b||0===b.w||0===b.h||isNaN(b.w)||isNaN(b.h)||!a.visible()||a.removed()||!i.allowEdgeTxrCaching&&a.isEdge()||!i.allowParentTxrCaching&&a.isParent())return null;if(null==d&&(d=Math.ceil(b4(k*c))),d<-4)d=-4;else if(k>=7.99||d>3)return null;var n=Math.pow(2,d),o=b.h*n,p=b.w*n,q=j.eleTextBiggerThanMin(a,n);if(!this.isVisible(a,q))return null;var r=l.get(a,d);if(r&&r.invalidated&&(r.invalidated=!1,r.texture.invalidatedWidth-=r.width),r)return r;if(f=o<=25?25:o<=50?50:50*Math.ceil(o/50),o>1024||p>1024)return null;var s=i.getTextureQueue(f),t=s[s.length-2],u=function(){return i.recycleTexture(f,p)||i.addTexture(f,p)};t||(t=s[s.length-1]),t||(t=u()),t.width-t.usedWidth<p&&(t=u());for(var v=function(a){return a&&a.scaledLabelShown===q},w=e&&e===jR.dequeue,x=e&&e===jR.highQuality,y=e&&e===jR.downscale,z=d+1;z<=3;z++){var A=l.get(a,z);if(A){g=A;break}}var B=g&&g.level===d+1?g:null,C=function(){t.context.drawImage(B.texture.canvas,B.x,0,B.width,B.height,t.usedWidth,0,p,o)};if(t.context.setTransform(1,0,0,1,0,0),t.context.clearRect(t.usedWidth,0,p,f),v(B))C();else if(v(g))if(!x)return i.queueElement(a,g.level-1),g;else{for(var D=g.level;D>d;D--)B=i.getElement(a,b,c,D,jR.downscale);C()}else{if(!w&&!x&&!y)for(var E=d-1;E>=-4;E--){var F=l.get(a,E);if(F){h=F;break}}if(v(h))return i.queueElement(a,d),h;t.context.translate(t.usedWidth,0),t.context.scale(n,n),this.drawElement(t.context,a,b,q,!1),t.context.scale(1/n,1/n),t.context.translate(-t.usedWidth,0)}return r={x:t.usedWidth,texture:t,level:d,scale:n,width:p,height:o,scaledLabelShown:q},t.usedWidth+=Math.ceil(p+8),t.eleCaches.push(r),l.set(a,d,r),i.checkTextureFullness(t),r},jU.invalidateElements=function(a){for(var b=0;b<a.length;b++)this.invalidateElement(a[b])},jU.invalidateElement=function(a){var b=this.lookup,c=[];if(b.isInvalid(a)){for(var d=-4;d<=3;d++){var e=b.getForCachedKey(a,d);e&&c.push(e)}if(b.invalidate(a))for(var f=0;f<c.length;f++){var g=c[f],h=g.texture;h.invalidatedWidth+=g.width,g.invalidated=!0,this.checkTextureUtility(h)}this.removeFromQueue(a)}},jU.checkTextureUtility=function(a){a.invalidatedWidth>=.2*a.width&&this.retireTexture(a)},jU.checkTextureFullness=function(a){var b=this.getTextureQueue(a.height);a.usedWidth/a.width>.8&&a.fullnessChecks>=10?bC(b,a):a.fullnessChecks++},jU.retireTexture=function(a){var b=a.height,c=this.getTextureQueue(b),d=this.lookup;bC(c,a),a.retired=!0;for(var e=a.eleCaches,f=0;f<e.length;f++){var g=e[f];d.deleteCache(g.key,g.level)}bD(e),this.getRetiredTextureQueue(b).push(a)},jU.addTexture=function(a,b){var c=this.getTextureQueue(a),d={};return c.push(d),d.eleCaches=[],d.height=a,d.width=Math.max(1024,b),d.usedWidth=0,d.invalidatedWidth=0,d.fullnessChecks=0,d.canvas=this.renderer.makeOffscreenCanvas(d.width,d.height),d.context=d.canvas.getContext("2d"),d},jU.recycleTexture=function(a,b){for(var c=this.getTextureQueue(a),d=this.getRetiredTextureQueue(a),e=0;e<d.length;e++){var f=d[e];if(f.width>=b)return f.retired=!1,f.usedWidth=0,f.invalidatedWidth=0,f.fullnessChecks=0,bD(f.eleCaches),f.context.setTransform(1,0,0,1,0,0),f.context.clearRect(0,0,f.width,f.height),bC(d,f),c.push(f),f}},jU.queueElement=function(a,b){var c=this.getElementQueue(),d=this.getElementKeyToQueue(),e=this.getKey(a),f=d[e];if(f)f.level=Math.max(f.level,b),f.eles.merge(a),f.reqs++,c.updateItem(f);else{var g={eles:a.spawn().merge(a),level:b,reqs:1,key:e};c.push(g),d[e]=g}},jU.dequeue=function(a){for(var b=this.getElementQueue(),c=this.getElementKeyToQueue(),d=[],e=this.lookup,f=0;f<1;f++)if(b.size()>0){var g=b.pop(),h=g.key,i=g.eles[0],j=e.hasCache(i,g.level);if(c[h]=null,j)continue;d.push(g);var k=this.getBoundingBox(i);this.getElement(i,k,a,g.level,jR.dequeue)}else break;return d},jU.removeFromQueue=function(a){var b=this.getElementQueue(),c=this.getElementKeyToQueue(),d=this.getKey(a),e=c[d];null!=e&&(1===e.eles.length?(e.reqs=bp,b.updateItem(e),b.pop(),c[d]=null):e.eles.unmerge(a))},jU.onDequeue=function(a){this.onDequeues.push(a)},jU.offDequeue=function(a){bC(this.onDequeues,a)},jU.setupDequeueing=jP({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(a,b,c){return a.dequeue(b,c)},onDeqd:function(a,b){for(var c=0;c<a.onDequeues.length;c++)(0,a.onDequeues[c])(b)},shouldRedraw:function(a,b,c,d){for(var e=0;e<b.length;e++)for(var f=b[e].eles,g=0;g<f.length;g++)if(ck(f[g].boundingBox(),d))return!0;return!1},priority:function(a){return a.renderer.beforeRenderPriorities.eleTxrDeq}});var jV=function(a){var b=this,c=b.renderer=a,d=c.cy;b.layersByLevel={},b.firstGet=!0,b.lastInvalidationTime=ba()-500,b.skipping=!1,b.eleTxrDeqs=d.collection(),b.scheduleElementRefinement=a9(function(){b.refineElementTextures(b.eleTxrDeqs),b.eleTxrDeqs.unmerge(b.eleTxrDeqs)},50),c.beforeRender(function(a,c){c-b.lastInvalidationTime<=250?b.skipping=!0:b.skipping=!1},c.beforeRenderPriorities.lyrTxrSkip),b.layersQueue=new bQ(function(a,b){return b.reqs-a.reqs}),b.setupDequeueing()},jW=jV.prototype,jX=0;jW.makeLayer=function(a,b){var c=Math.pow(2,b),d=Math.ceil(a.w*c),e=Math.ceil(a.h*c),f=this.renderer.makeOffscreenCanvas(d,e),g={id:jX=++jX%0x1fffffffffffff,bb:a,level:b,width:d,height:e,canvas:f,context:f.getContext("2d"),eles:[],elesQueue:[],reqs:0},h=g.context,i=-g.bb.x1,j=-g.bb.y1;return h.scale(c,c),h.translate(i,j),g},jW.getLayers=function(a,b,c){var d,e,f=this,g=f.renderer.cy.zoom(),h=f.firstGet;if(f.firstGet=!1,null==c){if((c=Math.ceil(b4(g*b)))<-4)c=-4;else if(g>=3.99||c>2)return null}f.validateLayersElesOrdering(c,a);var i=f.layersByLevel,j=Math.pow(2,c),k=i[c]=i[c]||[];if(f.levelIsComplete(c,a))return k;var l=function(b){if(f.validateLayersElesOrdering(b,a),f.levelIsComplete(b,a))return e=i[b],!0},n=function(a){if(!e)for(var b=c+a;-4<=b&&b<=2&&!l(b);b+=a);};n(1),n(-1);for(var o=k.length-1;o>=0;o--){var p=k[o];p.invalid&&bC(k,p)}var q=function(){if(!d){d=cd();for(var b=0;b<a.length;b++)cf(d,a[b].boundingBox())}return d};if(f.skipping&&!h)return null;for(var r=null,s=a.length/1,t=!h,u=0;u<a.length;u++){var v=a[u],w=v._private.rscratch,x=w.imgLayerCaches=w.imgLayerCaches||{},y=x[c];if(y){r=y;continue}if((!r||r.eles.length>=s||!cn(r.bb,v.boundingBox()))&&!(r=function(a){var b=(a=a||{}).after;q();var e=Math.ceil(d.w*j),g=Math.ceil(d.h*j);if(e>32767||g>32767||e*g>16e6)return null;var h=f.makeLayer(d,c);if(null!=b){var i=k.indexOf(b)+1;k.splice(i,0,h)}else(void 0===a.insert||a.insert)&&k.unshift(h);return h}({insert:!0,after:r})))return null;e||t?f.queueLayer(r,v):f.drawEleInLayer(r,v,c,b),r.eles.push(v),x[c]=r}return e||(t?null:k)},jW.getEleLevelForLayerLevel=function(a,b){return a},jW.drawEleInLayer=function(a,b,c,d){var e=this.renderer,f=a.context,g=b.boundingBox();0!==g.w&&0!==g.h&&b.visible()&&(c=this.getEleLevelForLayerLevel(c,d),e.setImgSmoothing(f,!1),e.drawCachedElement(f,b,null,null,c,!0),e.setImgSmoothing(f,!0))},jW.levelIsComplete=function(a,b){var c=this.layersByLevel[a];if(!c||0===c.length)return!1;for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f.reqs>0||f.invalid)return!1;d+=f.eles.length}return d===b.length},jW.validateLayersElesOrdering=function(a,b){var c=this.layersByLevel[a];if(c)for(var d=0;d<c.length;d++){for(var e=c[d],f=-1,g=0;g<b.length;g++)if(e.eles[0]===b[g]){f=g;break}if(f<0){this.invalidateLayer(e);continue}for(var h=f,g=0;g<e.eles.length;g++)if(e.eles[g]!==b[h+g]){this.invalidateLayer(e);break}}},jW.updateElementsInLayers=function(a,b){for(var c=aE(a[0]),d=0;d<a.length;d++)for(var e=c?null:a[d],f=c?a[d]:a[d].ele,g=f._private.rscratch,h=g.imgLayerCaches=g.imgLayerCaches||{},i=-4;i<=2;i++){var j=h[i];j&&(e&&this.getEleLevelForLayerLevel(j.level)!==e.level||b(j,f,e))}},jW.haveLayers=function(){for(var a=!1,b=-4;b<=2;b++){var c=this.layersByLevel[b];if(c&&c.length>0){a=!0;break}}return a},jW.invalidateElements=function(a){var b=this;0===a.length||(b.lastInvalidationTime=ba(),0!==a.length&&b.haveLayers()&&b.updateElementsInLayers(a,function(a,c,d){b.invalidateLayer(a)}))},jW.invalidateLayer=function(a){if(this.lastInvalidationTime=ba(),!a.invalid){var b=a.level,c=a.eles;bC(this.layersByLevel[b],a),a.elesQueue=[],a.invalid=!0,a.replacement&&(a.replacement.invalid=!0);for(var d=0;d<c.length;d++){var e=c[d]._private.rscratch.imgLayerCaches;e&&(e[b]=null)}}},jW.refineElementTextures=function(a){var b=this;b.updateElementsInLayers(a,function(a,c,d){var e=a.replacement;if(e||((e=a.replacement=b.makeLayer(a.bb,a.level)).replaces=a,e.eles=a.eles),!e.reqs)for(var f=0;f<e.eles.length;f++)b.queueLayer(e,e.eles[f])})},jW.enqueueElementRefinement=function(a){this.eleTxrDeqs.merge(a),this.scheduleElementRefinement()},jW.queueLayer=function(a,b){var c=this.layersQueue,d=a.elesQueue,e=d.hasId=d.hasId||{};if(!a.replacement){if(b){if(e[b.id()])return;d.push(b),e[b.id()]=!0}a.reqs?(a.reqs++,c.updateItem(a)):(a.reqs=1,c.push(a))}},jW.dequeue=function(a){for(var b=this.layersQueue,c=[],d=0;d<1&&0!==b.size();){var e=b.peek();if(e.replacement||e.replaces&&e!==e.replaces.replacement||e.invalid){b.pop();continue}var f=e.elesQueue.shift();f&&(this.drawEleInLayer(e,f,e.level,a),d++),0===c.length&&c.push(!0),0===e.elesQueue.length&&(b.pop(),e.reqs=0,e.replaces&&this.applyLayerReplacement(e),this.requestRedraw())}return c},jW.applyLayerReplacement=function(a){var b=this.layersByLevel[a.level],c=a.replaces,d=b.indexOf(c);if(!(d<0)&&!c.invalid){b[d]=a;for(var e=0;e<a.eles.length;e++){var f=a.eles[e]._private,g=f.imgLayerCaches=f.imgLayerCaches||{};g&&(g[a.level]=a)}this.requestRedraw()}},jW.requestRedraw=a9(function(){var a=this.renderer;a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},100),jW.setupDequeueing=jP({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(a,b){return a.dequeue(b)},onDeqd:bt,shouldRedraw:bq,priority:function(a){return a.renderer.beforeRenderPriorities.lyrTxrDeq}});var jY={};function jZ(a,b){for(var c=0;c<b.length;c++){var d=b[c];a.lineTo(d.x,d.y)}}function j$(a,b,c){for(var d,e=0;e<b.length;e++){var f=b[e];0===e&&(d=f),a.lineTo(f.x,f.y)}a.quadraticCurveTo(c.x,c.y,d.x,d.y)}function j_(a,b,c){a.beginPath&&a.beginPath();for(var d=0;d<b.length;d++){var e=b[d];a.lineTo(e.x,e.y)}var f=c[0];a.moveTo(f.x,f.y);for(var d=1;d<c.length;d++){var e=c[d];a.lineTo(e.x,e.y)}a.closePath&&a.closePath()}function j0(a,b,c,d,e){a.beginPath&&a.beginPath(),a.arc(c,d,e,0,2*Math.PI,!1);var f=b[0];a.moveTo(f.x,f.y);for(var g=0;g<b.length;g++){var h=b[g];a.lineTo(h.x,h.y)}a.closePath&&a.closePath()}function j1(a,b,c,d){a.arc(b,c,d,0,2*Math.PI,!1)}jY.arrowShapeImpl=function(a){return(k||(k={polygon:jZ,"triangle-backcurve":j$,"triangle-tee":j_,"circle-triangle":j0,"triangle-cross":j_,circle:j1}))[a]};var j2={};j2.drawElement=function(a,b,c,d,e,f){b.isNode()?this.drawNode(a,b,c,d,e,f):this.drawEdge(a,b,c,d,e,f)},j2.drawElementOverlay=function(a,b){b.isNode()?this.drawNodeOverlay(a,b):this.drawEdgeOverlay(a,b)},j2.drawElementUnderlay=function(a,b){b.isNode()?this.drawNodeUnderlay(a,b):this.drawEdgeUnderlay(a,b)},j2.drawCachedElementPortion=function(a,b,c,d,e,f,g,h){var i=c.getBoundingBox(b);if(0!==i.w&&0!==i.h){var j=c.getElement(b,i,d,e,f);if(null!=j){var k,l,n,o,p,q,r=h(this,b);if(0===r)return;var s=g(this,b),t=i.x1,u=i.y1,v=i.w,w=i.h;if(0!==s){var x=c.getRotationPoint(b);n=x.x,o=x.y,a.translate(n,o),a.rotate(s),(p=this.getImgSmoothing(a))||this.setImgSmoothing(a,!0);var y=c.getRotationOffset(b);k=y.x,l=y.y}else k=t,l=u;1!==r&&(q=a.globalAlpha,a.globalAlpha=q*r),a.drawImage(j.texture.canvas,j.x,0,j.width,j.height,k,l,v,w),1!==r&&(a.globalAlpha=q),0!==s&&(a.rotate(-s),a.translate(-n,-o),p||this.setImgSmoothing(a,!1))}else c.drawElement(a,b)}};var j3=function(){return 0},j4=function(a,b){return a.getTextAngle(b,null)},j5=function(a,b){return a.getTextAngle(b,"source")},j6=function(a,b){return a.getTextAngle(b,"target")},j7=function(a,b){return b.effectiveOpacity()},j8=function(a,b){return b.pstyle("text-opacity").pfValue*b.effectiveOpacity()};j2.drawCachedElement=function(a,b,c,d,e,f){var g=this.data,h=g.eleTxrCache,i=g.lblTxrCache,j=g.slbTxrCache,k=g.tlbTxrCache,l=b.boundingBox(),n=!0===f?h.reasons.highQuality:null;if(0!==l.w&&0!==l.h&&b.visible()&&(!d||ck(l,d))){var o=b.isEdge(),p=b.element()._private.rscratch.badLine;this.drawElementUnderlay(a,b),this.drawCachedElementPortion(a,b,h,c,e,n,j3,j7),o&&p||this.drawCachedElementPortion(a,b,i,c,e,n,j4,j8),o&&!p&&(this.drawCachedElementPortion(a,b,j,c,e,n,j5,j8),this.drawCachedElementPortion(a,b,k,c,e,n,j6,j8)),this.drawElementOverlay(a,b)}},j2.drawElements=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];this.drawElement(a,d)}},j2.drawCachedElements=function(a,b,c,d){for(var e=0;e<b.length;e++){var f=b[e];this.drawCachedElement(a,f,c,d)}},j2.drawCachedNodes=function(a,b,c,d){for(var e=0;e<b.length;e++){var f=b[e];f.isNode()&&this.drawCachedElement(a,f,c,d)}},j2.drawLayeredElements=function(a,b,c,d){var e=this.data.lyrTxrCache.getLayers(b,c);if(e)for(var f=0;f<e.length;f++){var g=e[f],h=g.bb;0!==h.w&&0!==h.h&&a.drawImage(g.canvas,h.x1,h.y1,h.w,h.h)}else this.drawCachedElements(a,b,c,d)};var j9={};j9.drawEdge=function(a,b,c){var d,e=!(arguments.length>3)||void 0===arguments[3]||arguments[3],f=!(arguments.length>4)||void 0===arguments[4]||arguments[4],g=!(arguments.length>5)||void 0===arguments[5]||arguments[5],h=this,i=b._private.rscratch;if((!g||b.visible())&&!(i.badLine||null==i.allpts||isNaN(i.allpts[0]))){c&&(d=c,a.translate(-d.x1,-d.y1));var j=g?b.pstyle("opacity").value:1,k=g?b.pstyle("line-opacity").value:1,l=b.pstyle("curve-style").value,n=b.pstyle("line-style").value,o=b.pstyle("width").pfValue,p=b.pstyle("line-cap").value,q=b.pstyle("line-outline-width").value,r=b.pstyle("line-outline-color").value,s=j*k,t=j*k,u=function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;"straight-triangle"===l?(h.eleStrokeStyle(a,b,c),h.drawEdgeTrianglePath(b,a,i.allpts)):(a.lineWidth=o,a.lineCap=p,h.eleStrokeStyle(a,b,c),h.drawEdgePath(b,a,i.allpts,n),a.lineCap="butt")},v=function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;h.drawArrowheads(a,b,c)};if(a.lineJoin="round","yes"===b.pstyle("ghost").value){var w=b.pstyle("ghost-offset-x").pfValue,x=b.pstyle("ghost-offset-y").pfValue,y=s*b.pstyle("ghost-opacity").value;a.translate(w,x),u(y),v(y),a.translate(-w,-x)}else!function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;if(a.lineWidth=o+q,a.lineCap=p,q>0)h.colorStrokeStyle(a,r[0],r[1],r[2],c);else{a.lineCap="butt";return}"straight-triangle"===l?h.drawEdgeTrianglePath(b,a,i.allpts):(h.drawEdgePath(b,a,i.allpts,n),a.lineCap="butt")}();f&&h.drawEdgeUnderlay(a,b),u(),v(),f&&h.drawEdgeOverlay(a,b),h.drawElementText(a,b,null,e),c&&a.translate(d.x1,d.y1)}};var ka=function(a){if(!["overlay","underlay"].includes(a))throw Error("Invalid state");return function(b,c){if(c.visible()){var d=c.pstyle("".concat(a,"-opacity")).value;if(0!==d){var e=this.usePaths(),f=c._private.rscratch,g=c.pstyle("".concat(a,"-padding")).pfValue,h=c.pstyle("".concat(a,"-color")).value;b.lineWidth=2*g,"self"!==f.edgeType||e?b.lineCap="round":b.lineCap="butt",this.colorStrokeStyle(b,h[0],h[1],h[2],d),this.drawEdgePath(c,b,f.allpts,"solid")}}}};j9.drawEdgeOverlay=ka("overlay"),j9.drawEdgeUnderlay=ka("underlay"),j9.drawEdgePath=function(a,b,c,d){var e=a._private.rscratch,f=b,g=!1,h=this.usePaths(),i=a.pstyle("line-dash-pattern").pfValue,j=a.pstyle("line-dash-offset").pfValue;if(h){var k=c.join("$");e.pathCacheKey&&e.pathCacheKey===k?(o=b=e.pathCache,g=!0):(o=b=new Path2D,e.pathCacheKey=k,e.pathCache=o)}if(f.setLineDash)switch(d){case"dotted":f.setLineDash([1,1]);break;case"dashed":f.setLineDash(i),f.lineDashOffset=j;break;case"solid":f.setLineDash([])}if(!g&&!e.badLine)switch(b.beginPath&&b.beginPath(),b.moveTo(c[0],c[1]),e.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var l=2;l+3<c.length;l+=4)b.quadraticCurveTo(c[l],c[l+1],c[l+2],c[l+3]);break;case"straight":case"haystack":for(var n=2;n+1<c.length;n+=2)b.lineTo(c[n],c[n+1]);break;case"segments":if(e.isRound){var o,p,q=al(e.roundCorners);try{for(q.s();!(p=q.n()).done;){var r=p.value;jr(b,r)}}catch(a){q.e(a)}finally{q.f()}b.lineTo(c[c.length-2],c[c.length-1])}else for(var s=2;s+1<c.length;s+=2)b.lineTo(c[s],c[s+1])}b=f,h?b.stroke(o):b.stroke(),b.setLineDash&&b.setLineDash([])},j9.drawEdgeTrianglePath=function(a,b,c){b.fillStyle=b.strokeStyle;for(var d=a.pstyle("width").pfValue,e=0;e+1<c.length;e+=2){var f=[c[e+2]-c[e],c[e+3]-c[e+1]],g=Math.sqrt(f[0]*f[0]+f[1]*f[1]),h=[f[1]/g,-f[0]/g],i=[h[0]*d/2,h[1]*d/2];b.beginPath(),b.moveTo(c[e]-i[0],c[e+1]-i[1]),b.lineTo(c[e]+i[0],c[e+1]+i[1]),b.lineTo(c[e+2],c[e+3]),b.closePath(),b.fill()}},j9.drawArrowheads=function(a,b,c){var d=b._private.rscratch,e="haystack"===d.edgeType;e||this.drawArrowhead(a,b,"source",d.arrowStartX,d.arrowStartY,d.srcArrowAngle,c),this.drawArrowhead(a,b,"mid-target",d.midX,d.midY,d.midtgtArrowAngle,c),this.drawArrowhead(a,b,"mid-source",d.midX,d.midY,d.midsrcArrowAngle,c),e||this.drawArrowhead(a,b,"target",d.arrowEndX,d.arrowEndY,d.tgtArrowAngle,c)},j9.drawArrowhead=function(a,b,c,d,e,f,g){if(!(isNaN(d)||null==d||isNaN(e)||null==e||isNaN(f))&&null!=f){var h=b.pstyle(c+"-arrow-shape").value;if("none"!==h){var i="hollow"===b.pstyle(c+"-arrow-fill").value?"both":"filled",j=b.pstyle(c+"-arrow-fill").value,k=b.pstyle("width").pfValue,l=b.pstyle(c+"-arrow-width"),n="match-line"===l.value?k:l.pfValue;"%"===l.units&&(n*=k);var o=b.pstyle("opacity").value;void 0===g&&(g=o);var p=a.globalCompositeOperation;(1!==g||"hollow"===j)&&(a.globalCompositeOperation="destination-out",this.colorFillStyle(a,255,255,255,1),this.colorStrokeStyle(a,255,255,255,1),this.drawArrowShape(b,a,i,k,h,n,d,e,f),a.globalCompositeOperation=p);var q=b.pstyle(c+"-arrow-color").value;this.colorFillStyle(a,q[0],q[1],q[2],g),this.colorStrokeStyle(a,q[0],q[1],q[2],g),this.drawArrowShape(b,a,j,k,h,n,d,e,f)}}},j9.drawArrowShape=function(a,b,c,d,e,f,g,h,i){var j,k=this.usePaths()&&"triangle-cross"!==e,l=!1,n=b,o=a.pstyle("arrow-scale").value,p=this.getArrowWidth(d,o),q=this.arrowShapes[e];if(k){var r=this.arrowPathCache=this.arrowPathCache||[],s=bj(e),t=r[s];null!=t?(j=b=t,l=!0):(j=b=new Path2D,r[s]=j)}!l&&(b.beginPath&&b.beginPath(),k?q.draw(b,1,0,{x:0,y:0},1):q.draw(b,p,i,{x:g,y:h},d),b.closePath&&b.closePath()),b=n,k&&(b.translate(g,h),b.rotate(i),b.scale(p,p)),("filled"===c||"both"===c)&&(k?b.fill(j):b.fill()),("hollow"===c||"both"===c)&&(b.lineWidth=f/(k?p:1),b.lineJoin="miter",k?b.stroke(j):b.stroke()),k&&(b.scale(1/p,1/p),b.rotate(-i),b.translate(-g,-h))};var kb={};kb.safeDrawImage=function(a,b,c,d,e,f,g,h,i,j){if(!(e<=0)&&!(f<=0)&&!(i<=0)&&!(j<=0))try{a.drawImage(b,c,d,e,f,g,h,i,j)}catch(a){bw(a)}},kb.drawInscribedImage=function(a,b,c,d,e){var f=c.position(),g=f.x,h=f.y,i=c.cy().style(),j=i.getIndexedStyle.bind(i),k=j(c,"background-fit","value",d),l=j(c,"background-repeat","value",d),n=c.width(),o=c.height(),p=2*c.padding(),q=n+("inner"===j(c,"background-width-relative-to","value",d)?0:p),r=o+("inner"===j(c,"background-height-relative-to","value",d)?0:p),s=c._private.rscratch,t="node"===j(c,"background-clip","value",d),u=j(c,"background-image-opacity","value",d)*e,v=j(c,"background-image-smoothing","value",d),w=c.pstyle("corner-radius").value;"auto"!==w&&(w=c.pstyle("corner-radius").pfValue);var x=b.width||b.cachedW,y=b.height||b.cachedH;(null==x||null==y)&&(document.body.appendChild(b),x=b.cachedW=b.width||b.offsetWidth,y=b.cachedH=b.height||b.offsetHeight,document.body.removeChild(b));var z=x,A=y;if("auto"!==j(c,"background-width","value",d)&&(z="%"===j(c,"background-width","units",d)?j(c,"background-width","pfValue",d)*q:j(c,"background-width","pfValue",d)),"auto"!==j(c,"background-height","value",d)&&(A="%"===j(c,"background-height","units",d)?j(c,"background-height","pfValue",d)*r:j(c,"background-height","pfValue",d)),0!==z&&0!==A){if("contain"===k){var B=Math.min(q/z,r/A);z*=B,A*=B}else if("cover"===k){var B=Math.max(q/z,r/A);z*=B,A*=B}var C=g-q/2,D=j(c,"background-position-x","units",d),E=j(c,"background-position-x","pfValue",d);"%"===D?C+=(q-z)*E:C+=E;var F=j(c,"background-offset-x","units",d),G=j(c,"background-offset-x","pfValue",d);"%"===F?C+=(q-z)*G:C+=G;var H=h-r/2,I=j(c,"background-position-y","units",d),J=j(c,"background-position-y","pfValue",d);"%"===I?H+=(r-A)*J:H+=J;var K=j(c,"background-offset-y","units",d),L=j(c,"background-offset-y","pfValue",d);"%"===K?H+=(r-A)*L:H+=L,s.pathCache&&(C-=g,H-=h,g=0,h=0);var M=a.globalAlpha;a.globalAlpha=u;var N=this.getImgSmoothing(a),O=!1;if("no"===v&&N?(this.setImgSmoothing(a,!1),O=!0):"yes"!==v||N||(this.setImgSmoothing(a,!0),O=!0),"no-repeat"===l)t&&(a.save(),s.pathCache?a.clip(s.pathCache):(this.nodeShapes[this.getNodeShape(c)].draw(a,g,h,q,r,w,s),a.clip())),this.safeDrawImage(a,b,0,0,x,y,C,H,z,A),t&&a.restore();else{var P=a.createPattern(b,l);a.fillStyle=P,this.nodeShapes[this.getNodeShape(c)].draw(a,g,h,q,r,w,s),a.translate(C,H),a.fill(),a.translate(-C,-H)}a.globalAlpha=M,O&&this.setImgSmoothing(a,N)}};var kc={};function kd(a,b,c,d,e){var f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,g=Math.min(f,d/2,e/2);a.beginPath(),a.moveTo(b+g,c),a.lineTo(b+d-g,c),a.quadraticCurveTo(b+d,c,b+d,c+g),a.lineTo(b+d,c+e-g),a.quadraticCurveTo(b+d,c+e,b+d-g,c+e),a.lineTo(b+g,c+e),a.quadraticCurveTo(b,c+e,b,c+e-g),a.lineTo(b,c+g),a.quadraticCurveTo(b,c,b+g,c),a.closePath()}kc.eleTextBiggerThanMin=function(a,b){return b||(b=Math.pow(2,Math.ceil(b4(a.cy().zoom()*this.getPixelRatio())))),!(a.pstyle("font-size").pfValue*b<a.pstyle("min-zoomed-font-size").pfValue)},kc.drawElementText=function(a,b,c,d,e){var f,g=!(arguments.length>5)||void 0===arguments[5]||arguments[5];if(null==d){if(g&&!this.eleTextBiggerThanMin(b))return}else if(!1===d)return;if(b.isNode()){var h=b.pstyle("label");if(!h||!h.value)return;a.textAlign=this.getLabelJustification(b),a.textBaseline="bottom"}else{var i=b.element()._private.rscratch.badLine,j=b.pstyle("label"),k=b.pstyle("source-label"),l=b.pstyle("target-label");if(i||(!j||!j.value)&&(!k||!k.value)&&(!l||!l.value))return;a.textAlign="center",a.textBaseline="bottom"}var n=!c;c&&(f=c,a.translate(-f.x1,-f.y1)),null==e?(this.drawText(a,b,null,n,g),b.isEdge()&&(this.drawText(a,b,"source",n,g),this.drawText(a,b,"target",n,g))):this.drawText(a,b,e,n,g),c&&a.translate(f.x1,f.y1)},kc.getFontCache=function(a){var b;this.fontCaches=this.fontCaches||[];for(var c=0;c<this.fontCaches.length;c++)if((b=this.fontCaches[c]).context===a)return b;return b={context:a},this.fontCaches.push(b),b},kc.setupTextStyle=function(a,b){var c=!(arguments.length>2)||void 0===arguments[2]||arguments[2],d=b.pstyle("font-style").strValue,e=b.pstyle("font-size").pfValue+"px",f=b.pstyle("font-family").strValue,g=b.pstyle("font-weight").strValue,h=c?b.effectiveOpacity()*b.pstyle("text-opacity").value:1,i=b.pstyle("text-outline-opacity").value*h,j=b.pstyle("color").value,k=b.pstyle("text-outline-color").value;a.font=d+" "+g+" "+e+" "+f,a.lineJoin="round",this.colorFillStyle(a,j[0],j[1],j[2],h),this.colorStrokeStyle(a,k[0],k[1],k[2],i)},kc.getTextAngle=function(a,b){var c,d=a._private.rscratch,e=b?b+"-":"",f=a.pstyle(e+"text-rotation");if("autorotate"===f.strValue){var g=bF(d,"labelAngle",b);c=a.isEdge()?g:0}else c="none"===f.strValue?0:f.pfValue;return c},kc.drawText=function(a,b,c){var d=!(arguments.length>3)||void 0===arguments[3]||arguments[3],e=!(arguments.length>4)||void 0===arguments[4]||arguments[4],f=b._private.rscratch,g=e?b.effectiveOpacity():1;if(!e||0!==g&&0!==b.pstyle("text-opacity").value){"main"===c&&(c=null);var h=bF(f,"labelX",c),i=bF(f,"labelY",c),j=this.getLabelText(b,c);if(null!=j&&""!==j&&!isNaN(h)&&!isNaN(i)){this.setupTextStyle(a,b,e);var k,l,n,o=c?c+"-":"",p=bF(f,"labelWidth",c),q=bF(f,"labelHeight",c),r=b.pstyle(o+"text-margin-x").pfValue,s=b.pstyle(o+"text-margin-y").pfValue,t=b.isEdge(),u=b.pstyle("text-halign").value,v=b.pstyle("text-valign").value;switch(t&&(u="center",v="center"),h+=r,i+=s,0!==(n=d?this.getTextAngle(b,c):0)&&(k=h,l=i,a.translate(k,l),a.rotate(n),h=0,i=0),v){case"top":break;case"center":i+=q/2;break;case"bottom":i+=q}var w=b.pstyle("text-background-opacity").value,x=b.pstyle("text-border-opacity").value,y=b.pstyle("text-border-width").pfValue,z=b.pstyle("text-background-padding").pfValue,A=b.pstyle("text-background-shape").strValue,B="round-rectangle"===A||"roundrectangle"===A;if(w>0||y>0&&x>0){var C,D,E=a.fillStyle,F=a.strokeStyle,G=a.lineWidth,H=b.pstyle("text-background-color").value,I=b.pstyle("text-border-color").value,J=b.pstyle("text-border-style").value,K=w>0,L=y>0&&x>0,M=h-z;switch(u){case"left":M-=p;break;case"center":M-=p/2}var N=i-q-z,O=p+2*z,P=q+2*z;if(K&&(a.fillStyle="rgba(".concat(H[0],",").concat(H[1],",").concat(H[2],",").concat(w*g,")")),L&&(a.strokeStyle="rgba(".concat(I[0],",").concat(I[1],",").concat(I[2],",").concat(x*g,")"),a.lineWidth=y,a.setLineDash))switch(J){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"double":a.lineWidth=y/4,a.setLineDash([]);break;default:a.setLineDash([])}if(B?(a.beginPath(),kd(a,M,N,O,P,2)):"circle"===A?(a.beginPath(),C=M,D=Math.min(O,P),a.beginPath(),a.arc(C+O/2,N+P/2,D/2,0,2*Math.PI),a.closePath()):(a.beginPath(),a.rect(M,N,O,P)),K&&a.fill(),L&&a.stroke(),L&&"double"===J){var Q=y/2;a.beginPath(),B?kd(a,M+Q,N+Q,O-2*Q,P-2*Q,2):a.rect(M+Q,N+Q,O-2*Q,P-2*Q),a.stroke()}a.fillStyle=E,a.strokeStyle=F,a.lineWidth=G,a.setLineDash&&a.setLineDash([])}var R=2*b.pstyle("text-outline-width").pfValue;if(R>0&&(a.lineWidth=R),"wrap"===b.pstyle("text-wrap").value){var S=bF(f,"labelWrapCachedLines",c),T=bF(f,"labelLineHeight",c),U=p/2,V=this.getLabelJustification(b);switch("auto"===V||("left"===u?"left"===V?h+=-p:"center"===V&&(h+=-U):"center"===u?"left"===V?h+=-U:"right"===V&&(h+=U):"right"===u&&("center"===V?h+=U:"right"===V&&(h+=p))),v){case"top":case"center":case"bottom":i-=(S.length-1)*T}for(var W=0;W<S.length;W++)R>0&&a.strokeText(S[W],h,i),a.fillText(S[W],h,i),i+=T}else R>0&&a.strokeText(j,h,i),a.fillText(j,h,i);0!==n&&(a.rotate(-n),a.translate(-k,-l))}}};var ke={};ke.drawNode=function(a,b,c){var d,e,f,g,h=!(arguments.length>3)||void 0===arguments[3]||arguments[3],i=!(arguments.length>4)||void 0===arguments[4]||arguments[4],j=!(arguments.length>5)||void 0===arguments[5]||arguments[5],k=this,l=b._private,n=l.rscratch,o=b.position();if(aB(o.x)&&aB(o.y)&&(!j||b.visible())){var p=j?b.effectiveOpacity():1,q=k.usePaths(),r=!1,s=b.padding();d=b.width()+2*s,e=b.height()+2*s,c&&(g=c,a.translate(-g.x1,-g.y1));for(var t=b.pstyle("background-image").value,u=Array(t.length),v=Array(t.length),w=0,x=0;x<t.length;x++){var y=t[x];if(u[x]=null!=y&&"none"!==y){var z=b.cy().style().getIndexedStyle(b,"background-image-crossorigin","value",x);w++,v[x]=k.getCachedImage(y,z,function(){l.backgroundTimestamp=Date.now(),b.emitAndNotify("background")})}}var A=b.pstyle("background-blacken").value,B=b.pstyle("border-width").pfValue,C=b.pstyle("background-opacity").value*p,D=b.pstyle("border-color").value,E=b.pstyle("border-style").value,F=b.pstyle("border-join").value,G=b.pstyle("border-cap").value,H=b.pstyle("border-position").value,I=b.pstyle("border-dash-pattern").pfValue,J=b.pstyle("border-dash-offset").pfValue,K=b.pstyle("border-opacity").value*p,L=b.pstyle("outline-width").pfValue,M=b.pstyle("outline-color").value,N=b.pstyle("outline-style").value,O=b.pstyle("outline-opacity").value*p,P=b.pstyle("outline-offset").value,Q=b.pstyle("corner-radius").value;"auto"!==Q&&(Q=b.pstyle("corner-radius").pfValue);var R=function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;k.eleFillStyle(a,b,c)},S=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;k.colorStrokeStyle(a,D[0],D[1],D[2],b)},T=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;k.colorStrokeStyle(a,M[0],M[1],M[2],b)},U=function(a,b,c,d){var e,f=k.nodePathCache=k.nodePathCache||[],g=bk("polygon"===c?c+","+d.join(","):c,""+b,""+a,""+Q),h=f[g],i=!1;return null!=h?(i=!0,n.pathCache=e=h):(e=new Path2D,f[g]=n.pathCache=e),{path:e,cacheHit:i}},V=b.pstyle("shape").strValue,W=b.pstyle("shape-polygon-points").pfValue;if(q){a.translate(o.x,o.y);var X=U(d,e,V,W);f=X.path,r=X.cacheHit}var Y=function(){if(!r){var c=o;q&&(c={x:0,y:0}),k.nodeShapes[k.getNodeShape(b)].draw(f||a,c.x,c.y,d,e,Q,n)}q?a.fill(f):a.fill()},Z=function(){for(var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,d=!(arguments.length>1)||void 0===arguments[1]||arguments[1],e=l.backgrounding,f=0,g=0;g<v.length;g++){var h=b.cy().style().getIndexedStyle(b,"background-image-containment","value",g);if(d&&"over"===h||!d&&"inside"===h){f++;continue}u[g]&&v[g].complete&&!v[g].error&&(f++,k.drawInscribedImage(a,v[g],b,g,c))}l.backgrounding=f!==w,e!==l.backgrounding&&b.updateStyle(!1)},$=function(){var c=arguments.length>0&&void 0!==arguments[0]&&arguments[0],f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;k.hasPie(b)&&(k.drawPie(a,b,f),c&&!q&&k.nodeShapes[k.getNodeShape(b)].draw(a,o.x,o.y,d,e,Q,n))},_=function(){var c=arguments.length>0&&void 0!==arguments[0]&&arguments[0],f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;k.hasStripe(b)&&(a.save(),q?a.clip(n.pathCache):(k.nodeShapes[k.getNodeShape(b)].draw(a,o.x,o.y,d,e,Q,n),a.clip()),k.drawStripe(a,b,f),a.restore(),c&&!q&&k.nodeShapes[k.getNodeShape(b)].draw(a,o.x,o.y,d,e,Q,n))},aa=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,c=A>0?0:255;0!==A&&(k.colorFillStyle(a,c,c,c,(A>0?A:-A)*b),q?a.fill(f):a.fill())},ab=function(){if(B>0){if(a.lineWidth=B,a.lineCap=G,a.lineJoin=F,a.setLineDash)switch(E){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(I),a.lineDashOffset=J;break;case"solid":case"double":a.setLineDash([])}if("center"!==H){if(a.save(),a.lineWidth*=2,"inside"===H)q?a.clip(f):a.clip();else{var b=new Path2D;b.rect(-d/2-B,-e/2-B,d+2*B,e+2*B),b.addPath(f),a.clip(b,"evenodd")}q?a.stroke(f):a.stroke(),a.restore()}else q?a.stroke(f):a.stroke();if("double"===E){a.lineWidth=B/3;var c=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",q?a.stroke(f):a.stroke(),a.globalCompositeOperation=c}a.setLineDash&&a.setLineDash([])}},ac=function(){if(L>0){if(a.lineWidth=L,a.lineCap="butt",a.setLineDash)switch(N){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"solid":case"double":a.setLineDash([])}var c=o;q&&(c={x:0,y:0});var f=k.getNodeShape(b),g=B;"inside"===H&&(g=0),"outside"===H&&(g*=2);var h=(d+g+(L+P))/d,i=(e+g+(L+P))/e,j=d*h,l=e*i,n=k.nodeShapes[f].points;if(q&&(z=U(j,l,f,n).path),"ellipse"===f)k.drawEllipsePath(z||a,c.x,c.y,j,l);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(f)){var p=0,r=0,s=0;"round-diamond"===f?p=(g+P+L)*1.4:"round-heptagon"===f?(p=(g+P+L)*1.075,s=-(g/2+P+L)/35):"round-hexagon"===f?p=(g+P+L)*1.12:"round-pentagon"===f?(p=(g+P+L)*1.13,s=-(g/2+P+L)/15):"round-tag"===f?(p=(g+P+L)*1.12,r=(g/2+L+P)*.07):"round-triangle"===f&&(p=Math.PI/2*(g+P+L),s=-(g+P/2+L)/Math.PI),0!==p&&(h=(d+p)/d,j=d*h,["round-hexagon","round-tag"].includes(f)||(i=(e+p)/e,l=e*i)),Q="auto"===Q?cO(j,l):Q;for(var t=j/2,u=l/2,v=Q+(g+L+P)/2,w=Array(n.length/2),x=Array(n.length/2),y=0;y<n.length/2;y++)w[y]={x:c.x+r+t*n[2*y],y:c.y+s+u*n[2*y+1]};var z,A,C,D,E,F=w.length;for(A=0,C=w[F-1];A<F;A++)D=w[A%F],E=w[(A+1)%F],x[A]=js(C,D,E,v),C=D,D=E;k.drawRoundPolygonPath(z||a,c.x+r,c.y+s,d*h,e*i,n,x)}else["roundrectangle","round-rectangle"].includes(f)?(Q="auto"===Q?cN(j,l):Q,k.drawRoundRectanglePath(z||a,c.x,c.y,j,l,Q+(g+L+P)/2)):["cutrectangle","cut-rectangle"].includes(f)?(Q="auto"===Q?cP():Q,k.drawCutRectanglePath(z||a,c.x,c.y,j,l,null,Q+(g+L+P)/4)):["bottomroundrectangle","bottom-round-rectangle"].includes(f)?(Q="auto"===Q?cN(j,l):Q,k.drawBottomRoundRectanglePath(z||a,c.x,c.y,j,l,Q+(g+L+P)/2)):"barrel"===f?k.drawBarrelPath(z||a,c.x,c.y,j,l):(n=f.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(f)?cz(cA(n,(g+L+P)/d)):cz(cA(n,-((g+L+P)/d))),k.drawPolygonPath(z||a,c.x,c.y,d,e,n));if(q?a.stroke(z):a.stroke(),"double"===N){a.lineWidth=g/3;var G=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",q?a.stroke(z):a.stroke(),a.globalCompositeOperation=G}a.setLineDash&&a.setLineDash([])}};if("yes"===b.pstyle("ghost").value){var ad=b.pstyle("ghost-offset-x").pfValue,ae=b.pstyle("ghost-offset-y").pfValue,af=b.pstyle("ghost-opacity").value,ag=af*p;a.translate(ad,ae),T(),ac(),R(af*C),Y(),Z(ag,!0),S(af*K),ab(),$(0!==A||0!==B),_(0!==A||0!==B),Z(ag,!1),aa(ag),a.translate(-ad,-ae)}q&&a.translate(-o.x,-o.y),i&&k.drawNodeUnderlay(a,b,o,d,e),q&&a.translate(o.x,o.y),T(),ac(),R(),Y(),Z(p,!0),S(),ab(),$(0!==A||0!==B),_(0!==A||0!==B),Z(p,!1),aa(),q&&a.translate(-o.x,-o.y),k.drawElementText(a,b,null,h),i&&k.drawNodeOverlay(a,b,o,d,e),c&&a.translate(g.x1,g.y1)}};var kf=function(a){if(!["overlay","underlay"].includes(a))throw Error("Invalid state");return function(b,c,d,e,f){if(c.visible()){var g=c.pstyle("".concat(a,"-padding")).pfValue,h=c.pstyle("".concat(a,"-opacity")).value,i=c.pstyle("".concat(a,"-color")).value,j=c.pstyle("".concat(a,"-shape")).value,k=c.pstyle("".concat(a,"-corner-radius")).value;if(h>0){if(d=d||c.position(),null==e||null==f){var l=c.padding();e=c.width()+2*l,f=c.height()+2*l}this.colorFillStyle(b,i[0],i[1],i[2],h),this.nodeShapes[j].draw(b,d.x,d.y,e+2*g,f+2*g,k),b.fill()}}}};ke.drawNodeOverlay=kf("overlay"),ke.drawNodeUnderlay=kf("underlay"),ke.hasPie=function(a){return(a=a[0])._private.hasPie},ke.hasStripe=function(a){return(a=a[0])._private.hasStripe},ke.drawPie=function(a,b,c,d){b=b[0],d=d||b.position();var e,f=b.cy().style(),g=b.pstyle("pie-size"),h=b.pstyle("pie-hole"),i=b.pstyle("pie-start-angle").pfValue,j=d.x,k=d.y,l=Math.min(b.width(),b.height())/2,n=0;if(this.usePaths()&&(j=0,k=0),"%"===g.units?l*=g.pfValue:void 0!==g.pfValue&&(l=g.pfValue/2),"%"===h.units?e=l*h.pfValue:void 0!==h.pfValue&&(e=h.pfValue/2),!(e>=l))for(var o=1;o<=f.pieBackgroundN;o++){var p=b.pstyle("pie-"+o+"-background-size").value,q=b.pstyle("pie-"+o+"-background-color").value,r=b.pstyle("pie-"+o+"-background-opacity").value*c,s=p/100;s+n>1&&(s=1-n);var t=1.5*Math.PI+2*Math.PI*n,u=2*Math.PI*s,v=(t+=i)+u;0===p||n>=1||n+s>1||(0===e?(a.beginPath(),a.moveTo(j,k),a.arc(j,k,l,t,v)):(a.beginPath(),a.arc(j,k,l,t,v),a.arc(j,k,e,v,t,!0)),a.closePath(),this.colorFillStyle(a,q[0],q[1],q[2],r),a.fill(),n+=s)}},ke.drawStripe=function(a,b,c,d){b=b[0],d=d||b.position();var e=b.cy().style(),f=d.x,g=d.y,h=b.width(),i=b.height(),j=0,k=this.usePaths();a.save();var l=b.pstyle("stripe-direction").value,n=b.pstyle("stripe-size");switch(l){case"vertical":break;case"righward":a.rotate(-Math.PI/2)}var o=h,p=i;"%"===n.units?(o*=n.pfValue,p*=n.pfValue):void 0!==n.pfValue&&(o=n.pfValue,p=n.pfValue),k&&(f=0,g=0),g-=o/2,f-=p/2;for(var q=1;q<=e.stripeBackgroundN;q++){var r=b.pstyle("stripe-"+q+"-background-size").value,s=b.pstyle("stripe-"+q+"-background-color").value,t=b.pstyle("stripe-"+q+"-background-opacity").value*c,u=r/100;u+j>1&&(u=1-j),0===r||j>=1||j+u>1||(a.beginPath(),a.rect(f,g+p*j,o,p*u),a.closePath(),this.colorFillStyle(a,s[0],s[1],s[2],t),a.fill(),j+=u)}a.restore()};var kg={};function kh(a,b,c){var d=a.createShader(b);if(a.shaderSource(d,c),a.compileShader(d),!a.getShaderParameter(d,a.COMPILE_STATUS))throw Error(a.getShaderInfoLog(d));return d}function ki(a,b,c){void 0===c&&(c=b);var d=a.makeOffscreenCanvas(b,c),e=d.context=d.getContext("2d");return d.clear=function(){return e.clearRect(0,0,d.width,d.height)},d.clear(),d}function kj(a){var b=a.pixelRatio,c=a.cy.zoom(),d=a.cy.pan();return{zoom:c*b,pan:{x:d.x*b,y:d.y*b}}}function kk(a){return"solid"===a.pstyle("background-fill").value&&"none"===a.pstyle("background-image").strValue&&(0===a.pstyle("border-width").value||0===a.pstyle("border-opacity").value||"solid"===a.pstyle("border-style").value)}function kl(a,b,c){var d=a[0]/255,e=a[1]/255,f=a[2]/255,g=c||[,,,,];return g[0]=d*b,g[1]=e*b,g[2]=f*b,g[3]=b,g}function km(a,b){var c=b||[,,,,];return c[0]=(255&a)/255,c[1]=(a>>8&255)/255,c[2]=(a>>16&255)/255,c[3]=(a>>24&255)/255,c}function kn(a,b){switch(b){case"float":return[1,a.FLOAT,4];case"vec2":return[2,a.FLOAT,4];case"vec3":return[3,a.FLOAT,4];case"vec4":return[4,a.FLOAT,4];case"int":return[1,a.INT,4];case"ivec2":return[2,a.INT,4]}}function ko(a,b,c){switch(b){case a.FLOAT:return new Float32Array(c);case a.INT:return new Int32Array(c)}}function kp(a,b,c,d){var e=an(kn(a,c),3),f=e[0],g=e[1],h=e[2],i=ko(a,g,b*f),j=f*h,k=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,k),a.bufferData(a.ARRAY_BUFFER,b*j,a.DYNAMIC_DRAW),a.enableVertexAttribArray(d),g===a.FLOAT?a.vertexAttribPointer(d,f,g,!1,j,0):g===a.INT&&a.vertexAttribIPointer(d,f,g,j,0),a.vertexAttribDivisor(d,1),a.bindBuffer(a.ARRAY_BUFFER,null);for(var l=Array(b),n=0;n<b;n++)l[n]=function(a,b,c,d,e,f){switch(b){case a.FLOAT:return new Float32Array(c.buffer,f*d,e);case a.INT:return new Int32Array(c.buffer,f*d,e)}}(a,g,i,j,f,n);return k.dataArray=i,k.stride=j,k.size=f,k.getView=function(a){return l[a]},k.setPoint=function(a,b,c){var d=l[a];d[0]=b,d[1]=c},k.bufferSubData=function(b){a.bindBuffer(a.ARRAY_BUFFER,k),b?a.bufferSubData(a.ARRAY_BUFFER,0,i,0,b*f):a.bufferSubData(a.ARRAY_BUFFER,0,i)},k}kg.getPixelRatio=function(){var a=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var b=this.cy.window(),c=a.backingStorePixelRatio||a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1;return(b.devicePixelRatio||1)/c},kg.paintCache=function(a){for(var b,c=this.paintCaches=this.paintCaches||[],d=!0,e=0;e<c.length;e++)if((b=c[e]).context===a){d=!1;break}return d&&(b={context:a},c.push(b)),b},kg.createGradientStyleFor=function(a,b,c,d,e){var f,g=this.usePaths(),h=c.pstyle(b+"-gradient-stop-colors").value,i=c.pstyle(b+"-gradient-stop-positions").pfValue;if("radial-gradient"===d)if(c.isEdge()){var j=c.sourceEndpoint(),k=c.targetEndpoint(),l=c.midpoint(),n=b6(j,l),o=b6(k,l);f=a.createRadialGradient(l.x,l.y,0,l.x,l.y,Math.max(n,o))}else{var p=g?{x:0,y:0}:c.position(),q=c.paddedWidth(),r=c.paddedHeight();f=a.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(q,r))}else if(c.isEdge()){var s=c.sourceEndpoint(),t=c.targetEndpoint();f=a.createLinearGradient(s.x,s.y,t.x,t.y)}else{var u=g?{x:0,y:0}:c.position(),v=c.paddedWidth(),w=c.paddedHeight(),x=v/2,y=w/2;switch(c.pstyle("background-gradient-direction").value){case"to-bottom":f=a.createLinearGradient(u.x,u.y-y,u.x,u.y+y);break;case"to-top":f=a.createLinearGradient(u.x,u.y+y,u.x,u.y-y);break;case"to-left":f=a.createLinearGradient(u.x+x,u.y,u.x-x,u.y);break;case"to-right":f=a.createLinearGradient(u.x-x,u.y,u.x+x,u.y);break;case"to-bottom-right":case"to-right-bottom":f=a.createLinearGradient(u.x-x,u.y-y,u.x+x,u.y+y);break;case"to-top-right":case"to-right-top":f=a.createLinearGradient(u.x-x,u.y+y,u.x+x,u.y-y);break;case"to-bottom-left":case"to-left-bottom":f=a.createLinearGradient(u.x+x,u.y-y,u.x-x,u.y+y);break;case"to-top-left":case"to-left-top":f=a.createLinearGradient(u.x+x,u.y+y,u.x-x,u.y-y)}}if(!f)return null;for(var z=i.length===h.length,A=h.length,B=0;B<A;B++)f.addColorStop(z?i[B]:B/(A-1),"rgba("+h[B][0]+","+h[B][1]+","+h[B][2]+","+e+")");return f},kg.gradientFillStyle=function(a,b,c,d){var e=this.createGradientStyleFor(a,"background",b,c,d);if(!e)return null;a.fillStyle=e},kg.colorFillStyle=function(a,b,c,d,e){a.fillStyle="rgba("+b+","+c+","+d+","+e+")"},kg.eleFillStyle=function(a,b,c){var d=b.pstyle("background-fill").value;if("linear-gradient"===d||"radial-gradient"===d)this.gradientFillStyle(a,b,d,c);else{var e=b.pstyle("background-color").value;this.colorFillStyle(a,e[0],e[1],e[2],c)}},kg.gradientStrokeStyle=function(a,b,c,d){var e=this.createGradientStyleFor(a,"line",b,c,d);if(!e)return null;a.strokeStyle=e},kg.colorStrokeStyle=function(a,b,c,d,e){a.strokeStyle="rgba("+b+","+c+","+d+","+e+")"},kg.eleStrokeStyle=function(a,b,c){var d=b.pstyle("line-fill").value;if("linear-gradient"===d||"radial-gradient"===d)this.gradientStrokeStyle(a,b,d,c);else{var e=b.pstyle("line-color").value;this.colorStrokeStyle(a,e[0],e[1],e[2],c)}},kg.matchCanvasSize=function(a){var b,c=this.data,d=this.findContainerClientCoords(),e=d[2],f=d[3],g=this.getPixelRatio(),h=this.motionBlurPxRatio;(a===this.data.bufferCanvases[this.MOTIONBLUR_BUFFER_NODE]||a===this.data.bufferCanvases[this.MOTIONBLUR_BUFFER_DRAG])&&(g=h);var i=e*g,j=f*g;if(i!==this.canvasWidth||j!==this.canvasHeight){this.fontCaches=null;var k=c.canvasContainer;k.style.width=e+"px",k.style.height=f+"px";for(var l=0;l<this.CANVAS_LAYERS;l++)(b=c.canvases[l]).width=i,b.height=j,b.style.width=e+"px",b.style.height=f+"px";for(var l=0;l<this.BUFFER_COUNT;l++)(b=c.bufferCanvases[l]).width=i,b.height=j,b.style.width=e+"px",b.style.height=f+"px";this.textureMult=1,g<=1&&(b=c.bufferCanvases[this.TEXTURE_BUFFER],this.textureMult=2,b.width=i*this.textureMult,b.height=j*this.textureMult),this.canvasWidth=i,this.canvasHeight=j,this.pixelRatio=g}},kg.renderTo=function(a,b,c,d){this.render({forcedContext:a,forcedZoom:b,forcedPan:c,drawAllLayers:!0,forcedPxRatio:d})},kg.clearCanvas=function(){var a=this,b=a.data;function c(b){b.clearRect(0,0,a.canvasWidth,a.canvasHeight)}c(b.contexts[a.NODE]),c(b.contexts[a.DRAG])},kg.render=function(a){var b=this;a=a||bA();var c=b.cy,d=a.forcedContext,e=a.drawAllLayers,f=a.drawOnlyNodeLayer,g=a.forcedZoom,h=a.forcedPan,i=void 0===a.forcedPxRatio?this.getPixelRatio():a.forcedPxRatio,j=b.data,k=j.canvasNeedsRedraw,l=b.textureOnViewport&&!d&&(b.pinching||b.hoverData.dragging||b.swipePanning||b.data.wheelZooming),n=void 0!==a.motionBlur?a.motionBlur:b.motionBlur,o=b.motionBlurPxRatio,p=c.hasCompoundNodes(),q=b.hoverData.draggingEles,r=!!b.hoverData.selecting||!!b.touchData.selecting,s=n=n&&!d&&b.motionBlurEnabled&&!r;d||(b.prevPxRatio!==i&&(b.invalidateContainerClientCoordsCache(),b.matchCanvasSize(b.container),b.redrawHint("eles",!0),b.redrawHint("drag",!0)),b.prevPxRatio=i),!d&&b.motionBlurTimeout&&clearTimeout(b.motionBlurTimeout),n&&(null==b.mbFrames&&(b.mbFrames=0),b.mbFrames++,b.mbFrames<3&&(s=!1),b.mbFrames>b.minMbLowQualFrames&&(b.motionBlurPxRatio=b.mbPxRBlurry)),b.clearingMotionBlur&&(b.motionBlurPxRatio=1),b.textureDrawLastFrame&&!l&&(k[b.NODE]=!0,k[b.SELECT_BOX]=!0);var t=c.style(),u=c.zoom(),v=void 0!==g?g:u,w=c.pan(),x={x:w.x,y:w.y},y={zoom:u,pan:{x:w.x,y:w.y}},z=b.prevViewport;void 0===z||y.zoom!==z.zoom||y.pan.x!==z.pan.x||y.pan.y!==z.pan.y||q&&!p||(b.motionBlurPxRatio=1),h&&(x=h),v*=i,x.x*=i,x.y*=i;var A=b.getCachedZSortedEles();function B(a,c,d,e,f){var g=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",b.colorFillStyle(a,255,255,255,b.motionBlurTransparency),a.fillRect(c,d,e,f),a.globalCompositeOperation=g}function C(a,c){var f,i,k,l;b.clearingMotionBlur||a!==j.bufferContexts[b.MOTIONBLUR_BUFFER_NODE]&&a!==j.bufferContexts[b.MOTIONBLUR_BUFFER_DRAG]?(f=x,i=v,k=b.canvasWidth,l=b.canvasHeight):(f={x:w.x*o,y:w.y*o},i=u*o,k=b.canvasWidth*o,l=b.canvasHeight*o),a.setTransform(1,0,0,1,0,0),"motionBlur"===c?B(a,0,0,k,l):!d&&(void 0===c||c)&&a.clearRect(0,0,k,l),e||(a.translate(f.x,f.y),a.scale(i,i)),h&&a.translate(h.x,h.y),g&&a.scale(g,g)}if(l||(b.textureDrawLastFrame=!1),l){if(b.textureDrawLastFrame=!0,!b.textureCache){b.textureCache={},b.textureCache.bb=c.mutableElements().boundingBox(),b.textureCache.texture=b.data.bufferCanvases[b.TEXTURE_BUFFER];var D=b.data.bufferContexts[b.TEXTURE_BUFFER];D.setTransform(1,0,0,1,0,0),D.clearRect(0,0,b.canvasWidth*b.textureMult,b.canvasHeight*b.textureMult),b.render({forcedContext:D,drawOnlyNodeLayer:!0,forcedPxRatio:i*b.textureMult});var y=b.textureCache.viewport={zoom:c.zoom(),pan:c.pan(),width:b.canvasWidth,height:b.canvasHeight};y.mpan={x:(0-y.pan.x)/y.zoom,y:(0-y.pan.y)/y.zoom}}k[b.DRAG]=!1,k[b.NODE]=!1;var E=j.contexts[b.NODE],F=b.textureCache.texture,y=b.textureCache.viewport;E.setTransform(1,0,0,1,0,0),n?B(E,0,0,y.width,y.height):E.clearRect(0,0,y.width,y.height);var G=t.core("outside-texture-bg-color").value,H=t.core("outside-texture-bg-opacity").value;b.colorFillStyle(E,G[0],G[1],G[2],H),E.fillRect(0,0,y.width,y.height);var u=c.zoom();C(E,!1),E.clearRect(y.mpan.x,y.mpan.y,y.width/y.zoom/i,y.height/y.zoom/i),E.drawImage(F,y.mpan.x,y.mpan.y,y.width/y.zoom/i,y.height/y.zoom/i)}else b.textureOnViewport&&!d&&(b.textureCache=null);var I=c.extent(),J=b.pinching||b.hoverData.dragging||b.swipePanning||b.data.wheelZooming||b.hoverData.draggingEles||b.cy.animated(),K=b.hideEdgesOnViewport&&J,L=[];if(L[b.NODE]=!k[b.NODE]&&n&&!b.clearedForMotionBlur[b.NODE]||b.clearingMotionBlur,L[b.NODE]&&(b.clearedForMotionBlur[b.NODE]=!0),L[b.DRAG]=!k[b.DRAG]&&n&&!b.clearedForMotionBlur[b.DRAG]||b.clearingMotionBlur,L[b.DRAG]&&(b.clearedForMotionBlur[b.DRAG]=!0),k[b.NODE]||e||f||L[b.NODE]){var M=n&&!L[b.NODE]&&1!==o,E=d||(M?b.data.bufferContexts[b.MOTIONBLUR_BUFFER_NODE]:j.contexts[b.NODE]);C(E,n&&!M?"motionBlur":void 0),K?b.drawCachedNodes(E,A.nondrag,i,I):b.drawLayeredElements(E,A.nondrag,i,I),b.debug&&b.drawDebugPoints(E,A.nondrag),e||n||(k[b.NODE]=!1)}if(!f&&(k[b.DRAG]||e||L[b.DRAG])){var M=n&&!L[b.DRAG]&&1!==o,E=d||(M?b.data.bufferContexts[b.MOTIONBLUR_BUFFER_DRAG]:j.contexts[b.DRAG]);C(E,n&&!M?"motionBlur":void 0),K?b.drawCachedNodes(E,A.drag,i,I):b.drawCachedElements(E,A.drag,i,I),b.debug&&b.drawDebugPoints(E,A.drag),e||n||(k[b.DRAG]=!1)}if(this.drawSelectionRectangle(a,C),n&&1!==o){var N=j.contexts[b.NODE],O=b.data.bufferCanvases[b.MOTIONBLUR_BUFFER_NODE],P=j.contexts[b.DRAG],Q=b.data.bufferCanvases[b.MOTIONBLUR_BUFFER_DRAG],R=function(a,c,d){a.setTransform(1,0,0,1,0,0),d||!s?a.clearRect(0,0,b.canvasWidth,b.canvasHeight):B(a,0,0,b.canvasWidth,b.canvasHeight),a.drawImage(c,0,0,b.canvasWidth*o,b.canvasHeight*o,0,0,b.canvasWidth,b.canvasHeight)};(k[b.NODE]||L[b.NODE])&&(R(N,O,L[b.NODE]),k[b.NODE]=!1),(k[b.DRAG]||L[b.DRAG])&&(R(P,Q,L[b.DRAG]),k[b.DRAG]=!1)}b.prevViewport=y,b.clearingMotionBlur&&(b.clearingMotionBlur=!1,b.motionBlurCleared=!0,b.motionBlur=!0),n&&(b.motionBlurTimeout=setTimeout(function(){b.motionBlurTimeout=null,b.clearedForMotionBlur[b.NODE]=!1,b.clearedForMotionBlur[b.DRAG]=!1,b.motionBlur=!1,b.clearingMotionBlur=!l,b.mbFrames=0,k[b.NODE]=!0,k[b.DRAG]=!0,b.redraw()},100)),d||c.emit("render")},kg.drawSelectionRectangle=function(a,b){var c=this.cy,d=this.data,e=c.style(),f=a.drawOnlyNodeLayer,g=a.drawAllLayers,h=d.canvasNeedsRedraw,i=a.forcedContext;if(this.showFps||!f&&h[this.SELECT_BOX]&&!g){var j=i||d.contexts[this.SELECT_BOX];if(b(j),1==this.selection[4]&&(this.hoverData.selecting||this.touchData.selecting)){var k=this.cy.zoom(),n=e.core("selection-box-border-width").value/k;j.lineWidth=n,j.fillStyle="rgba("+e.core("selection-box-color").value[0]+","+e.core("selection-box-color").value[1]+","+e.core("selection-box-color").value[2]+","+e.core("selection-box-opacity").value+")",j.fillRect(this.selection[0],this.selection[1],this.selection[2]-this.selection[0],this.selection[3]-this.selection[1]),n>0&&(j.strokeStyle="rgba("+e.core("selection-box-border-color").value[0]+","+e.core("selection-box-border-color").value[1]+","+e.core("selection-box-border-color").value[2]+","+e.core("selection-box-opacity").value+")",j.strokeRect(this.selection[0],this.selection[1],this.selection[2]-this.selection[0],this.selection[3]-this.selection[1]))}if(d.bgActivePosistion&&!this.hoverData.selecting){var k=this.cy.zoom(),o=d.bgActivePosistion;j.fillStyle="rgba("+e.core("active-bg-color").value[0]+","+e.core("active-bg-color").value[1]+","+e.core("active-bg-color").value[2]+","+e.core("active-bg-opacity").value+")",j.beginPath(),j.arc(o.x,o.y,e.core("active-bg-size").pfValue/k,0,2*Math.PI),j.fill()}var p=this.lastRedrawTime;if(this.showFps&&p){var q=Math.round(1e3/(p=Math.round(p))),r="1 frame = "+p+" ms = "+q+" fps";j.setTransform(1,0,0,1,0,0),j.fillStyle="rgba(255, 0, 0, 0.75)",j.strokeStyle="rgba(255, 0, 0, 0.75)",j.font="30px Arial",l||(l=j.measureText(r).actualBoundingBoxAscent),j.fillText(r,0,l),j.strokeRect(0,l+10,250,20),j.fillRect(0,l+10,250*Math.min(q/60,1),20)}g||(h[this.SELECT_BOX]=!1)}};var kq="u">typeof Float32Array?Float32Array:Array;function kr(){var a=new kq(9);return kq!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[5]=0,a[6]=0,a[7]=0),a[0]=1,a[4]=1,a[8]=1,a}function ks(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a}function kt(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],n=c[0],o=c[1];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a[6]=n*d+o*g+j,a[7]=n*e+o*h+k,a[8]=n*f+o*i+l,a}function ku(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],n=Math.sin(c),o=Math.cos(c);return a[0]=o*d+n*g,a[1]=o*e+n*h,a[2]=o*f+n*i,a[3]=o*g-n*d,a[4]=o*h-n*e,a[5]=o*i-n*f,a[6]=j,a[7]=k,a[8]=l,a}function kv(a,b,c){var d=c[0],e=c[1];return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=e*b[3],a[4]=e*b[4],a[5]=e*b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a}Math.hypot||(Math.hypot=function(){for(var a=0,b=arguments.length;b--;)a+=arguments[b]*arguments[b];return Math.sqrt(a)});var kw=ak(function a(b,c,d,e){aj(this,a),this.debugID=Math.floor(1e4*Math.random()),this.r=b,this.texSize=c,this.texRows=d,this.texHeight=Math.floor(c/d),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=e(b,c,c),this.scratch=e(b,c,this.texHeight,"scratch")},[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(a){var b=a.w,c=a.h,d=this.texHeight,e=this.texSize,f=d/c,g=b*f,h=c*f;return g>e&&(f=e/b,g=b*f,h=c*f),{scale:f,texW:g,texH:h}}},{key:"draw",value:function(a,b,c){var d,e,f,g,h,i,j,k=this;if(this.locked)throw Error("can't draw, atlas is locked");var l=this.texSize,n=this.texRows,o=this.texHeight,p=this.getScale(b),q=p.scale,r=p.texW,s=p.texH,t=function(a,d){if(c&&d){var e=d.context,f=a.x,g=o*a.row;e.save(),e.translate(f,g),e.scale(q,q),c(e,b),e.restore()}},u=[null,null],v=function(){t(k.freePointer,k.canvas),u[0]={x:k.freePointer.x,y:k.freePointer.row*o,w:r,h:s},u[1]={x:k.freePointer.x+r,y:k.freePointer.row*o,w:0,h:s},k.freePointer.x+=r,k.freePointer.x==l&&(k.freePointer.x=0,k.freePointer.row++)},w=function(){k.freePointer.x=0,k.freePointer.row++};if(this.freePointer.x+r<=l)v();else{if(this.freePointer.row>=n-1)return!1;this.freePointer.x===l?(w(),v()):this.enableWrapping?(d=k.scratch,e=k.canvas,d.clear(),t({x:0,row:0},d),g=r-(f=l-k.freePointer.x),h=k.freePointer.x,i=k.freePointer.row*o,e.context.drawImage(d,0,0,f,o,h,i,f,o),u[0]={x:h,y:i,w:f,h:s},j=(k.freePointer.row+1)*o,e&&e.context.drawImage(d,f,0,g,o,0,j,g,o),u[1]={x:0,y:j,w:g,h:s},k.freePointer.x=g,k.freePointer.row++):(w(),v())}return this.keyToLocation.set(a,u),this.needsBuffer=!0,u}},{key:"getOffsets",value:function(a){return this.keyToLocation.get(a)}},{key:"isEmpty",value:function(){return 0===this.freePointer.x&&0===this.freePointer.row}},{key:"canFit",value:function(a){if(this.locked)return!1;var b=this.texSize,c=this.texRows,d=this.getScale(a).texW;return!(this.freePointer.x+d>b)||this.freePointer.row<c-1}},{key:"bufferIfNeeded",value:function(a){var b;this.texture||(this.texture=(this.debugID,(b=a.createTexture()).buffer=function(c){a.bindTexture(a.TEXTURE_2D,b),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,c),a.generateMipmap(a.TEXTURE_2D),a.bindTexture(a.TEXTURE_2D,null)},b.deleteTexture=function(){a.deleteTexture(b)},b)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}]),kx=ak(function a(b,c,d,e){aj(this,a),this.r=b,this.texSize=c,this.texRows=d,this.createTextureCanvas=e,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set},[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){return new kw(this.r,this.texSize,this.texRows,this.createTextureCanvas)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var a=this.r,b=this.texSize,c=this.texRows,d=this.createTextureCanvas,e=Math.floor(b/c);this.scratch=d(a,b,e,"scratch")}return this.scratch}},{key:"draw",value:function(a,b,c){var d=this.styleKeyToAtlas.get(a);return d||((d=this.atlases[this.atlases.length-1])&&d.canFit(b)||(d&&d.lock(),d=this._createAtlas(),this.atlases.push(d)),d.draw(a,b,c),this.styleKeyToAtlas.set(a,d)),d}},{key:"getAtlas",value:function(a){return this.styleKeyToAtlas.get(a)}},{key:"hasAtlas",value:function(a){return this.styleKeyToAtlas.has(a)}},{key:"markKeyForGC",value:function(a){this.markedKeys.add(a)}},{key:"gc",value:function(){var a=this,b=this.markedKeys;if(0===b.size)return void console.log("nothing to garbage collect");var c,d=[],e=new Map,f=null,g=al(this.atlases);try{for(g.s();!(c=g.n()).done;)if(function(){var g=c.value,h=g.getKeys(),i=function(a,b){return a.intersection?a.intersection(b):new Set(ao(a).filter(function(a){return b.has(a)}))}(b,h);if(0===i.size)return d.push(g),h.forEach(function(a){return e.set(a,g)}),1;f||(f=a._createAtlas(),d.push(f));var j,k=al(h);try{for(k.s();!(j=k.n()).done;){var l=j.value;if(!i.has(l)){var n=g.getOffsets(l),o=an(n,2),p=o[0],q=o[1];f.canFit({w:p.w+q.w,h:p.h})||(f.lock(),f=a._createAtlas(),d.push(f)),g.canvas&&(a._copyTextureToNewAtlas(l,g,f),e.set(l,f))}}}catch(a){k.e(a)}finally{k.f()}g.dispose()}())continue}catch(a){g.e(a)}finally{g.f()}this.atlases=d,this.styleKeyToAtlas=e,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(a,b,c){var d=an(b.getOffsets(a),2),e=d[0],f=d[1];if(0===f.w)c.draw(a,e,function(a){a.drawImage(b.canvas,e.x,e.y,e.w,e.h,0,0,e.w,e.h)});else{var g=this._getScratchCanvas();g.clear(),g.context.drawImage(b.canvas,e.x,e.y,e.w,e.h,0,0,e.w,e.h),g.context.drawImage(b.canvas,f.x,f.y,f.w,f.h,e.w,0,f.w,f.h);var h=e.w+f.w,i=e.h;c.draw(a,{w:h,h:i},function(a){a.drawImage(g,0,0,h,i,0,0,h,i)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}]),ky=ak(function a(b,c){aj(this,a),this.r=b,this.globalOptions=c,this.atlasSize=c.webglTexSize,this.maxAtlasesPerBatch=c.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map},[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(a,b){var c=this.globalOptions,d=c.webglTexSize,e=c.createTextureCanvas,f=b.texRows,g=this._cacheScratchCanvas(e),h=new kx(this.r,d,f,g);this.collections.set(a,h)}},{key:"addRenderType",value:function(a,b){var c=b.collection;if(!this.collections.has(c))throw Error("invalid atlas collection name '".concat(c,"'"));var d=aW({type:a,atlasCollection:this.collections.get(c)},b);this.renderTypes.set(a,d)}},{key:"getRenderTypeOpts",value:function(a){return this.renderTypes.get(a)}},{key:"getAtlasCollection",value:function(a){return this.collections.get(a)}},{key:"_cacheScratchCanvas",value:function(a){var b=-1,c=-1,d=null;return function(e,f,g,h){return h?(d&&f==b&&g==c||(b=f,c=g,d=a(e,f,g)),d):a(e,f,g)}}},{key:"_key",value:function(a,b){return"".concat(a,"-").concat(b)}},{key:"invalidate",value:function(a){var b,c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=d.forceRedraw,f=void 0!==e&&e,g=d.filterEle,h=void 0===g?function(){return!0}:g,i=d.filterType,j=void 0===i?function(){return!0}:i,k=!1,l=!1,n=al(a);try{for(n.s();!(b=n.n()).done;){var o=b.value;if(h(o)){var p,q=al(this.renderTypes.values());try{for(q.s();!(p=q.n()).done;)!function(){var a=p.value,b=a.type;if(j(b)){var d=c.collections.get(a.collection),e=a.getKey(o),g=Array.isArray(e)?e:[e];if(f)g.forEach(function(a){return d.markKeyForGC(a)}),l=!0;else{var h=a.getID?a.getID(o):o.id(),i=c._key(b,h),n=c.typeAndIdToKey.get(i);void 0!==n&&!function(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}(g,n)&&(k=!0,c.typeAndIdToKey.delete(i),n.forEach(function(a){return d.markKeyForGC(a)}))}}}()}catch(a){q.e(a)}finally{q.f()}}}}catch(a){n.e(a)}finally{n.f()}return l&&(this.gc(),k=!1),k}},{key:"gc",value:function(){var a,b=al(this.collections.values());try{for(b.s();!(a=b.n()).done;)a.value.gc()}catch(a){b.e(a)}finally{b.f()}}},{key:"getOrCreateAtlas",value:function(a,b,c,d){var e=this.renderTypes.get(b),f=this.collections.get(e.collection),g=!1,h=f.draw(d,c,function(b){e.drawClipped?(b.save(),b.beginPath(),b.rect(0,0,c.w,c.h),b.clip(),e.drawElement(b,a,c,!0,!0),b.restore()):e.drawElement(b,a,c,!0,!0),g=!0});if(g){var i=e.getID?e.getID(a):a.id(),j=this._key(b,i);this.typeAndIdToKey.has(j)?this.typeAndIdToKey.get(j).push(d):this.typeAndIdToKey.set(j,[d])}return h}},{key:"getAtlasInfo",value:function(a,b){var c=this,d=this.renderTypes.get(b),e=d.getKey(a);return(Array.isArray(e)?e:[e]).map(function(e){var f=d.getBoundingBox(a,e),g=c.getOrCreateAtlas(a,b,f,e),h=an(g.getOffsets(e),2),i=h[0];return{atlas:g,tex:i,tex1:i,tex2:h[1],bb:f}})}},{key:"getDebugInfo",value:function(){var a,b=[],c=al(this.collections);try{for(c.s();!(a=c.n()).done;){var d=an(a.value,2),e=d[0],f=d[1].getCounts(),g=f.keyCount,h=f.atlasCount;b.push({type:e,keyCount:g,atlasCount:h})}}catch(a){c.e(a)}finally{c.f()}return b}}]),kz=ak(function a(b){aj(this,a),this.globalOptions=b,this.atlasSize=b.webglTexSize,this.maxAtlasesPerBatch=b.webglTexPerBatch,this.batchAtlases=[]},[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(a,b){return b})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(a){return this.batchAtlases.length!==this.maxAtlasesPerBatch||this.batchAtlases.includes(a)}},{key:"getAtlasIndexForBatch",value:function(a){var b=this.batchAtlases.indexOf(a);if(b<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw Error("cannot add more atlases to batch");this.batchAtlases.push(a),b=this.batchAtlases.length-1}return b}}]),kA={name:"screen",screen:!0},kB={name:"picking",picking:!0},kC=ak(function a(b,c,d){aj(this,a),this.r=b,this.gl=c,this.maxInstances=d.webglBatchSize,this.atlasSize=d.webglTexSize,this.bgColor=d.bgColor,this.debug=d.webglDebug,this.batchDebugInfo=[],d.enableWrapping=!0,d.createTextureCanvas=ki,this.atlasManager=new ky(b,d),this.batchManager=new kz(d),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(kA),this.pickingProgram=this._createShaderProgram(kB),this.vao=this._createVAO()},[{key:"addAtlasCollection",value:function(a,b){this.atlasManager.addAtlasCollection(a,b)}},{key:"addTextureAtlasRenderType",value:function(a,b){this.atlasManager.addRenderType(a,b)}},{key:"addSimpleShapeRenderType",value:function(a,b){this.simpleShapeOptions.set(a,b)}},{key:"invalidate",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=b.type,d=this.atlasManager;return c?d.invalidate(a,{filterType:function(a){return a===c},forceRedraw:!0}):d.invalidate(a)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(a){var b=this.gl,c="#version 300 es\n      precision highp float;\n\n      uniform mat3 uPanZoomMatrix;\n      uniform int  uAtlasSize;\n      \n      // instanced\n      in vec2 aPosition; // a vertex from the unit square\n      \n      in mat3 aTransform; // used to transform verticies, eg into a bounding box\n      in int aVertType; // the type of thing we are rendering\n\n      // the z-index that is output when using picking mode\n      in vec4 aIndex;\n      \n      // For textures\n      in int aAtlasId; // which shader unit/atlas to use\n      in vec4 aTex; // x/y/w/h of texture in atlas\n\n      // for edges\n      in vec4 aPointAPointB;\n      in vec4 aPointCPointD;\n      in vec2 aLineWidth; // also used for node border width\n\n      // simple shapes\n      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]\n      in vec4 aColor; // also used for edges\n      in vec4 aBorderColor; // aLineWidth is used for border width\n\n      // output values passed to the fragment shader\n      out vec2 vTexCoord;\n      out vec4 vColor;\n      out vec2 vPosition;\n      // flat values are not interpolated\n      flat out int vAtlasId; \n      flat out int vVertType;\n      flat out vec2 vTopRight;\n      flat out vec2 vBotLeft;\n      flat out vec4 vCornerRadius;\n      flat out vec4 vBorderColor;\n      flat out vec2 vBorderWidth;\n      flat out vec4 vIndex;\n      \n      void main(void) {\n        int vid = gl_VertexID;\n        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below\n\n        if(aVertType == ".concat(0,") {\n          float texX = aTex.x; // texture coordinates\n          float texY = aTex.y;\n          float texW = aTex.z;\n          float texH = aTex.w;\n\n          if(vid == 1 || vid == 2 || vid == 4) {\n            texX += texW;\n          }\n          if(vid == 2 || vid == 4 || vid == 5) {\n            texY += texH;\n          }\n\n          float d = float(uAtlasSize);\n          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n        }\n        else if(aVertType == ").concat(4," || aVertType == ").concat(7," \n             || aVertType == ").concat(5," || aVertType == ").concat(6,") { // simple shapes\n\n          // the bounding box is needed by the fragment shader\n          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat\n          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat\n          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated\n\n          // calculations are done in the fragment shader, just pass these along\n          vColor = aColor;\n          vCornerRadius = aCornerRadius;\n          vBorderColor = aBorderColor;\n          vBorderWidth = aLineWidth;\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n        }\n        else if(aVertType == ").concat(1,") {\n          vec2 source = aPointAPointB.xy;\n          vec2 target = aPointAPointB.zw;\n\n          // adjust the geometry so that the line is centered on the edge\n          position.y = position.y - 0.5;\n\n          // stretch the unit square into a long skinny rectangle\n          vec2 xBasis = target - source;\n          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));\n          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;\n\n          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);\n          vColor = aColor;\n        } \n        else if(aVertType == ").concat(2,") {\n          vec2 pointA = aPointAPointB.xy;\n          vec2 pointB = aPointAPointB.zw;\n          vec2 pointC = aPointCPointD.xy;\n          vec2 pointD = aPointCPointD.zw;\n\n          // adjust the geometry so that the line is centered on the edge\n          position.y = position.y - 0.5;\n\n          vec2 p0, p1, p2, pos;\n          if(position.x == 0.0) { // The left side of the unit square\n            p0 = pointA;\n            p1 = pointB;\n            p2 = pointC;\n            pos = position;\n          } else { // The right side of the unit square, use same approach but flip the geometry upside down\n            p0 = pointD;\n            p1 = pointC;\n            p2 = pointB;\n            pos = vec2(0.0, -position.y);\n          }\n\n          vec2 p01 = p1 - p0;\n          vec2 p12 = p2 - p1;\n          vec2 p21 = p1 - p2;\n\n          // Find the normal vector.\n          vec2 tangent = normalize(normalize(p12) + normalize(p01));\n          vec2 normal = vec2(-tangent.y, tangent.x);\n\n          // Find the vector perpendicular to p0 -> p1.\n          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));\n\n          // Determine the bend direction.\n          float sigma = sign(dot(p01 + p21, normal));\n          float width = aLineWidth[0];\n\n          if(sign(pos.y) == -sigma) {\n            // This is an intersecting vertex. Adjust the position so that there's no overlap.\n            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);\n            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);\n          } else {\n            // This is a non-intersecting vertex. Treat it like a mitre join.\n            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);\n            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);\n          }\n\n          vColor = aColor;\n        } \n        else if(aVertType == ").concat(3," && vid < 3) {\n          // massage the first triangle into an edge arrow\n          if(vid == 0)\n            position = vec2(-0.15, -0.3);\n          if(vid == 1)\n            position = vec2(  0.0,  0.0);\n          if(vid == 2)\n            position = vec2( 0.15, -0.3);\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n          vColor = aColor;\n        }\n        else {\n          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space\n        }\n\n        vAtlasId = aAtlasId;\n        vVertType = aVertType;\n        vIndex = aIndex;\n      }\n    "),d=this.batchManager.getIndexArray(),e=function(a,b,c){var d=kh(a,a.VERTEX_SHADER,b),e=kh(a,a.FRAGMENT_SHADER,c),f=a.createProgram();if(a.attachShader(f,d),a.attachShader(f,e),a.linkProgram(f),!a.getProgramParameter(f,a.LINK_STATUS))throw Error("Could not initialize shaders");return f}(b,c,"#version 300 es\n      precision highp float;\n\n      // declare texture unit for each texture atlas in the batch\n      ".concat(d.map(function(a){return"uniform sampler2D uTexture".concat(a,";")}).join("\n	"),"\n\n      uniform vec4 uBGColor;\n      uniform float uZoom;\n\n      in vec2 vTexCoord;\n      in vec4 vColor;\n      in vec2 vPosition; // model coordinates\n\n      flat in int vAtlasId;\n      flat in vec4 vIndex;\n      flat in int vVertType;\n      flat in vec2 vTopRight;\n      flat in vec2 vBotLeft;\n      flat in vec4 vCornerRadius;\n      flat in vec4 vBorderColor;\n      flat in vec2 vBorderWidth;\n\n      out vec4 outColor;\n\n      ").concat("\n  float circleSD(vec2 p, float r) {\n    return distance(vec2(0), p) - r; // signed distance\n  }\n","\n      ").concat("\n  float rectangleSD(vec2 p, vec2 b) {\n    vec2 d = abs(p)-b;\n    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);\n  }\n","\n      ").concat("\n  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {\n    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;\n    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;\n    vec2 q = abs(p) - b + cr.x;\n    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;\n  }\n","\n      ").concat("\n  float ellipseSD(vec2 p, vec2 ab) {\n    p = abs( p ); // symmetry\n\n    // find root with Newton solver\n    vec2 q = ab*(p-ab);\n    float w = (q.x<q.y)? 1.570796327 : 0.0;\n    for( int i=0; i<5; i++ ) {\n      vec2 cs = vec2(cos(w),sin(w));\n      vec2 u = ab*vec2( cs.x,cs.y);\n      vec2 v = ab*vec2(-cs.y,cs.x);\n      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));\n    }\n    \n    // compute final point and distance\n    float d = length(p-ab*vec2(cos(w),sin(w)));\n    \n    // return signed distance\n    return (dot(p/ab,p/ab)>1.0) ? d : -d;\n  }\n","\n\n      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha\n        return vec4( \n          top.rgb + (bot.rgb * (1.0 - top.a)),\n          top.a   + (bot.a   * (1.0 - top.a)) \n        );\n      }\n\n      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance\n        // scale to the zoom level so that borders don't look blurry when zoomed in\n        // note 1.5 is an aribitrary value chosen because it looks good\n        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); \n      }\n\n      void main(void) {\n        if(vVertType == ").concat(0,") {\n          // look up the texel from the texture unit\n          ").concat(d.map(function(a){return"if(vAtlasId == ".concat(a,") outColor = texture(uTexture").concat(a,", vTexCoord);")}).join("\n	else "),"\n        } \n        else if(vVertType == ").concat(3,") {\n          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';\n          outColor = blend(vColor, uBGColor);\n          outColor.a = 1.0; // make opaque, masks out line under arrow\n        }\n        else if(vVertType == ").concat(4," && vBorderWidth == vec2(0.0)) { // simple rectangle with no border\n          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done\n        }\n        else if(vVertType == ").concat(4," || vVertType == ").concat(7," \n          || vVertType == ").concat(5," || vVertType == ").concat(6,") { // use SDF\n\n          float outerBorder = vBorderWidth[0];\n          float innerBorder = vBorderWidth[1];\n          float borderPadding = outerBorder * 2.0;\n          float w = vTopRight.x - vBotLeft.x - borderPadding;\n          float h = vTopRight.y - vBotLeft.y - borderPadding;\n          vec2 b = vec2(w/2.0, h/2.0); // half width, half height\n          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center\n\n          float d; // signed distance\n          if(vVertType == ").concat(4,") {\n            d = rectangleSD(p, b);\n          } else if(vVertType == ").concat(7," && w == h) {\n            d = circleSD(p, b.x); // faster than ellipse\n          } else if(vVertType == ").concat(7,") {\n            d = ellipseSD(p, b);\n          } else {\n            d = roundRectangleSD(p, b, vCornerRadius.wzyx);\n          }\n\n          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling\n          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box\n          if(d > 0.0) {\n            if(d > outerBorder) {\n              discard;\n            } else {\n              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);\n            }\n          } else {\n            if(d > innerBorder) {\n              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;\n              vec4 innerBorderColor = blend(vBorderColor, vColor);\n              outColor = distInterp(innerBorderColor, outerColor, d);\n            } \n            else {\n              vec4 outerColor;\n              if(innerBorder == 0.0 && outerBorder == 0.0) {\n                outerColor = vec4(0);\n              } else if(innerBorder == 0.0) {\n                outerColor = vBorderColor;\n              } else {\n                outerColor = blend(vBorderColor, vColor);\n              }\n              outColor = distInterp(vColor, outerColor, d - innerBorder);\n            }\n          }\n        }\n        else {\n          outColor = vColor;\n        }\n\n        ").concat(a.picking?"if(outColor.a == 0.0) discard;\n             else outColor = vIndex;":"","\n      }\n    "));e.aPosition=b.getAttribLocation(e,"aPosition"),e.aIndex=b.getAttribLocation(e,"aIndex"),e.aVertType=b.getAttribLocation(e,"aVertType"),e.aTransform=b.getAttribLocation(e,"aTransform"),e.aAtlasId=b.getAttribLocation(e,"aAtlasId"),e.aTex=b.getAttribLocation(e,"aTex"),e.aPointAPointB=b.getAttribLocation(e,"aPointAPointB"),e.aPointCPointD=b.getAttribLocation(e,"aPointCPointD"),e.aLineWidth=b.getAttribLocation(e,"aLineWidth"),e.aColor=b.getAttribLocation(e,"aColor"),e.aCornerRadius=b.getAttribLocation(e,"aCornerRadius"),e.aBorderColor=b.getAttribLocation(e,"aBorderColor"),e.uPanZoomMatrix=b.getUniformLocation(e,"uPanZoomMatrix"),e.uAtlasSize=b.getUniformLocation(e,"uAtlasSize"),e.uBGColor=b.getUniformLocation(e,"uBGColor"),e.uZoom=b.getUniformLocation(e,"uZoom"),e.uTextures=[];for(var f=0;f<this.batchManager.getMaxAtlasesPerBatch();f++)e.uTextures.push(b.getUniformLocation(e,"uTexture".concat(f)));return e}},{key:"_createVAO",value:function(){var a,b,c,d,e,f,g=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=g.length/2;var h=this.maxInstances,i=this.gl,j=this.program,k=i.createVertexArray();return i.bindVertexArray(k),a=j.aPosition,c=(b=an(kn(i,"vec2"),2))[0],e=ko(i,d=b[1],g),f=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,f),i.bufferData(i.ARRAY_BUFFER,e,i.STATIC_DRAW),d===i.FLOAT?i.vertexAttribPointer(a,c,d,!1,0,0):d===i.INT&&i.vertexAttribIPointer(a,c,d,0,0),i.enableVertexAttribArray(a),i.bindBuffer(i.ARRAY_BUFFER,null),this.transformBuffer=function(a,b,c){for(var d=new Float32Array(9*b),e=Array(b),f=0;f<b;f++){var g=9*f*4;e[f]=new Float32Array(d.buffer,g,9)}var h=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,h),a.bufferData(a.ARRAY_BUFFER,d.byteLength,a.DYNAMIC_DRAW);for(var i=0;i<3;i++){var j=c+i;a.enableVertexAttribArray(j),a.vertexAttribPointer(j,3,a.FLOAT,!1,36,12*i),a.vertexAttribDivisor(j,1)}return a.bindBuffer(a.ARRAY_BUFFER,null),h.getMatrixView=function(a){return e[a]},h.setData=function(a,b){e[b].set(a,0)},h.bufferSubData=function(){a.bindBuffer(a.ARRAY_BUFFER,h),a.bufferSubData(a.ARRAY_BUFFER,0,d)},h}(i,h,j.aTransform),this.indexBuffer=kp(i,h,"vec4",j.aIndex),this.vertTypeBuffer=kp(i,h,"int",j.aVertType),this.atlasIdBuffer=kp(i,h,"int",j.aAtlasId),this.texBuffer=kp(i,h,"vec4",j.aTex),this.pointAPointBBuffer=kp(i,h,"vec4",j.aPointAPointB),this.pointCPointDBuffer=kp(i,h,"vec4",j.aPointCPointD),this.lineWidthBuffer=kp(i,h,"vec2",j.aLineWidth),this.colorBuffer=kp(i,h,"vec4",j.aColor),this.cornerRadiusBuffer=kp(i,h,"vec4",j.aCornerRadius),this.borderColorBuffer=kp(i,h,"vec4",j.aBorderColor),i.bindVertexArray(null),k}},{key:"buffers",get:function(){var a=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(a){return aP(a,"Buffer")}).map(function(b){return a[b]})),this._buffers}},{key:"startFrame",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kA;this.panZoomMatrix=a,this.renderTarget=b,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(a,b){return!!a.visible()&&(!b||!b.isVisible||b.isVisible(a))}},{key:"drawTexture",value:function(a,b,c){var d=this.atlasManager,e=this.batchManager,f=d.getRenderTypeOpts(c);if(this._isVisible(a,f)&&(!a.isEdge()||this._isValidEdge(a))){if(this.renderTarget.picking&&f.getTexPickingMode){var g=f.getTexPickingMode(a);if(1===g)return;if(2==g)return void this.drawPickingRectangle(a,b,c)}var h,i=al(d.getAtlasInfo(a,c));try{for(i.s();!(h=i.n()).done;){var j=h.value,k=j.atlas,l=j.tex1,n=j.tex2;e.canAddToCurrentBatch(k)||this.endBatch();for(var o=e.getAtlasIndexForBatch(k),p=0,q=[[l,!0],[n,!1]];p<q.length;p++){var r=an(q[p],2),s=r[0],t=r[1];if(0!=s.w){var u=this.instanceCount;this.vertTypeBuffer.getView(u)[0]=0;var v=this.indexBuffer.getView(u);km(b,v),this.atlasIdBuffer.getView(u)[0]=o;var w=this.texBuffer.getView(u);w[0]=s.x,w[1]=s.y,w[2]=s.w,w[3]=s.h;var x=this.transformBuffer.getMatrixView(u);this.setTransformMatrix(a,x,f,j,t),this.instanceCount++,!t&&this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(a){i.e(a)}finally{i.f()}}}},{key:"setTransformMatrix",value:function(a,b,c,d){var e=!(arguments.length>4)||void 0===arguments[4]||arguments[4],f=0;if(c.shapeProps&&c.shapeProps.padding&&(f=a.pstyle(c.shapeProps.padding).pfValue),d){var g=d.bb,h=d.tex1,i=d.tex2,j=h.w/(h.w+i.w);e||(j=1-j);var k=this._getAdjustedBB(g,f,e,j);this._applyTransformMatrix(b,k,c,a)}else{var l=c.getBoundingBox(a),n=this._getAdjustedBB(l,f,!0,1);this._applyTransformMatrix(b,n,c,a)}}},{key:"_applyTransformMatrix",value:function(a,b,c,d){ks(a);var e,f,g=c.getRotation?c.getRotation(d):0;if(0!==g){var h=c.getRotationPoint(d);kt(a,a,[h.x,h.y]),ku(a,a,g);var i=c.getRotationOffset(d);e=i.x+(b.xOffset||0),f=i.y+(b.yOffset||0)}else e=b.x1,f=b.y1;kt(a,a,[e,f]),kv(a,a,[b.w,b.h])}},{key:"_getAdjustedBB",value:function(a,b,c,d){var e=a.x1,f=a.y1,g=a.w,h=a.h,i=a.yOffset;b&&(e-=b,f-=b,g+=2*b,h+=2*b);var j=0,k=g*d;return c&&d<1?g=k:!c&&d<1&&(e+=j=g-k,g=k),{x1:e,y1:f,w:g,h:h,xOffset:j,yOffset:i}}},{key:"drawPickingRectangle",value:function(a,b,c){var d=this.atlasManager.getRenderTypeOpts(c),e=this.instanceCount;this.vertTypeBuffer.getView(e)[0]=4,km(b,this.indexBuffer.getView(e)),kl([0,0,0],1,this.colorBuffer.getView(e));var f=this.transformBuffer.getMatrixView(e);this.setTransformMatrix(a,f,d),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(a,b,c){var d=this.simpleShapeOptions.get(c);if(this._isVisible(a,d)){var e=d.shapeProps,f=this._getVertTypeForShape(a,e.shape);if(void 0===f||d.isSimple&&!d.isSimple(a))return void this.drawTexture(a,b,c);var g=this.instanceCount;if(this.vertTypeBuffer.getView(g)[0]=f,5===f||6===f){var h=d.getBoundingBox(a),i=this._getCornerRadius(a,e.radius,h),j=this.cornerRadiusBuffer.getView(g);j[0]=i,j[1]=i,j[2]=i,j[3]=i,6===f&&(j[0]=0,j[2]=0)}km(b,this.indexBuffer.getView(g)),kl(a.pstyle(e.color).value,a.pstyle(e.opacity).value,this.colorBuffer.getView(g));var k=this.lineWidthBuffer.getView(g);if(k[0]=0,k[1]=0,e.border){var l=a.pstyle("border-width").value;if(l>0){kl(a.pstyle("border-color").value,a.pstyle("border-opacity").value,this.borderColorBuffer.getView(g));var n=a.pstyle("border-position").value;if("inside"===n)k[0]=0,k[1]=-l;else if("outside"===n)k[0]=l,k[1]=0;else{var o=l/2;k[0]=o,k[1]=-o}}}var p=this.transformBuffer.getMatrixView(g);this.setTransformMatrix(a,p,d),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(a,b){switch(a.pstyle(b).value){case"rectangle":return 4;case"ellipse":return 7;case"roundrectangle":case"round-rectangle":return 5;case"bottom-round-rectangle":return 6;default:return}}},{key:"_getCornerRadius",value:function(a,b,c){var d=c.w,e=c.h;return"auto"===a.pstyle(b).value?cN(d,e):Math.min(a.pstyle(b).pfValue,e/2,d/2)}},{key:"drawEdgeArrow",value:function(a,b,c){if(a.visible()){var d,e,f,g=a._private.rscratch;if(("source"===c?(d=g.arrowStartX,e=g.arrowStartY,f=g.srcArrowAngle):(d=g.arrowEndX,e=g.arrowEndY,f=g.tgtArrowAngle),!(isNaN(d)||null==d||isNaN(e)||null==e||isNaN(f))&&null!=f)&&"none"!==a.pstyle(c+"-arrow-shape").value){var h=a.pstyle(c+"-arrow-color").value,i=a.pstyle("opacity").value,j=a.pstyle("line-opacity").value,k=a.pstyle("width").pfValue,l=a.pstyle("arrow-scale").value,n=this.r.getArrowWidth(k,l),o=this.instanceCount,p=this.transformBuffer.getMatrixView(o);ks(p),kt(p,p,[d,e]),kv(p,p,[n,n]),ku(p,p,f),this.vertTypeBuffer.getView(o)[0]=3,km(b,this.indexBuffer.getView(o)),kl(h,i*j,this.colorBuffer.getView(o)),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"drawEdgeLine",value:function(a,b){if(a.visible()){var c=this._getEdgePoints(a);if(c){var d=a.pstyle("opacity").value,e=a.pstyle("line-opacity").value,f=a.pstyle("width").pfValue,g=a.pstyle("line-color").value,h=d*e;if(c.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),4==c.length){var i=this.instanceCount;this.vertTypeBuffer.getView(i)[0]=1,km(b,this.indexBuffer.getView(i)),kl(g,h,this.colorBuffer.getView(i)),this.lineWidthBuffer.getView(i)[0]=f;var j=this.pointAPointBBuffer.getView(i);j[0]=c[0],j[1]=c[1],j[2]=c[2],j[3]=c[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var k=0;k<c.length-2;k+=2){var l=this.instanceCount;this.vertTypeBuffer.getView(l)[0]=2,km(b,this.indexBuffer.getView(l)),kl(g,h,this.colorBuffer.getView(l)),this.lineWidthBuffer.getView(l)[0]=f;var n=c[k-2],o=c[k-1],p=c[k],q=c[k+1],r=c[k+2],s=c[k+3],t=c[k+4],u=c[k+5];0==k&&(n=2*p-r+.001,o=2*q-s+.001),k==c.length-4&&(t=2*r-p+.001,u=2*s-q+.001);var v=this.pointAPointBBuffer.getView(l);v[0]=n,v[1]=o,v[2]=p,v[3]=q;var w=this.pointCPointDBuffer.getView(l);w[0]=r,w[1]=s,w[2]=t,w[3]=u,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(a){var b=a._private.rscratch;return!(b.badLine||null==b.allpts||isNaN(b.allpts[0]))}},{key:"_getEdgePoints",value:function(a){var b=a._private.rscratch;if(this._isValidEdge(a)){var c=b.allpts;if(4==c.length)return c;var d=this._getNumSegments(a);return this._getCurveSegmentPoints(c,d)}}},{key:"_getNumSegments",value:function(a){return Math.min(15,this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(a,b){if(4==a.length)return a;for(var c=Array((b+1)*2),d=0;d<=b;d++)if(0==d)c[0]=a[0],c[1]=a[1];else if(d==b)c[2*d]=a[a.length-2],c[2*d+1]=a[a.length-1];else{var e=d/b;this._setCurvePoint(a,e,c,2*d)}return c}},{key:"_setCurvePoint",value:function(a,b,c,d){if(a.length<=2)c[d]=a[0],c[d+1]=a[1];else{for(var e=Array(a.length-2),f=0;f<e.length;f+=2){var g=(1-b)*a[f]+b*a[f+2],h=(1-b)*a[f+1]+b*a[f+3];e[f]=g,e[f+1]=h}return this._setCurvePoint(e,b,c,d)}}},{key:"endBatch",value:function(){var a=this.gl,b=this.vao,c=this.vertexCount,d=this.instanceCount;if(0!==d){var e,f,g=this.renderTarget.picking?this.pickingProgram:this.program;a.useProgram(g),a.bindVertexArray(b);var h,i=al(this.buffers);try{for(i.s();!(h=i.n()).done;)h.value.bufferSubData(d)}catch(a){i.e(a)}finally{i.f()}for(var j=this.batchManager.getAtlases(),k=0;k<j.length;k++)j[k].bufferIfNeeded(a);for(var l=0;l<j.length;l++)a.activeTexture(a.TEXTURE0+l),a.bindTexture(a.TEXTURE_2D,j[l].texture),a.uniform1i(g.uTextures[l],l);a.uniform1f(g.uZoom,(f=(e=this.r).pixelRatio,e.cy.zoom()*f)),a.uniformMatrix3fv(g.uPanZoomMatrix,!1,this.panZoomMatrix),a.uniform1i(g.uAtlasSize,this.batchManager.getAtlasSize());var n=kl(this.bgColor,1);a.uniform4fv(g.uBGColor,n),a.drawArraysInstanced(a.TRIANGLES,0,c,d),a.bindVertexArray(null),a.bindTexture(a.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:d,atlasCount:j.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var a=this.atlasManager.getDebugInfo(),b=a.reduce(function(a,b){return a+b.atlasCount},0),c=this.batchDebugInfo,d=c.reduce(function(a,b){return a+b.count},0);return{atlasInfo:a,totalAtlases:b,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:c.length,batchInfo:c,totalInstances:d}}}]),kD={};function kE(a,b){return bF(a._private.rscratch,"labelWrapCachedLines",b)||[]}kD.initWebgl=function(a,b){var c,d,e,f,g,h,i,j,k=this,l=k.data.contexts[k.WEBGL];a.bgColor=a$((c=k.cy.container())&&c.style&&c.style.backgroundColor||"white"),a.webglTexSize=Math.min(a.webglTexSize,l.getParameter(l.MAX_TEXTURE_SIZE)),a.webglTexRows=Math.min(a.webglTexRows,54),a.webglTexRowsNodes=Math.min(a.webglTexRowsNodes,54),a.webglBatchSize=Math.min(a.webglBatchSize,16384),a.webglTexPerBatch=Math.min(a.webglTexPerBatch,l.getParameter(l.MAX_TEXTURE_IMAGE_UNITS)),k.webglDebug=a.webglDebug,k.webglDebugShowAtlases=a.webglDebugShowAtlases,i=l.createFramebuffer(),l.bindFramebuffer(l.FRAMEBUFFER,i),j=l.createTexture(),l.bindTexture(l.TEXTURE_2D,j),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,j,0),l.bindFramebuffer(l.FRAMEBUFFER,null),i.setFramebufferAttachmentSizes=function(a,b){l.bindTexture(l.TEXTURE_2D,j),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,a,b,0,l.RGBA,l.UNSIGNED_BYTE,null)},k.pickingFrameBuffer=i,k.pickingFrameBuffer.needsDraw=!0,k.drawing=new kC(k,l,a);var n=function(a){return function(b){return k.getTextAngle(b,a)}},o=function(a){return function(b){var c=b.pstyle(a);return c&&c.value}},p=function(a){return function(b){return b.pstyle("".concat(a,"-opacity")).value>0}},q=function(a){return"yes"===a.pstyle("text-events").strValue?2:1},r=function(a){var b=a.position(),c=b.x,d=b.y,e=a.outerWidth(),f=a.outerHeight();return{w:e,h:f,x1:c-e/2,y1:d-f/2}};k.drawing.addAtlasCollection("node",{texRows:a.webglTexRowsNodes}),k.drawing.addAtlasCollection("label",{texRows:a.webglTexRows}),k.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:b.getStyleKey,getBoundingBox:b.getElementBox,drawElement:b.drawElement}),k.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:r,isSimple:kk,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),k.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:r,isVisible:p("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),k.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:r,isVisible:p("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),k.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:q,getKey:kF(b.getLabelKey,null),getBoundingBox:kG(b.getLabelBox,null),drawClipped:!0,drawElement:b.drawLabel,getRotation:n(null),getRotationPoint:b.getLabelRotationPoint,getRotationOffset:b.getLabelRotationOffset,isVisible:o("label")}),k.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:q,getKey:kF(b.getSourceLabelKey,"source"),getBoundingBox:kG(b.getSourceLabelBox,"source"),drawClipped:!0,drawElement:b.drawSourceLabel,getRotation:n("source"),getRotationPoint:b.getSourceLabelRotationPoint,getRotationOffset:b.getSourceLabelRotationOffset,isVisible:o("source-label")}),k.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:q,getKey:kF(b.getTargetLabelKey,"target"),getBoundingBox:kG(b.getTargetLabelBox,"target"),drawClipped:!0,drawElement:b.drawTargetLabel,getRotation:n("target"),getRotationPoint:b.getTargetLabelRotationPoint,getRotationOffset:b.getTargetLabelRotationOffset,isVisible:o("target-label")});var s=a9(function(){console.log("garbage collect flag set"),k.data.gc=!0},1e4);k.onUpdateEleCalcs(function(a,b){var c=!1;b&&b.length>0&&(c|=k.drawing.invalidate(b)),c&&s()}),e=(d=k).render,d.render=function(a){a=a||{};var b,c,f,g,h=d.cy;d.webgl&&(h.zoom()>7.99?((c=(b=d).data.contexts[b.WEBGL]).clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),e.call(d,a)):(f=d,(g=function(a){a.save(),a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,f.canvasWidth,f.canvasHeight),a.restore()})(f.data.contexts[f.NODE]),g(f.data.contexts[f.DRAG]),kJ(d,a,kA)))},f=d.matchCanvasSize,d.matchCanvasSize=function(a){f.call(d,a),d.pickingFrameBuffer.setFramebufferAttachmentSizes(d.canvasWidth,d.canvasHeight),d.pickingFrameBuffer.needsDraw=!0},d.findNearestElements=function(a,b,c,e){return function(a,b,c){var d,e,f,g=function(a,b,c,d,e){var f=kj(a),g=f.pan,h=f.zoom,i=an((q=b*h+g.x,r=c*h+g.y,[q,r=Math.round(a.canvasHeight-r)]),2),j=i[0],k=i[1],l=a.data.contexts[a.WEBGL];l.bindFramebuffer(l.FRAMEBUFFER,a.pickingFrameBuffer),a.pickingFrameBuffer.needsDraw&&(l.viewport(0,0,l.canvas.width,l.canvas.height),kJ(a,null,kB),a.pickingFrameBuffer.needsDraw=!1);var n=new Uint8Array(144);l.readPixels(j-3,k-3,6,6,l.RGBA,l.UNSIGNED_BYTE,n),l.bindFramebuffer(l.FRAMEBUFFER,null);for(var o=new Set,p=0;p<36;p++){var q,r,s,t=(s=n.slice(4*p,4*p+4))[0]+(s[1]<<8)+(s[2]<<16)+(s[3]<<24)-1;t>=0&&o.add(t)}return o}(a,b,c),h=a.getCachedZSortedEles(),i=al(g);try{for(i.s();!(f=i.n()).done;){var j=h[f.value];if(!d&&j.isNode()&&(d=j),!e&&j.isEdge()&&(e=j),d&&e)break}}catch(a){i.e(a)}finally{i.f()}return[d,e].filter(Boolean)}(d,a,b)},g=d.invalidateCachedZSortedEles,d.invalidateCachedZSortedEles=function(){g.call(d),d.pickingFrameBuffer.needsDraw=!0},h=d.notify,d.notify=function(a,b){h.call(d,a,b),"viewport"===a||"bounds"===a?d.pickingFrameBuffer.needsDraw=!0:"background"===a&&d.drawing.invalidate(b,{type:"node-body"})}};var kF=function(a,b){return function(c){var d=a(c),e=kE(c,b);return e.length>1?e.map(function(a,b){return"".concat(d,"_").concat(b)}):d}},kG=function(a,b){return function(c,d){var e=a(c);if("string"==typeof d){var f=d.indexOf("_");if(f>0){var g=Number(d.substring(f+1)),h=kE(c,b),i=e.h/h.length,j=i*g,k=e.y1+j;return{x1:e.x1,w:e.w,y1:k,h:i,yOffset:j}}}return e}};function kH(a,b){var c=a.canvasWidth,d=a.canvasHeight,e=kj(a),f=e.pan,g=e.zoom;b.setTransform(1,0,0,1,0,0),b.clearRect(0,0,c,d),b.translate(f.x,f.y),b.scale(g,g)}function kI(a,b,c){var d=a.drawing;b+=1,c.isNode()?(d.drawNode(c,b,"node-underlay"),d.drawNode(c,b,"node-body"),d.drawTexture(c,b,"label"),d.drawNode(c,b,"node-overlay")):(d.drawEdgeLine(c,b),d.drawEdgeArrow(c,b,"source"),d.drawEdgeArrow(c,b,"target"),d.drawTexture(c,b,"label"),d.drawTexture(c,b,"edge-source-label"),d.drawTexture(c,b,"edge-target-label"))}function kJ(a,b,c){a.webglDebug&&(U=performance.now());var d=a.drawing,e=0;if(c.screen&&a.data.canvasNeedsRedraw[a.SELECT_BOX]&&a.drawSelectionRectangle(b,function(b){return kH(a,b)}),a.data.canvasNeedsRedraw[a.NODE]||c.picking){var f,g,h,i,j,k,l,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L=a.data.contexts[a.WEBGL];c.screen?(L.clearColor(0,0,0,0),L.enable(L.BLEND),L.blendFunc(L.ONE,L.ONE_MINUS_SRC_ALPHA)):L.disable(L.BLEND),L.clear(L.COLOR_BUFFER_BIT|L.DEPTH_BUFFER_BIT),L.viewport(0,0,L.canvas.width,L.canvas.height);var M=(f=a.canvasWidth,g=a.canvasHeight,i=(h=kj(a)).pan,j=h.zoom,kt(k=kr(),k,[i.x,i.y]),kv(k,k,[j,j]),n=l=kr(),n[0]=2/f,n[1]=0,n[2]=0,n[3]=0,n[4]=-2/g,n[5]=0,n[6]=-1,n[7]=1,n[8]=1,p=o=kr(),q=l[0],r=l[1],s=l[2],t=l[3],u=l[4],v=l[5],w=l[6],x=l[7],y=l[8],z=k[0],A=k[1],B=k[2],C=k[3],D=k[4],E=k[5],F=k[6],G=k[7],H=k[8],p[0]=z*q+A*t+B*w,p[1]=z*r+A*u+B*x,p[2]=z*s+A*v+B*y,p[3]=C*q+D*t+E*w,p[4]=C*r+D*u+E*x,p[5]=C*s+D*v+E*y,p[6]=F*q+G*t+H*w,p[7]=F*r+G*u+H*x,p[8]=F*s+G*v+H*y,o),N=a.getCachedZSortedEles();if(e=N.length,d.startFrame(M,c),c.screen){for(var O=0;O<N.nondrag.length;O++)kI(a,O,N.nondrag[O]);for(var P=0;P<N.drag.length;P++)kI(a,P,N.drag[P])}else if(c.picking)for(var Q=0;Q<N.length;Q++)kI(a,Q,N[Q]);d.endFrame(),c.screen&&a.webglDebugShowAtlases&&((I=a.data.contexts[a.NODE]).save(),kH(a,I),I.strokeStyle="rgba(0, 0, 0, 0.3)",I.beginPath(),I.moveTo(-1e3,0),I.lineTo(1e3,0),I.stroke(),I.beginPath(),I.moveTo(0,-1e3),I.lineTo(0,1e3),I.stroke(),I.restore(),K=0,(J=function(b,c,d){for(var e=b.atlasManager.getAtlasCollection(c),f=a.data.contexts[a.NODE],g=e.atlases,h=0;h<g.length;h++){var i=g[h].canvas;if(i){var j=i.width,k=i.height,l=j*h,n=i.height*d;f.save(),f.scale(.4,.4),f.drawImage(i,l,n),f.strokeStyle="black",f.rect(l,n,j,k),f.stroke(),f.restore()}}})(a.drawing,"node",K++),J(a.drawing,"label",K++)),a.data.canvasNeedsRedraw[a.NODE]=!1,a.data.canvasNeedsRedraw[a.DRAG]=!1}if(a.webglDebug){var R=Math.ceil(performance.now()-U),S=d.getDebugInfo(),T=["".concat(e," elements"),"".concat(S.totalInstances," instances"),"".concat(S.batchCount," batches"),"".concat(S.totalAtlases," atlases"),"".concat(S.wrappedCount," wrapped textures"),"".concat(S.simpleCount," simple shapes")].join(", ");console.log("WebGL (".concat(c.name,") - frame time ").concat(R,"ms")),console.log("Totals:"),console.log("  ".concat(T)),console.log("Texture Atlases Used:");var U,V,W=al(S.atlasInfo);try{for(W.s();!(V=W.n()).done;){var X=V.value;console.log("  ".concat(X.type,": ").concat(X.keyCount," keys, ").concat(X.atlasCount," atlases"))}}catch(a){W.e(a)}finally{W.f()}console.log("")}a.data.gc&&(console.log("Garbage Collect!"),a.data.gc=!1,d.gc())}var kK={};kK.drawPolygonPath=function(a,b,c,d,e,f){var g=d/2,h=e/2;a.beginPath&&a.beginPath(),a.moveTo(b+g*f[0],c+h*f[1]);for(var i=1;i<f.length/2;i++)a.lineTo(b+g*f[2*i],c+h*f[2*i+1]);a.closePath()},kK.drawRoundPolygonPath=function(a,b,c,d,e,f,g){g.forEach(function(b){return jr(a,b)}),a.closePath()},kK.drawRoundRectanglePath=function(a,b,c,d,e,f){var g=d/2,h=e/2,i="auto"===f?cN(d,e):Math.min(f,h,g);a.beginPath&&a.beginPath(),a.moveTo(b,c-h),a.arcTo(b+g,c-h,b+g,c,i),a.arcTo(b+g,c+h,b,c+h,i),a.arcTo(b-g,c+h,b-g,c,i),a.arcTo(b-g,c-h,b,c-h,i),a.lineTo(b,c-h),a.closePath()},kK.drawBottomRoundRectanglePath=function(a,b,c,d,e,f){var g=d/2,h=e/2,i="auto"===f?cN(d,e):f;a.beginPath&&a.beginPath(),a.moveTo(b,c-h),a.lineTo(b+g,c-h),a.lineTo(b+g,c),a.arcTo(b+g,c+h,b,c+h,i),a.arcTo(b-g,c+h,b-g,c,i),a.lineTo(b-g,c-h),a.lineTo(b,c-h),a.closePath()},kK.drawCutRectanglePath=function(a,b,c,d,e,f,g){var h=d/2,i=e/2,j="auto"===g?cP():g;a.beginPath&&a.beginPath(),a.moveTo(b-h+j,c-i),a.lineTo(b+h-j,c-i),a.lineTo(b+h,c-i+j),a.lineTo(b+h,c+i-j),a.lineTo(b+h-j,c+i),a.lineTo(b-h+j,c+i),a.lineTo(b-h,c+i-j),a.lineTo(b-h,c-i+j),a.closePath()},kK.drawBarrelPath=function(a,b,c,d,e){var f=d/2,g=e/2,h=b-f,i=b+f,j=c-g,k=c+g,l=cQ(d,e),n=l.widthOffset,o=l.heightOffset,p=l.ctrlPtOffsetPct*n;a.beginPath&&a.beginPath(),a.moveTo(h,j+o),a.lineTo(h,k-o),a.quadraticCurveTo(h+p,k,h+n,k),a.lineTo(i-n,k),a.quadraticCurveTo(i-p,k,i,k-o),a.lineTo(i,j+o),a.quadraticCurveTo(i-p,j,i-n,j),a.lineTo(h+n,j),a.quadraticCurveTo(h+p,j,h,j+o),a.closePath()};for(var kL={},kM={},kN=Math.PI/40,kO=0*Math.PI;kO<2*Math.PI;kO+=kN)kL[kO]=Math.sin(kO),kM[kO]=Math.cos(kO);kK.drawEllipsePath=function(a,b,c,d,e){if(a.beginPath&&a.beginPath(),a.ellipse)a.ellipse(b,c,d/2,e/2,0,0,2*Math.PI);else for(var f,g,h=d/2,i=e/2,j=0*Math.PI;j<2*Math.PI;j+=kN)f=b-h*kL[j]*0+h*kM[j]*1,g=c+i*kM[j]*0+i*kL[j]*1,0===j?a.moveTo(f,g):a.lineTo(f,g);a.closePath()};var kP={};function kQ(a){var b=a.indexOf(",");return a.substr(b+1)}function kR(a,b,c){var d=function(){return b.toDataURL(c,a.quality)};switch(a.output){case"blob-promise":return new dX(function(d,e){try{b.toBlob(function(a){null!=a?d(a):e(Error("`canvas.toBlob()` sent a null value in its callback"))},c,a.quality)}catch(a){e(a)}});case"blob":return function(a,b){for(var c=atob(a),d=new ArrayBuffer(c.length),e=new Uint8Array(d),f=0;f<c.length;f++)e[f]=c.charCodeAt(f);return new Blob([d],{type:b})}(kQ(d()),c);case"base64":return kQ(d());default:return d()}}kP.createBuffer=function(a,b){var c=document.createElement("canvas");return c.width=a,c.height=b,[c,c.getContext("2d")]},kP.bufferCanvasImage=function(a){var b=this.cy,c=b.mutableElements().boundingBox(),d=this.findContainerClientCoords(),e=a.full?Math.ceil(c.w):d[2],f=a.full?Math.ceil(c.h):d[3],g=aB(a.maxWidth)||aB(a.maxHeight),h=this.getPixelRatio(),i=1;if(void 0!==a.scale)e*=a.scale,f*=a.scale,i=a.scale;else if(g){var j=1/0,k=1/0;aB(a.maxWidth)&&(j=i*a.maxWidth/e),aB(a.maxHeight)&&(k=i*a.maxHeight/f),e*=i=Math.min(j,k),f*=i}g||(e*=h,f*=h,i*=h);var l=document.createElement("canvas");l.width=e,l.height=f,l.style.width=e+"px",l.style.height=f+"px";var n=l.getContext("2d");if(e>0&&f>0){n.clearRect(0,0,e,f),n.globalCompositeOperation="source-over";var o=this.getCachedZSortedEles();if(a.full)n.translate(-c.x1*i,-c.y1*i),n.scale(i,i),this.drawElements(n,o),n.scale(1/i,1/i),n.translate(c.x1*i,c.y1*i);else{var p=b.pan(),q={x:p.x*i,y:p.y*i};i*=b.zoom(),n.translate(q.x,q.y),n.scale(i,i),this.drawElements(n,o),n.scale(1/i,1/i),n.translate(-q.x,-q.y)}a.bg&&(n.globalCompositeOperation="destination-over",n.fillStyle=a.bg,n.rect(0,0,e,f),n.fill())}return l},kP.png=function(a){return kR(a,this.bufferCanvasImage(a),"image/png")},kP.jpg=function(a){return kR(a,this.bufferCanvasImage(a),"image/jpeg")};var kS={};kS.nodeShapeImpl=function(a,b,c,d,e,f,g,h){switch(a){case"ellipse":return this.drawEllipsePath(b,c,d,e,f);case"polygon":return this.drawPolygonPath(b,c,d,e,f,g);case"round-polygon":return this.drawRoundPolygonPath(b,c,d,e,f,g,h);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(b,c,d,e,f,h);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(b,c,d,e,f,g,h);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(b,c,d,e,f,h);case"barrel":return this.drawBarrelPath(b,c,d,e,f)}};var kT=kU.prototype;function kU(a){var b=this,c=b.cy.window().document;a.webgl&&(kT.CANVAS_LAYERS=b.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),b.data={canvases:Array(kT.CANVAS_LAYERS),contexts:Array(kT.CANVAS_LAYERS),canvasNeedsRedraw:Array(kT.CANVAS_LAYERS),bufferCanvases:Array(kT.BUFFER_COUNT),bufferContexts:Array(kT.CANVAS_LAYERS)};var d="-webkit-tap-highlight-color",e="rgba(0,0,0,0)";b.data.canvasContainer=c.createElement("div");var f=b.data.canvasContainer.style;b.data.canvasContainer.style[d]=e,f.position="relative",f.zIndex="0",f.overflow="hidden";var g=a.cy.container();g.appendChild(b.data.canvasContainer),g.style[d]=e;for(var h={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"},i=0;i<kT.CANVAS_LAYERS;i++){var j=b.data.canvases[i]=c.createElement("canvas"),k=kT.CANVAS_TYPES[i];b.data.contexts[i]=j.getContext(k),b.data.contexts[i]||bu("Could not create canvas of type "+k),Object.keys(h).forEach(function(a){j.style[a]=h[a]}),j.style.position="absolute",j.setAttribute("data-id","layer"+i),j.style.zIndex=String(kT.CANVAS_LAYERS-i),b.data.canvasContainer.appendChild(j),b.data.canvasNeedsRedraw[i]=!1}b.data.topCanvas=b.data.canvases[0],b.data.canvases[kT.NODE].setAttribute("data-id","layer"+kT.NODE+"-node"),b.data.canvases[kT.SELECT_BOX].setAttribute("data-id","layer"+kT.SELECT_BOX+"-selectbox"),b.data.canvases[kT.DRAG].setAttribute("data-id","layer"+kT.DRAG+"-drag"),b.data.canvases[kT.WEBGL]&&b.data.canvases[kT.WEBGL].setAttribute("data-id","layer"+kT.WEBGL+"-webgl");for(var i=0;i<kT.BUFFER_COUNT;i++)b.data.bufferCanvases[i]=c.createElement("canvas"),b.data.bufferContexts[i]=b.data.bufferCanvases[i].getContext("2d"),b.data.bufferCanvases[i].style.position="absolute",b.data.bufferCanvases[i].setAttribute("data-id","buffer"+i),b.data.bufferCanvases[i].style.zIndex=String(-i-1),b.data.bufferCanvases[i].style.visibility="hidden";b.pathsEnabled=!0;var l=cd(),n=function(a){return{x:-a.w/2,y:-a.h/2}},o=function(a){return a[0]._private.nodeKey},p=function(a){return a[0]._private.labelStyleKey},q=function(a){return a[0]._private.sourceLabelStyleKey},r=function(a){return a[0]._private.targetLabelStyleKey},s=function(a,c,d,e,f){return b.drawElement(a,c,d,!1,!1,f)},t=function(a,c,d,e,f){return b.drawElementText(a,c,d,e,"main",f)},u=function(a,c,d,e,f){return b.drawElementText(a,c,d,e,"source",f)},v=function(a,c,d,e,f){return b.drawElementText(a,c,d,e,"target",f)},w=function(a){return a.boundingBox(),a[0]._private.bodyBounds},x=function(a){return a.boundingBox(),a[0]._private.labelBounds.main||l},y=function(a){return a.boundingBox(),a[0]._private.labelBounds.source||l},z=function(a){return a.boundingBox(),a[0]._private.labelBounds.target||l},A=function(a,b){return b},B=function(a){var b;return{x:((b=w(a)).x1+b.x2)/2,y:(b.y1+b.y2)/2}},C=function(a,b,c){var d=a?a+"-":"";return{x:b.x+c.pstyle(d+"text-margin-x").pfValue,y:b.y+c.pstyle(d+"text-margin-y").pfValue}},D=function(a,b,c){var d=a[0]._private.rscratch;return{x:d[b],y:d[c]}},E=function(a){return C("",D(a,"labelX","labelY"),a)},F=function(a){return C("source",D(a,"sourceLabelX","sourceLabelY"),a)},G=function(a){return C("target",D(a,"targetLabelX","targetLabelY"),a)},H=function(a){return n(w(a))},I=function(a){return n(y(a))},J=function(a){return n(z(a))},K=function(a){var b=x(a),c=n(x(a));if(a.isNode()){switch(a.pstyle("text-halign").value){case"left":c.x=-b.w-(b.leftPad||0);break;case"right":c.x=-(b.rightPad||0)}switch(a.pstyle("text-valign").value){case"top":c.y=-b.h-(b.topPad||0);break;case"bottom":c.y=-(b.botPad||0)}}return c},L=b.data.eleTxrCache=new jT(b,{getKey:o,doesEleInvalidateKey:function(a){var b=a[0]._private;return b.oldBackgroundTimestamp!==b.backgroundTimestamp},drawElement:s,getBoundingBox:w,getRotationPoint:B,getRotationOffset:H,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),M=b.data.lblTxrCache=new jT(b,{getKey:p,drawElement:t,getBoundingBox:x,getRotationPoint:E,getRotationOffset:K,isVisible:A}),N=b.data.slbTxrCache=new jT(b,{getKey:q,drawElement:u,getBoundingBox:y,getRotationPoint:F,getRotationOffset:I,isVisible:A}),O=b.data.tlbTxrCache=new jT(b,{getKey:r,drawElement:v,getBoundingBox:z,getRotationPoint:G,getRotationOffset:J,isVisible:A}),P=b.data.lyrTxrCache=new jV(b);b.onUpdateEleCalcs(function(a,b){L.invalidateElements(b),M.invalidateElements(b),N.invalidateElements(b),O.invalidateElements(b),P.invalidateElements(b);for(var c=0;c<b.length;c++){var d=b[c]._private;d.oldBackgroundTimestamp=d.backgroundTimestamp}});var Q=function(a){for(var b=0;b<a.length;b++)P.enqueueElementRefinement(a[b].ele)};L.onDequeue(Q),M.onDequeue(Q),N.onDequeue(Q),O.onDequeue(Q),a.webgl&&b.initWebgl(a,{getStyleKey:o,getLabelKey:p,getSourceLabelKey:q,getTargetLabelKey:r,drawElement:s,drawLabel:t,drawSourceLabel:u,drawTargetLabel:v,getElementBox:w,getLabelBox:x,getSourceLabelBox:y,getTargetLabelBox:z,getElementRotationPoint:B,getElementRotationOffset:H,getLabelRotationPoint:E,getSourceLabelRotationPoint:F,getTargetLabelRotationPoint:G,getLabelRotationOffset:K,getSourceLabelRotationOffset:I,getTargetLabelRotationOffset:J})}kT.CANVAS_LAYERS=3,kT.SELECT_BOX=0,kT.DRAG=1,kT.NODE=2,kT.WEBGL=3,kT.CANVAS_TYPES=["2d","2d","2d","webgl2"],kT.BUFFER_COUNT=3,kT.TEXTURE_BUFFER=0,kT.MOTIONBLUR_BUFFER_NODE=1,kT.MOTIONBLUR_BUFFER_DRAG=2,kT.redrawHint=function(a,b){switch(a){case"eles":this.data.canvasNeedsRedraw[kT.NODE]=b;break;case"drag":this.data.canvasNeedsRedraw[kT.DRAG]=b;break;case"select":this.data.canvasNeedsRedraw[kT.SELECT_BOX]=b;break;case"gc":this.data.gc=!0}};var kV="u">typeof Path2D;kT.path2dEnabled=function(a){if(void 0===a)return this.pathsEnabled;this.pathsEnabled=!!a},kT.usePaths=function(){return kV&&this.pathsEnabled},kT.setImgSmoothing=function(a,b){null!=a.imageSmoothingEnabled?a.imageSmoothingEnabled=b:(a.webkitImageSmoothingEnabled=b,a.mozImageSmoothingEnabled=b,a.msImageSmoothingEnabled=b)},kT.getImgSmoothing=function(a){return null!=a.imageSmoothingEnabled?a.imageSmoothingEnabled:a.webkitImageSmoothingEnabled||a.mozImageSmoothingEnabled||a.msImageSmoothingEnabled},kT.makeOffscreenCanvas=function(a,b){var c;return("u"<typeof OffscreenCanvas?"undefined":aq(OffscreenCanvas))!=="undefined"?c=new OffscreenCanvas(a,b):((c=this.cy.window().document.createElement("canvas")).width=a,c.height=b),c},[jY,j2,j9,kb,kc,ke,kg,kD,kK,kP,kS].forEach(function(a){aW(kT,a)});var kW=[{name:"null",impl:gL},{name:"base",impl:jM},{name:"canvas",impl:kU}],kX={},kY={};function kZ(a,b,c){var d=c,e=function(c){bw("Can not register `"+b+"` for `"+a+"` since `"+c+"` already exists in the prototype and can not be overridden")};if("core"===a)if(f6.prototype[b])return e(b);else f6.prototype[b]=c;else if("collection"===a)if(fD.prototype[b])return e(b);else fD.prototype[b]=c;else if("layout"===a){for(var f=function(a){this.options=a,c.call(this,a),aA(this._private)||(this._private={}),this._private.cy=a.cy,this._private.listeners=[],this.createEmitter()},g=f.prototype=Object.create(c.prototype),h=[],i=0;i<h.length;i++){var j=h[i];g[j]=g[j]||function(){return this}}g.start&&!g.run?g.run=function(){return this.start(),this}:!g.start&&g.run&&(g.start=function(){return this.run(),this});var k=c.prototype.stop;g.stop=function(){var a=this.options;if(a&&a.animate){var b=this.animations;if(b)for(var c=0;c<b.length;c++)b[c].stop()}return k?k.call(this):this.emit("layoutstop"),this},g.destroy||(g.destroy=function(){return this}),g.cy=function(){return this._private.cy};var l=function(a){return a._private.cy},n={addEventFields:function(a,b){b.layout=a,b.cy=l(a),b.target=a},bubble:function(){return!0},parent:function(a){return l(a)}};aW(g,{createEmitter:function(){return this._private.emitter=new e9(n,this),this},emitter:function(){return this._private.emitter},on:function(a,b){return this.emitter().on(a,b),this},one:function(a,b){return this.emitter().one(a,b),this},once:function(a,b){return this.emitter().one(a,b),this},removeListener:function(a,b){return this.emitter().removeListener(a,b),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(a,b){return this.emitter().emit(a,b),this}}),ec.eventAliasesOn(g),d=f}else if("renderer"===a&&"null"!==b&&"base"!==b){var o=k$("renderer","base"),p=o.prototype,q=c.prototype,r=function(){o.apply(this,arguments),c.apply(this,arguments)},s=r.prototype;for(var t in p){var u=p[t];if(null!=q[t])return e(t);s[t]=u}for(var v in q)s[v]=q[v];p.clientFunctions.forEach(function(a){s[a]=s[a]||function(){bu("Renderer does not implement `renderer."+a+"()` on its prototype")}}),d=r}else if("__proto__"===a||"constructor"===a||"prototype"===a)return bu(a+" is an illegal type to be registered, possibly lead to prototype pollutions");return a0({map:kX,keys:[a,b],value:d})}function k$(a,b){return a1({map:kX,keys:[a,b]})}function k_(a,b,c,d,e){return a0({map:kY,keys:[a,b,c,d],value:e})}function k0(a,b,c,d){return a1({map:kY,keys:[a,b,c,d]})}var k1=function(){return 2==arguments.length?k$.apply(null,arguments):3==arguments.length?kZ.apply(null,arguments):4==arguments.length?k0.apply(null,arguments):5==arguments.length?k_.apply(null,arguments):void bu("Invalid extension access syntax")};f6.prototype.extension=k1,[{type:"layout",extensions:gK},{type:"renderer",extensions:kW}].forEach(function(a){a.extensions.forEach(function(b){kZ(a.type,b.name,b.impl)})});var k2=function(){if(!(this instanceof k2))return new k2;this.length=0},k3=k2.prototype;k3.instanceString=function(){return"stylesheet"},k3.selector=function(a){return this[this.length++]={selector:a,properties:[]},this},k3.css=function(a,b){var c=this.length-1;if(ax(a))this[c].properties.push({name:a,value:b});else if(aA(a))for(var d=Object.keys(a),e=0;e<d.length;e++){var f=d[e],g=a[f];if(null!=g){var h=f2.properties[f]||f2.properties[aM(f)];if(null!=h){var i=h.name;this[c].properties.push({name:i,value:g})}}}return this},k3.style=k3.css,k3.generateStyle=function(a){var b=new f2(a);return this.appendToStyle(b)},k3.appendToStyle=function(a){for(var b=0;b<this.length;b++){var c=this[b],d=c.selector,e=c.properties;a.selector(d);for(var f=0;f<e.length;f++){var g=e[f];a.css(g.name,g.value)}}return a};var k4=function(a){return(void 0===a&&(a={}),aA(a))?new f6(a):ax(a)?k1.apply(k1,arguments):void 0};k4.use=function(a){var b=Array.prototype.slice.call(arguments,1);return b.unshift(k4),a.apply(null,b),this},k4.warnings=function(a){return bv(a)},k4.version="3.33.1",k4.stylesheet=k4.Stylesheet=k2;let k5=Object.freeze({status:"aborted"});function k6(a,b,c){function d(c,d){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:d,constr:g,traits:new Set},enumerable:!1}),c._zod.traits.has(a))return;c._zod.traits.add(a),b(c,d);let e=g.prototype,f=Object.keys(e);for(let a=0;a<f.length;a++){let b=f[a];b in c||(c[b]=e[b].bind(c))}}let e=c?.Parent??Object;class f extends e{}function g(a){var b;let e=c?.Parent?new f:this;for(let c of(d(e,a),(b=e._zod).deferred??(b.deferred=[]),e._zod.deferred))c();return e}return Object.defineProperty(f,"name",{value:a}),Object.defineProperty(g,"init",{value:d}),Object.defineProperty(g,Symbol.hasInstance,{value:b=>!!c?.Parent&&b instanceof c.Parent||b?._zod?.traits?.has(a)}),Object.defineProperty(g,"name",{value:a}),g}let k7=Symbol("zod_brand");class k8 extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class k9 extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}let la={};function lb(a){return a&&Object.assign(la,a),la}function lc(a){return a}function ld(a){return a}function le(a){}function lf(a){throw Error("Unexpected value in exhaustive check")}function lg(a){}function lh(a){let b=Object.values(a).filter(a=>"number"==typeof a);return Object.entries(a).filter(([a,c])=>-1===b.indexOf(+a)).map(([a,b])=>b)}function li(a,b="|"){return a.map(a=>lL(a)).join(b)}function lj(a,b){return"bigint"==typeof b?b.toString():b}function lk(a){return{get value(){{let b=a();return Object.defineProperty(this,"value",{value:b}),b}}}}function ll(a){return null==a}function lm(a){let b=+!!a.startsWith("^"),c=a.endsWith("$")?a.length-1:a.length;return a.slice(b,c)}function ln(a,b){let c=(a.toString().split(".")[1]||"").length,d=b.toString(),e=(d.split(".")[1]||"").length;if(0===e&&/\d?e-\d?/.test(d)){let a=d.match(/\d?e-(\d?)/);a?.[1]&&(e=Number.parseInt(a[1]))}let f=c>e?c:e;return Number.parseInt(a.toFixed(f).replace(".",""))%Number.parseInt(b.toFixed(f).replace(".",""))/10**f}a.s(["$ZodAsyncError",()=>k8,"$ZodEncodeError",()=>k9,"$brand",0,k7,"$constructor",()=>k6,"NEVER",0,k5,"config",()=>lb,"globalConfig",0,la],33591);let lo=Symbol("evaluating");function lp(a,b,c){let d;Object.defineProperty(a,b,{get(){if(d!==lo)return void 0===d&&(d=lo,d=c()),d},set(c){Object.defineProperty(a,b,{value:c})},configurable:!0})}function lq(a){return Object.create(Object.getPrototypeOf(a),Object.getOwnPropertyDescriptors(a))}function lr(a,b,c){Object.defineProperty(a,b,{value:c,writable:!0,enumerable:!0,configurable:!0})}function ls(...a){let b={};for(let c of a)Object.assign(b,Object.getOwnPropertyDescriptors(c));return Object.defineProperties({},b)}function lt(a){return ls(a._zod.def)}function lu(a,b){return b?b.reduce((a,b)=>a?.[b],a):a}function lv(a){let b=Object.keys(a);return Promise.all(b.map(b=>a[b])).then(a=>{let c={};for(let d=0;d<b.length;d++)c[b[d]]=a[d];return c})}function lw(a=10){let b="abcdefghijklmnopqrstuvwxyz",c="";for(let d=0;d<a;d++)c+=b[Math.floor(Math.random()*b.length)];return c}function lx(a){return JSON.stringify(a)}function ly(a){return a.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}let lz="captureStackTrace"in Error?Error.captureStackTrace:(...a)=>{};function lA(a){return"object"==typeof a&&null!==a&&!Array.isArray(a)}let lB=lk(()=>{if("u">typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(a){return!1}});function lC(a){if(!1===lA(a))return!1;let b=a.constructor;if(void 0===b||"function"!=typeof b)return!0;let c=b.prototype;return!1!==lA(c)&&!1!==Object.prototype.hasOwnProperty.call(c,"isPrototypeOf")}function lD(a){return lC(a)?{...a}:Array.isArray(a)?[...a]:a}function lE(a){let b=0;for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b++;return b}let lF=new Set(["string","number","symbol"]),lG=new Set(["string","number","bigint","boolean","symbol","undefined"]);function lH(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function lI(a,b,c){let d=new a._zod.constr(b??a._zod.def);return(!b||c?.parent)&&(d._zod.parent=a),d}function lJ(a){if(!a)return{};if("string"==typeof a)return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");a.error=a.message}return(delete a.message,"string"==typeof a.error)?{...a,error:()=>a.error}:a}function lK(a){let b;return new Proxy({},{get:(c,d,e)=>(b??(b=a()),Reflect.get(b,d,e)),set:(c,d,e,f)=>(b??(b=a()),Reflect.set(b,d,e,f)),has:(c,d)=>(b??(b=a()),Reflect.has(b,d)),deleteProperty:(c,d)=>(b??(b=a()),Reflect.deleteProperty(b,d)),ownKeys:c=>(b??(b=a()),Reflect.ownKeys(b)),getOwnPropertyDescriptor:(c,d)=>(b??(b=a()),Reflect.getOwnPropertyDescriptor(b,d)),defineProperty:(c,d,e)=>(b??(b=a()),Reflect.defineProperty(b,d,e))})}function lL(a){return"bigint"==typeof a?a.toString()+"n":"string"==typeof a?`"${a}"`:`${a}`}function lM(a){return Object.keys(a).filter(b=>"optional"===a[b]._zod.optin&&"optional"===a[b]._zod.optout)}let lN={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},lO={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function lP(a,b){let c=a._zod.def,d=c.checks;if(d&&d.length>0)throw Error(".pick() cannot be used on object schemas containing refinements");let e=ls(a._zod.def,{get shape(){let a={};for(let d in b){if(!(d in c.shape))throw Error(`Unrecognized key: "${d}"`);b[d]&&(a[d]=c.shape[d])}return lr(this,"shape",a),a},checks:[]});return lI(a,e)}function lQ(a,b){let c=a._zod.def,d=c.checks;if(d&&d.length>0)throw Error(".omit() cannot be used on object schemas containing refinements");let e=ls(a._zod.def,{get shape(){let d={...a._zod.def.shape};for(let a in b){if(!(a in c.shape))throw Error(`Unrecognized key: "${a}"`);b[a]&&delete d[a]}return lr(this,"shape",d),d},checks:[]});return lI(a,e)}function lR(a,b){if(!lC(b))throw Error("Invalid input to extend: expected a plain object");let c=a._zod.def.checks;if(c&&c.length>0){let c=a._zod.def.shape;for(let a in b)if(void 0!==Object.getOwnPropertyDescriptor(c,a))throw Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}let d=ls(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b};return lr(this,"shape",c),c}});return lI(a,d)}function lS(a,b){if(!lC(b))throw Error("Invalid input to safeExtend: expected a plain object");let c=ls(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b};return lr(this,"shape",c),c}});return lI(a,c)}function lT(a,b){let c=ls(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b._zod.def.shape};return lr(this,"shape",c),c},get catchall(){return b._zod.def.catchall},checks:[]});return lI(a,c)}function lU(a,b,c){let d=b._zod.def.checks;if(d&&d.length>0)throw Error(".partial() cannot be used on object schemas containing refinements");let e=ls(b._zod.def,{get shape(){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in d))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=a?new a({type:"optional",innerType:d[b]}):d[b])}else for(let b in d)e[b]=a?new a({type:"optional",innerType:d[b]}):d[b];return lr(this,"shape",e),e},checks:[]});return lI(b,e)}function lV(a,b,c){let d=ls(b._zod.def,{get shape(){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in e))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=new a({type:"nonoptional",innerType:d[b]}))}else for(let b in d)e[b]=new a({type:"nonoptional",innerType:d[b]});return lr(this,"shape",e),e}});return lI(b,d)}function lW(a,b=0){if(!0===a.aborted)return!0;for(let c=b;c<a.issues.length;c++)if(a.issues[c]?.continue!==!0)return!0;return!1}function lX(a,b){return b.map(b=>(b.path??(b.path=[]),b.path.unshift(a),b))}function lY(a){return"string"==typeof a?a:a?.message}function lZ(a,b,c){let d={...a,path:a.path??[]};return a.message||(d.message=lY(a.inst?._zod.def?.error?.(a))??lY(b?.error?.(a))??lY(c.customError?.(a))??lY(c.localeError?.(a))??"Invalid input"),delete d.inst,delete d.continue,b?.reportInput||delete d.input,d}function l$(a){return a instanceof Set?"set":a instanceof Map?"map":a instanceof File?"file":"unknown"}function l_(a){return Array.isArray(a)?"array":"string"==typeof a?"string":"unknown"}function l0(a){let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"nan":"number";case"object":if(null===a)return"null";if(Array.isArray(a))return"array";if(a&&Object.getPrototypeOf(a)!==Object.prototype&&"constructor"in a&&a.constructor)return a.constructor.name}return b}function l1(...a){let[b,c,d]=a;return"string"==typeof b?{message:b,code:"custom",input:c,inst:d}:{...b}}function l2(a){return Object.entries(a).filter(([a,b])=>Number.isNaN(Number.parseInt(a,10))).map(a=>a[1])}function l3(a){let b=atob(a),c=new Uint8Array(b.length);for(let a=0;a<b.length;a++)c[a]=b.charCodeAt(a);return c}function l4(a){let b="";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return btoa(b)}function l5(a){let b=a.replace(/-/g,"+").replace(/_/g,"/"),c="=".repeat((4-b.length%4)%4);return l3(b+c)}function l6(a){return l4(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function l7(a){let b=a.replace(/^0x/,"");if(b.length%2!=0)throw Error("Invalid hex string length");let c=new Uint8Array(b.length/2);for(let a=0;a<b.length;a+=2)c[a/2]=Number.parseInt(b.slice(a,a+2),16);return c}function l8(a){return Array.from(a).map(a=>a.toString(16).padStart(2,"0")).join("")}class l9{constructor(...a){}}a.s(["BIGINT_FORMAT_RANGES",0,lO,"Class",()=>l9,"NUMBER_FORMAT_RANGES",0,lN,"aborted",()=>lW,"allowsEval",0,lB,"assert",()=>lg,"assertEqual",()=>lc,"assertIs",()=>le,"assertNever",()=>lf,"assertNotEqual",()=>ld,"assignProp",()=>lr,"base64ToUint8Array",()=>l3,"base64urlToUint8Array",()=>l5,"cached",()=>lk,"captureStackTrace",0,lz,"cleanEnum",()=>l2,"cleanRegex",()=>lm,"clone",()=>lI,"cloneDef",()=>lt,"createTransparentProxy",()=>lK,"defineLazy",()=>lp,"esc",()=>lx,"escapeRegex",()=>lH,"extend",()=>lR,"finalizeIssue",()=>lZ,"floatSafeRemainder",()=>ln,"getElementAtPath",()=>lu,"getEnumValues",()=>lh,"getLengthableOrigin",()=>l_,"getParsedType",0,a=>{let b=typeof a;switch(b){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(a)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return"promise";if("u">typeof Map&&a instanceof Map)return"map";if("u">typeof Set&&a instanceof Set)return"set";if("u">typeof Date&&a instanceof Date)return"date";if("u">typeof File&&a instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${b}`)}},"getSizableOrigin",()=>l$,"hexToUint8Array",()=>l7,"isObject",()=>lA,"isPlainObject",()=>lC,"issue",()=>l1,"joinValues",()=>li,"jsonStringifyReplacer",()=>lj,"merge",()=>lT,"mergeDefs",()=>ls,"normalizeParams",()=>lJ,"nullish",()=>ll,"numKeys",()=>lE,"objectClone",()=>lq,"omit",()=>lQ,"optionalKeys",()=>lM,"parsedType",()=>l0,"partial",()=>lU,"pick",()=>lP,"prefixIssues",()=>lX,"primitiveTypes",0,lG,"promiseAllObject",()=>lv,"propertyKeyTypes",0,lF,"randomString",()=>lw,"required",()=>lV,"safeExtend",()=>lS,"shallowClone",()=>lD,"slugify",()=>ly,"stringifyPrimitive",()=>lL,"uint8ArrayToBase64",()=>l4,"uint8ArrayToBase64url",()=>l6,"uint8ArrayToHex",()=>l8,"unwrapMessage",()=>lY],8920);let ma=(a,b)=>{a.name="$ZodError",Object.defineProperty(a,"_zod",{value:a._zod,enumerable:!1}),Object.defineProperty(a,"issues",{value:b,enumerable:!1}),a.message=JSON.stringify(b,lj,2),Object.defineProperty(a,"toString",{value:()=>a.message,enumerable:!1})},mb=k6("$ZodError",ma),mc=k6("$ZodError",ma,{Parent:Error});function md(a,b=a=>a.message){let c={},d=[];for(let e of a.issues)e.path.length>0?(c[e.path[0]]=c[e.path[0]]||[],c[e.path[0]].push(b(e))):d.push(b(e));return{formErrors:d,fieldErrors:c}}function me(a,b=a=>a.message){let c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code&&e.errors.length)e.errors.map(a=>d({issues:a}));else if("invalid_key"===e.code)d({issues:e.issues});else if("invalid_element"===e.code)d({issues:e.issues});else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(a),c}function mf(a,b=a=>a.message){let c={errors:[]},d=(a,e=[])=>{var f,g;for(let h of a.issues)if("invalid_union"===h.code&&h.errors.length)h.errors.map(a=>d({issues:a},h.path));else if("invalid_key"===h.code)d({issues:h.issues},h.path);else if("invalid_element"===h.code)d({issues:h.issues},h.path);else{let a=[...e,...h.path];if(0===a.length){c.errors.push(b(h));continue}let d=c,i=0;for(;i<a.length;){let c=a[i],e=i===a.length-1;"string"==typeof c?(d.properties??(d.properties={}),(f=d.properties)[c]??(f[c]={errors:[]}),d=d.properties[c]):(d.items??(d.items=[]),(g=d.items)[c]??(g[c]={errors:[]}),d=d.items[c]),e&&d.errors.push(b(h)),i++}}};return d(a),c}function mg(a){let b=[];for(let c of a.map(a=>"object"==typeof a?a.key:a))"number"==typeof c?b.push(`[${c}]`):"symbol"==typeof c?b.push(`[${JSON.stringify(String(c))}]`):/[^\w$]/.test(c)?b.push(`[${JSON.stringify(c)}]`):(b.length&&b.push("."),b.push(c));return b.join("")}function mh(a){let b=[];for(let c of[...a.issues].sort((a,b)=>(a.path??[]).length-(b.path??[]).length))b.push(` ${c.message}`),c.path?.length&&b.push(`   at ${mg(c.path)}`);return b.join("\n")}a.s(["$ZodError",0,mb,"$ZodRealError",0,mc,"flattenError",()=>md,"formatError",()=>me,"prettifyError",()=>mh,"toDotPath",()=>mg,"treeifyError",()=>mf],94084);let mi=a=>(b,c,d,e)=>{let f=d?Object.assign(d,{async:!1}):{async:!1},g=b._zod.run({value:c,issues:[]},f);if(g instanceof Promise)throw new k8;if(g.issues.length){let b=new(e?.Err??a)(g.issues.map(a=>lZ(a,f,lb())));throw lz(b,e?.callee),b}return g.value},mj=mi(mc),mk=a=>async(b,c,d,e)=>{let f=d?Object.assign(d,{async:!0}):{async:!0},g=b._zod.run({value:c,issues:[]},f);if(g instanceof Promise&&(g=await g),g.issues.length){let b=new(e?.Err??a)(g.issues.map(a=>lZ(a,f,lb())));throw lz(b,e?.callee),b}return g.value},ml=mk(mc),mm=a=>(b,c,d)=>{let e=d?{...d,async:!1}:{async:!1},f=b._zod.run({value:c,issues:[]},e);if(f instanceof Promise)throw new k8;return f.issues.length?{success:!1,error:new(a??mb)(f.issues.map(a=>lZ(a,e,lb())))}:{success:!0,data:f.value}},mn=mm(mc),mo=a=>async(b,c,d)=>{let e=d?Object.assign(d,{async:!0}):{async:!0},f=b._zod.run({value:c,issues:[]},e);return f instanceof Promise&&(f=await f),f.issues.length?{success:!1,error:new a(f.issues.map(a=>lZ(a,e,lb())))}:{success:!0,data:f.value}},mp=mo(mc),mq=a=>(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return mi(a)(b,c,e)},mr=mq(mc),ms=a=>(b,c,d)=>mi(a)(b,c,d),mt=ms(mc),mu=a=>async(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return mk(a)(b,c,e)},mv=mu(mc),mw=a=>async(b,c,d)=>mk(a)(b,c,d),mx=mw(mc),my=a=>(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return mm(a)(b,c,e)},mz=my(mc),mA=a=>(b,c,d)=>mm(a)(b,c,d),mB=mA(mc),mC=a=>async(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return mo(a)(b,c,e)},mD=mC(mc),mE=a=>async(b,c,d)=>mo(a)(b,c,d),mF=mE(mc);a.s(["_decode",0,ms,"_decodeAsync",0,mw,"_encode",0,mq,"_encodeAsync",0,mu,"_parse",0,mi,"_parseAsync",0,mk,"_safeDecode",0,mA,"_safeDecodeAsync",0,mE,"_safeEncode",0,my,"_safeEncodeAsync",0,mC,"_safeParse",0,mm,"_safeParseAsync",0,mo,"decode",0,mt,"decodeAsync",0,mx,"encode",0,mr,"encodeAsync",0,mv,"parse",0,mj,"parseAsync",0,ml,"safeDecode",0,mB,"safeDecodeAsync",0,mF,"safeEncode",0,mz,"safeEncodeAsync",0,mD,"safeParse",0,mn,"safeParseAsync",0,mp],39988);let mG=/^[cC][^\s-]{8,}$/,mH=/^[0-9a-z]+$/,mI=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,mJ=/^[0-9a-vA-V]{20}$/,mK=/^[A-Za-z0-9]{27}$/,mL=/^[a-zA-Z0-9_-]{21}$/,mM=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,mN=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,mO=a=>a?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${a}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,mP=mO(4),mQ=mO(6),mR=mO(7),mS=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,mT=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u;function mU(){return RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}let mV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mW=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,mX=a=>{let b=lH(a??":");return RegExp(`^(?:[0-9A-F]{2}${b}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${b}){5}[0-9a-f]{2}$`)},mY=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,mZ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,m$=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,m_=/^[A-Za-z0-9_-]*$/,m0=/^\+[1-9]\d{6,14}$/,m1="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",m2=RegExp(`^${m1}$`);function m3(a){let b="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof a.precision?-1===a.precision?`${b}`:0===a.precision?`${b}:[0-5]\\d`:`${b}:[0-5]\\d\\.\\d{${a.precision}}`:`${b}(?::[0-5]\\d(?:\\.\\d+)?)?`}function m4(a){return RegExp(`^${m3(a)}$`)}function m5(a){let b=m3({precision:a.precision}),c=["Z"];a.local&&c.push(""),a.offset&&c.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let d=`${b}(?:${c.join("|")})`;return RegExp(`^${m1}T(?:${d})$`)}let m6=a=>{let b=a?`[\\s\\S]{${a?.minimum??0},${a?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${b}$`)},m7=/^-?\d+n?$/,m8=/^-?\d+$/,m9=/^-?\d+(?:\.\d+)?$/,na=/^(?:true|false)$/i,nb=/^null$/i,nc=/^undefined$/i,nd=/^[^A-Z]*$/,ne=/^[^a-z]*$/;function nf(a,b){return RegExp(`^[A-Za-z0-9+/]{${a}}${b}$`)}function ng(a){return RegExp(`^[A-Za-z0-9_-]{${a}}$`)}let nh=nf(22,"=="),ni=ng(22),nj=nf(27,"="),nk=ng(27),nl=nf(43,"="),nm=ng(43),nn=nf(64,""),no=ng(64),np=nf(86,"=="),nq=ng(86);a.s(["base64",0,m$,"base64url",0,m_,"bigint",0,m7,"boolean",0,na,"browserEmail",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"cidrv4",0,mY,"cidrv6",0,mZ,"cuid",0,mG,"cuid2",0,mH,"date",0,m2,"datetime",()=>m5,"domain",0,/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,"duration",0,mM,"e164",0,m0,"email",0,mS,"emoji",()=>mU,"extendedDuration",0,/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,"guid",0,mN,"hex",0,/^[0-9a-fA-F]*$/,"hostname",0,/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,"html5Email",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"idnEmail",0,mT,"integer",0,m8,"ipv4",0,mV,"ipv6",0,mW,"ksuid",0,mK,"lowercase",0,nd,"mac",0,mX,"md5_base64",0,nh,"md5_base64url",0,ni,"md5_hex",0,/^[0-9a-fA-F]{32}$/,"nanoid",0,mL,"null",()=>nb,"number",0,m9,"rfc5322Email",0,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"sha1_base64",0,nj,"sha1_base64url",0,nk,"sha1_hex",0,/^[0-9a-fA-F]{40}$/,"sha256_base64",0,nl,"sha256_base64url",0,nm,"sha256_hex",0,/^[0-9a-fA-F]{64}$/,"sha384_base64",0,nn,"sha384_base64url",0,no,"sha384_hex",0,/^[0-9a-fA-F]{96}$/,"sha512_base64",0,np,"sha512_base64url",0,nq,"sha512_hex",0,/^[0-9a-fA-F]{128}$/,"string",0,m6,"time",()=>m4,"ulid",0,mI,"undefined",()=>nc,"unicodeEmail",0,mT,"uppercase",0,ne,"uuid",0,mO,"uuid4",0,mP,"uuid6",0,mQ,"uuid7",0,mR,"xid",0,mJ],68469);let nr=k6("$ZodCheck",(a,b)=>{var c;a._zod??(a._zod={}),a._zod.def=b,(c=a._zod).onattach??(c.onattach=[])}),ns={number:"number",bigint:"bigint",object:"date"},nt=k6("$ZodCheckLessThan",(a,b)=>{nr.init(a,b);let c=ns[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.maximum:c.exclusiveMaximum)??1/0;b.value<d&&(b.inclusive?c.maximum=b.value:c.exclusiveMaximum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value<=b.value:d.value<b.value)||d.issues.push({origin:c,code:"too_big",maximum:"object"==typeof b.value?b.value.getTime():b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),nu=k6("$ZodCheckGreaterThan",(a,b)=>{nr.init(a,b);let c=ns[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.minimum:c.exclusiveMinimum)??-1/0;b.value>d&&(b.inclusive?c.minimum=b.value:c.exclusiveMinimum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value>=b.value:d.value>b.value)||d.issues.push({origin:c,code:"too_small",minimum:"object"==typeof b.value?b.value.getTime():b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),nv=k6("$ZodCheckMultipleOf",(a,b)=>{nr.init(a,b),a._zod.onattach.push(a=>{var c;(c=a._zod.bag).multipleOf??(c.multipleOf=b.value)}),a._zod.check=c=>{if(typeof c.value!=typeof b.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof c.value?c.value%b.value===BigInt(0):0===ln(c.value,b.value))||c.issues.push({origin:typeof c.value,code:"not_multiple_of",divisor:b.value,input:c.value,inst:a,continue:!b.abort})}}),nw=k6("$ZodCheckNumberFormat",(a,b)=>{nr.init(a,b),b.format=b.format||"float64";let c=b.format?.includes("int"),d=c?"int":"number",[e,f]=lN[b.format];a._zod.onattach.push(a=>{let d=a._zod.bag;d.format=b.format,d.minimum=e,d.maximum=f,c&&(d.pattern=m8)}),a._zod.check=g=>{let h=g.value;if(c){if(!Number.isInteger(h))return void g.issues.push({expected:d,format:b.format,code:"invalid_type",continue:!1,input:h,inst:a});if(!Number.isSafeInteger(h))return void(h>0?g.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,inclusive:!0,continue:!b.abort}):g.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,inclusive:!0,continue:!b.abort}))}h<e&&g.issues.push({origin:"number",input:h,code:"too_small",minimum:e,inclusive:!0,inst:a,continue:!b.abort}),h>f&&g.issues.push({origin:"number",input:h,code:"too_big",maximum:f,inclusive:!0,inst:a,continue:!b.abort})}}),nx=k6("$ZodCheckBigIntFormat",(a,b)=>{nr.init(a,b);let[c,d]=lO[b.format];a._zod.onattach.push(a=>{let e=a._zod.bag;e.format=b.format,e.minimum=c,e.maximum=d}),a._zod.check=e=>{let f=e.value;f<c&&e.issues.push({origin:"bigint",input:f,code:"too_small",minimum:c,inclusive:!0,inst:a,continue:!b.abort}),f>d&&e.issues.push({origin:"bigint",input:f,code:"too_big",maximum:d,inclusive:!0,inst:a,continue:!b.abort})}}),ny=k6("$ZodCheckMaxSize",(a,b)=>{var c;nr.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!ll(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;d.size<=b.maximum||c.issues.push({origin:l$(d),code:"too_big",maximum:b.maximum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),nz=k6("$ZodCheckMinSize",(a,b)=>{var c;nr.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!ll(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;d.size>=b.minimum||c.issues.push({origin:l$(d),code:"too_small",minimum:b.minimum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),nA=k6("$ZodCheckSizeEquals",(a,b)=>{var c;nr.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!ll(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.size,c.maximum=b.size,c.size=b.size}),a._zod.check=c=>{let d=c.value,e=d.size;if(e===b.size)return;let f=e>b.size;c.issues.push({origin:l$(d),...f?{code:"too_big",maximum:b.size}:{code:"too_small",minimum:b.size},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),nB=k6("$ZodCheckMaxLength",(a,b)=>{var c;nr.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!ll(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;if(d.length<=b.maximum)return;let e=l_(d);c.issues.push({origin:e,code:"too_big",maximum:b.maximum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),nC=k6("$ZodCheckMinLength",(a,b)=>{var c;nr.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!ll(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;if(d.length>=b.minimum)return;let e=l_(d);c.issues.push({origin:e,code:"too_small",minimum:b.minimum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),nD=k6("$ZodCheckLengthEquals",(a,b)=>{var c;nr.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!ll(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.length,c.maximum=b.length,c.length=b.length}),a._zod.check=c=>{let d=c.value,e=d.length;if(e===b.length)return;let f=l_(d),g=e>b.length;c.issues.push({origin:f,...g?{code:"too_big",maximum:b.length}:{code:"too_small",minimum:b.length},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),nE=k6("$ZodCheckStringFormat",(a,b)=>{var c,d;nr.init(a,b),a._zod.onattach.push(a=>{let c=a._zod.bag;c.format=b.format,b.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(b.pattern))}),b.pattern?(c=a._zod).check??(c.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:b.format,input:c.value,...b.pattern?{pattern:b.pattern.toString()}:{},inst:a,continue:!b.abort})}):(d=a._zod).check??(d.check=()=>{})}),nF=k6("$ZodCheckRegex",(a,b)=>{nE.init(a,b),a._zod.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:"regex",input:c.value,pattern:b.pattern.toString(),inst:a,continue:!b.abort})}}),nG=k6("$ZodCheckLowerCase",(a,b)=>{b.pattern??(b.pattern=nd),nE.init(a,b)}),nH=k6("$ZodCheckUpperCase",(a,b)=>{b.pattern??(b.pattern=ne),nE.init(a,b)}),nI=k6("$ZodCheckIncludes",(a,b)=>{nr.init(a,b);let c=lH(b.includes),d=new RegExp("number"==typeof b.position?`^.{${b.position}}${c}`:c);b.pattern=d,a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(d)}),a._zod.check=c=>{c.value.includes(b.includes,b.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:b.includes,input:c.value,inst:a,continue:!b.abort})}}),nJ=k6("$ZodCheckStartsWith",(a,b)=>{nr.init(a,b);let c=RegExp(`^${lH(b.prefix)}.*`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.startsWith(b.prefix)||c.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:b.prefix,input:c.value,inst:a,continue:!b.abort})}}),nK=k6("$ZodCheckEndsWith",(a,b)=>{nr.init(a,b);let c=RegExp(`.*${lH(b.suffix)}$`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.endsWith(b.suffix)||c.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:b.suffix,input:c.value,inst:a,continue:!b.abort})}});function nL(a,b,c){a.issues.length&&b.issues.push(...lX(c,a.issues))}let nM=k6("$ZodCheckProperty",(a,b)=>{nr.init(a,b),a._zod.check=a=>{let c=b.schema._zod.run({value:a.value[b.property],issues:[]},{});if(c instanceof Promise)return c.then(c=>nL(c,a,b.property));nL(c,a,b.property)}}),nN=k6("$ZodCheckMimeType",(a,b)=>{nr.init(a,b);let c=new Set(b.mime);a._zod.onattach.push(a=>{a._zod.bag.mime=b.mime}),a._zod.check=d=>{c.has(d.value.type)||d.issues.push({code:"invalid_value",values:b.mime,input:d.value.type,inst:a,continue:!b.abort})}}),nO=k6("$ZodCheckOverwrite",(a,b)=>{nr.init(a,b),a._zod.check=a=>{a.value=b.tx(a.value)}});a.s(["$ZodCheck",0,nr,"$ZodCheckBigIntFormat",0,nx,"$ZodCheckEndsWith",0,nK,"$ZodCheckGreaterThan",0,nu,"$ZodCheckIncludes",0,nI,"$ZodCheckLengthEquals",0,nD,"$ZodCheckLessThan",0,nt,"$ZodCheckLowerCase",0,nG,"$ZodCheckMaxLength",0,nB,"$ZodCheckMaxSize",0,ny,"$ZodCheckMimeType",0,nN,"$ZodCheckMinLength",0,nC,"$ZodCheckMinSize",0,nz,"$ZodCheckMultipleOf",0,nv,"$ZodCheckNumberFormat",0,nw,"$ZodCheckOverwrite",0,nO,"$ZodCheckProperty",0,nM,"$ZodCheckRegex",0,nF,"$ZodCheckSizeEquals",0,nA,"$ZodCheckStartsWith",0,nJ,"$ZodCheckStringFormat",0,nE,"$ZodCheckUpperCase",0,nH],52273);class nP{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if("function"==typeof a){a(this,{execution:"sync"}),a(this,{execution:"async"});return}let b=a.split("\n").filter(a=>a),c=Math.min(...b.map(a=>a.length-a.trimStart().length));for(let a of b.map(a=>a.slice(c)).map(a=>" ".repeat(2*this.indent)+a))this.content.push(a)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(a=>`  ${a}`)].join("\n"))}}a.s(["Doc",()=>nP],55358);let nQ={major:4,minor:3,patch:6};a.s(["version",0,nQ],90456);let nR=k6("$ZodType",(a,b)=>{var c;a??(a={}),a._zod.def=b,a._zod.bag=a._zod.bag||{},a._zod.version=nQ;let d=[...a._zod.def.checks??[]];for(let b of(a._zod.traits.has("$ZodCheck")&&d.unshift(a),d))for(let c of b._zod.onattach)c(a);if(0===d.length)(c=a._zod).deferred??(c.deferred=[]),a._zod.deferred?.push(()=>{a._zod.run=a._zod.parse});else{let b=(a,b,c)=>{let d,e=lW(a);for(let f of b){if(f._zod.def.when){if(!f._zod.def.when(a))continue}else if(e)continue;let b=a.issues.length,g=f._zod.check(a);if(g instanceof Promise&&c?.async===!1)throw new k8;if(d||g instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await g,a.issues.length!==b&&(e||(e=lW(a,b)))});else{if(a.issues.length===b)continue;e||(e=lW(a,b))}}return d?d.then(()=>a):a},c=(c,e,f)=>{if(lW(c))return c.aborted=!0,c;let g=b(e,d,f);if(g instanceof Promise){if(!1===f.async)throw new k8;return g.then(b=>a._zod.parse(b,f))}return a._zod.parse(g,f)};a._zod.run=(e,f)=>{if(f.skipChecks)return a._zod.parse(e,f);if("backward"===f.direction){let b=a._zod.parse({value:e.value,issues:[]},{...f,skipChecks:!0});return b instanceof Promise?b.then(a=>c(a,e,f)):c(b,e,f)}let g=a._zod.parse(e,f);if(g instanceof Promise){if(!1===f.async)throw new k8;return g.then(a=>b(a,d,f))}return b(g,d,f)}}lp(a,"~standard",()=>({validate:b=>{try{let c=mn(a,b);return c.success?{value:c.data}:{issues:c.error?.issues}}catch(c){return mp(a,b).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}))}),nS=k6("$ZodString",(a,b)=>{nR.init(a,b),a._zod.pattern=[...a?._zod.bag?.patterns??[]].pop()??m6(a._zod.bag),a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=String(c.value)}catch(a){}return"string"==typeof c.value||c.issues.push({expected:"string",code:"invalid_type",input:c.value,inst:a}),c}}),nT=k6("$ZodStringFormat",(a,b)=>{nE.init(a,b),nS.init(a,b)}),nU=k6("$ZodGUID",(a,b)=>{b.pattern??(b.pattern=mN),nT.init(a,b)}),nV=k6("$ZodUUID",(a,b)=>{if(b.version){let a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[b.version];if(void 0===a)throw Error(`Invalid UUID version: "${b.version}"`);b.pattern??(b.pattern=mO(a))}else b.pattern??(b.pattern=mO());nT.init(a,b)}),nW=k6("$ZodEmail",(a,b)=>{b.pattern??(b.pattern=mS),nT.init(a,b)}),nX=k6("$ZodURL",(a,b)=>{nT.init(a,b),a._zod.check=c=>{try{let d=c.value.trim(),e=new URL(d);b.hostname&&(b.hostname.lastIndex=0,b.hostname.test(e.hostname)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:b.hostname.source,input:c.value,inst:a,continue:!b.abort})),b.protocol&&(b.protocol.lastIndex=0,b.protocol.test(e.protocol.endsWith(":")?e.protocol.slice(0,-1):e.protocol)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:b.protocol.source,input:c.value,inst:a,continue:!b.abort})),b.normalize?c.value=e.href:c.value=d;return}catch(d){c.issues.push({code:"invalid_format",format:"url",input:c.value,inst:a,continue:!b.abort})}}}),nY=k6("$ZodEmoji",(a,b)=>{b.pattern??(b.pattern=mU()),nT.init(a,b)}),nZ=k6("$ZodNanoID",(a,b)=>{b.pattern??(b.pattern=mL),nT.init(a,b)}),n$=k6("$ZodCUID",(a,b)=>{b.pattern??(b.pattern=mG),nT.init(a,b)}),n_=k6("$ZodCUID2",(a,b)=>{b.pattern??(b.pattern=mH),nT.init(a,b)}),n0=k6("$ZodULID",(a,b)=>{b.pattern??(b.pattern=mI),nT.init(a,b)}),n1=k6("$ZodXID",(a,b)=>{b.pattern??(b.pattern=mJ),nT.init(a,b)}),n2=k6("$ZodKSUID",(a,b)=>{b.pattern??(b.pattern=mK),nT.init(a,b)}),n3=k6("$ZodISODateTime",(a,b)=>{b.pattern??(b.pattern=m5(b)),nT.init(a,b)}),n4=k6("$ZodISODate",(a,b)=>{b.pattern??(b.pattern=m2),nT.init(a,b)}),n5=k6("$ZodISOTime",(a,b)=>{b.pattern??(b.pattern=m4(b)),nT.init(a,b)}),n6=k6("$ZodISODuration",(a,b)=>{b.pattern??(b.pattern=mM),nT.init(a,b)}),n7=k6("$ZodIPv4",(a,b)=>{b.pattern??(b.pattern=mV),nT.init(a,b),a._zod.bag.format="ipv4"}),n8=k6("$ZodIPv6",(a,b)=>{b.pattern??(b.pattern=mW),nT.init(a,b),a._zod.bag.format="ipv6",a._zod.check=c=>{try{new URL(`http://[${c.value}]`)}catch{c.issues.push({code:"invalid_format",format:"ipv6",input:c.value,inst:a,continue:!b.abort})}}}),n9=k6("$ZodMAC",(a,b)=>{b.pattern??(b.pattern=mX(b.delimiter)),nT.init(a,b),a._zod.bag.format="mac"}),oa=k6("$ZodCIDRv4",(a,b)=>{b.pattern??(b.pattern=mY),nT.init(a,b)}),ob=k6("$ZodCIDRv6",(a,b)=>{b.pattern??(b.pattern=mZ),nT.init(a,b),a._zod.check=c=>{let d=c.value.split("/");try{if(2!==d.length)throw Error();let[a,b]=d;if(!b)throw Error();let c=Number(b);if(`${c}`!==b||c<0||c>128)throw Error();new URL(`http://[${a}]`)}catch{c.issues.push({code:"invalid_format",format:"cidrv6",input:c.value,inst:a,continue:!b.abort})}}});function oc(a){if(""===a)return!0;if(a.length%4!=0)return!1;try{return atob(a),!0}catch{return!1}}let od=k6("$ZodBase64",(a,b)=>{b.pattern??(b.pattern=m$),nT.init(a,b),a._zod.bag.contentEncoding="base64",a._zod.check=c=>{oc(c.value)||c.issues.push({code:"invalid_format",format:"base64",input:c.value,inst:a,continue:!b.abort})}});function oe(a){if(!m_.test(a))return!1;let b=a.replace(/[-_]/g,a=>"-"===a?"+":"/");return oc(b.padEnd(4*Math.ceil(b.length/4),"="))}let of=k6("$ZodBase64URL",(a,b)=>{b.pattern??(b.pattern=m_),nT.init(a,b),a._zod.bag.contentEncoding="base64url",a._zod.check=c=>{oe(c.value)||c.issues.push({code:"invalid_format",format:"base64url",input:c.value,inst:a,continue:!b.abort})}}),og=k6("$ZodE164",(a,b)=>{b.pattern??(b.pattern=m0),nT.init(a,b)});function oh(a,b=null){try{let c=a.split(".");if(3!==c.length)return!1;let[d]=c;if(!d)return!1;let e=JSON.parse(atob(d));if("typ"in e&&e?.typ!=="JWT"||!e.alg||b&&(!("alg"in e)||e.alg!==b))return!1;return!0}catch{return!1}}let oi=k6("$ZodJWT",(a,b)=>{nT.init(a,b),a._zod.check=c=>{oh(c.value,b.alg)||c.issues.push({code:"invalid_format",format:"jwt",input:c.value,inst:a,continue:!b.abort})}}),oj=k6("$ZodCustomStringFormat",(a,b)=>{nT.init(a,b),a._zod.check=c=>{b.fn(c.value)||c.issues.push({code:"invalid_format",format:b.format,input:c.value,inst:a,continue:!b.abort})}}),ok=k6("$ZodNumber",(a,b)=>{nR.init(a,b),a._zod.pattern=a._zod.bag.pattern??m9,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=Number(c.value)}catch(a){}let e=c.value;if("number"==typeof e&&!Number.isNaN(e)&&Number.isFinite(e))return c;let f="number"==typeof e?Number.isNaN(e)?"NaN":Number.isFinite(e)?void 0:"Infinity":void 0;return c.issues.push({expected:"number",code:"invalid_type",input:e,inst:a,...f?{received:f}:{}}),c}}),ol=k6("$ZodNumberFormat",(a,b)=>{nw.init(a,b),ok.init(a,b)}),om=k6("$ZodBoolean",(a,b)=>{nR.init(a,b),a._zod.pattern=na,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=!!c.value}catch(a){}let e=c.value;return"boolean"==typeof e||c.issues.push({expected:"boolean",code:"invalid_type",input:e,inst:a}),c}}),on=k6("$ZodBigInt",(a,b)=>{nR.init(a,b),a._zod.pattern=m7,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=BigInt(c.value)}catch(a){}return"bigint"==typeof c.value||c.issues.push({expected:"bigint",code:"invalid_type",input:c.value,inst:a}),c}}),oo=k6("$ZodBigIntFormat",(a,b)=>{nx.init(a,b),on.init(a,b)}),op=k6("$ZodSymbol",(a,b)=>{nR.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return"symbol"==typeof d||b.issues.push({expected:"symbol",code:"invalid_type",input:d,inst:a}),b}}),oq=k6("$ZodUndefined",(a,b)=>{nR.init(a,b),a._zod.pattern=nc,a._zod.values=new Set([void 0]),a._zod.optin="optional",a._zod.optout="optional",a._zod.parse=(b,c)=>{let d=b.value;return void 0===d||b.issues.push({expected:"undefined",code:"invalid_type",input:d,inst:a}),b}}),or=k6("$ZodNull",(a,b)=>{nR.init(a,b),a._zod.pattern=nb,a._zod.values=new Set([null]),a._zod.parse=(b,c)=>{let d=b.value;return null===d||b.issues.push({expected:"null",code:"invalid_type",input:d,inst:a}),b}}),os=k6("$ZodAny",(a,b)=>{nR.init(a,b),a._zod.parse=a=>a}),ot=k6("$ZodUnknown",(a,b)=>{nR.init(a,b),a._zod.parse=a=>a}),ou=k6("$ZodNever",(a,b)=>{nR.init(a,b),a._zod.parse=(b,c)=>(b.issues.push({expected:"never",code:"invalid_type",input:b.value,inst:a}),b)}),ov=k6("$ZodVoid",(a,b)=>{nR.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return void 0===d||b.issues.push({expected:"void",code:"invalid_type",input:d,inst:a}),b}}),ow=k6("$ZodDate",(a,b)=>{nR.init(a,b),a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=new Date(c.value)}catch(a){}let e=c.value,f=e instanceof Date;return f&&!Number.isNaN(e.getTime())||c.issues.push({expected:"date",code:"invalid_type",input:e,...f?{received:"Invalid Date"}:{},inst:a}),c}});function ox(a,b,c){a.issues.length&&b.issues.push(...lX(c,a.issues)),b.value[c]=a.value}let oy=k6("$ZodArray",(a,b)=>{nR.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!Array.isArray(e))return c.issues.push({expected:"array",code:"invalid_type",input:e,inst:a}),c;c.value=Array(e.length);let f=[];for(let a=0;a<e.length;a++){let g=e[a],h=b.element._zod.run({value:g,issues:[]},d);h instanceof Promise?f.push(h.then(b=>ox(b,c,a))):ox(h,c,a)}return f.length?Promise.all(f).then(()=>c):c}});function oz(a,b,c,d,e){if(a.issues.length){if(e&&!(c in d))return;b.issues.push(...lX(c,a.issues))}void 0===a.value?c in d&&(b.value[c]=void 0):b.value[c]=a.value}function oA(a){let b=Object.keys(a.shape);for(let c of b)if(!a.shape?.[c]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${c}": expected a Zod schema`);let c=lM(a.shape);return{...a,keys:b,keySet:new Set(b),numKeys:b.length,optionalKeys:new Set(c)}}function oB(a,b,c,d,e,f){let g=[],h=e.keySet,i=e.catchall._zod,j=i.def.type,k="optional"===i.optout;for(let e in b){if(h.has(e))continue;if("never"===j){g.push(e);continue}let f=i.run({value:b[e],issues:[]},d);f instanceof Promise?a.push(f.then(a=>oz(a,c,e,b,k))):oz(f,c,e,b,k)}return(g.length&&c.issues.push({code:"unrecognized_keys",keys:g,input:b,inst:f}),a.length)?Promise.all(a).then(()=>c):c}let oC=k6("$ZodObject",(a,b)=>{let c;nR.init(a,b);let d=Object.getOwnPropertyDescriptor(b,"shape");if(!d?.get){let a=b.shape;Object.defineProperty(b,"shape",{get:()=>{let c={...a};return Object.defineProperty(b,"shape",{value:c}),c}})}let e=lk(()=>oA(b));lp(a._zod,"propValues",()=>{let a=b.shape,c={};for(let b in a){let d=a[b]._zod;if(d.values)for(let a of(c[b]??(c[b]=new Set),d.values))c[b].add(a)}return c});let f=b.catchall;a._zod.parse=(b,d)=>{c??(c=e.value);let g=b.value;if(!lA(g))return b.issues.push({expected:"object",code:"invalid_type",input:g,inst:a}),b;b.value={};let h=[],i=c.shape;for(let a of c.keys){let c=i[a],e="optional"===c._zod.optout,f=c._zod.run({value:g[a],issues:[]},d);f instanceof Promise?h.push(f.then(c=>oz(c,b,a,g,e))):oz(f,b,a,g,e)}return f?oB(h,g,b,d,e.value,a):h.length?Promise.all(h).then(()=>b):b}}),oD=k6("$ZodObjectJIT",(a,b)=>{let c,d;oC.init(a,b);let e=a._zod.parse,f=lk(()=>oA(b)),g=!la.jitless,h=g&&lB.value,i=b.catchall;a._zod.parse=(j,k)=>{d??(d=f.value);let l=j.value;return lA(l)?g&&h&&k?.async===!1&&!0!==k.jitless?(c||(c=(a=>{let b=new nP(["shape","payload","ctx"]),c=f.value,d=a=>{let b=lx(a);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};b.write("const input = payload.value;");let e=Object.create(null),g=0;for(let a of c.keys)e[a]=`key_${g++}`;for(let f of(b.write("const newResult = {};"),c.keys)){let c=e[f],g=lx(f),h=a[f],i=h?._zod?.optout==="optional";b.write(`const ${c} = ${d(f)};`),i?b.write(`
        if (${c}.issues.length) {
          if (${g} in input) {
            payload.issues = payload.issues.concat(${c}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${g}, ...iss.path] : [${g}]
            })));
          }
        }
        
        if (${c}.value === undefined) {
          if (${g} in input) {
            newResult[${g}] = undefined;
          }
        } else {
          newResult[${g}] = ${c}.value;
        }
        
      `):b.write(`
        if (${c}.issues.length) {
          payload.issues = payload.issues.concat(${c}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${g}, ...iss.path] : [${g}]
          })));
        }
        
        if (${c}.value === undefined) {
          if (${g} in input) {
            newResult[${g}] = undefined;
          }
        } else {
          newResult[${g}] = ${c}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");let h=b.compile();return(b,c)=>h(a,b,c)})(b.shape)),j=c(j,k),i)?oB([],l,j,k,d,a):j:e(j,k):(j.issues.push({expected:"object",code:"invalid_type",input:l,inst:a}),j)}});function oE(a,b,c,d){for(let c of a)if(0===c.issues.length)return b.value=c.value,b;let e=a.filter(a=>!lW(a));return 1===e.length?(b.value=e[0].value,e[0]):(b.issues.push({code:"invalid_union",input:b.value,inst:c,errors:a.map(a=>a.issues.map(a=>lZ(a,d,lb())))}),b)}let oF=k6("$ZodUnion",(a,b)=>{nR.init(a,b),lp(a._zod,"optin",()=>b.options.some(a=>"optional"===a._zod.optin)?"optional":void 0),lp(a._zod,"optout",()=>b.options.some(a=>"optional"===a._zod.optout)?"optional":void 0),lp(a._zod,"values",()=>{if(b.options.every(a=>a._zod.values))return new Set(b.options.flatMap(a=>Array.from(a._zod.values)))}),lp(a._zod,"pattern",()=>{if(b.options.every(a=>a._zod.pattern)){let a=b.options.map(a=>a._zod.pattern);return RegExp(`^(${a.map(a=>lm(a.source)).join("|")})$`)}});let c=1===b.options.length,d=b.options[0]._zod.run;a._zod.parse=(e,f)=>{if(c)return d(e,f);let g=!1,h=[];for(let a of b.options){let b=a._zod.run({value:e.value,issues:[]},f);if(b instanceof Promise)h.push(b),g=!0;else{if(0===b.issues.length)return b;h.push(b)}}return g?Promise.all(h).then(b=>oE(b,e,a,f)):oE(h,e,a,f)}});function oG(a,b,c,d){let e=a.filter(a=>0===a.issues.length);return 1===e.length?b.value=e[0].value:0===e.length?b.issues.push({code:"invalid_union",input:b.value,inst:c,errors:a.map(a=>a.issues.map(a=>lZ(a,d,lb())))}):b.issues.push({code:"invalid_union",input:b.value,inst:c,errors:[],inclusive:!1}),b}let oH=k6("$ZodXor",(a,b)=>{oF.init(a,b),b.inclusive=!1;let c=1===b.options.length,d=b.options[0]._zod.run;a._zod.parse=(e,f)=>{if(c)return d(e,f);let g=!1,h=[];for(let a of b.options){let b=a._zod.run({value:e.value,issues:[]},f);b instanceof Promise?(h.push(b),g=!0):h.push(b)}return g?Promise.all(h).then(b=>oG(b,e,a,f)):oG(h,e,a,f)}}),oI=k6("$ZodDiscriminatedUnion",(a,b)=>{b.inclusive=!1,oF.init(a,b);let c=a._zod.parse;lp(a._zod,"propValues",()=>{let a={};for(let c of b.options){let d=c._zod.propValues;if(!d||0===Object.keys(d).length)throw Error(`Invalid discriminated union option at index "${b.options.indexOf(c)}"`);for(let[b,c]of Object.entries(d))for(let d of(a[b]||(a[b]=new Set),c))a[b].add(d)}return a});let d=lk(()=>{let a=b.options,c=new Map;for(let d of a){let a=d._zod.propValues?.[b.discriminator];if(!a||0===a.size)throw Error(`Invalid discriminated union option at index "${b.options.indexOf(d)}"`);for(let b of a){if(c.has(b))throw Error(`Duplicate discriminator value "${String(b)}"`);c.set(b,d)}}return c});a._zod.parse=(e,f)=>{let g=e.value;if(!lA(g))return e.issues.push({code:"invalid_type",expected:"object",input:g,inst:a}),e;let h=d.value.get(g?.[b.discriminator]);return h?h._zod.run(e,f):b.unionFallback?c(e,f):(e.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:b.discriminator,input:g,path:[b.discriminator],inst:a}),e)}}),oJ=k6("$ZodIntersection",(a,b)=>{nR.init(a,b),a._zod.parse=(a,c)=>{let d=a.value,e=b.left._zod.run({value:d,issues:[]},c),f=b.right._zod.run({value:d,issues:[]},c);return e instanceof Promise||f instanceof Promise?Promise.all([e,f]).then(([b,c])=>oK(a,b,c)):oK(a,e,f)}});function oK(a,b,c){let d,e=new Map;for(let c of b.issues)if("unrecognized_keys"===c.code)for(let a of(d??(d=c),c.keys))e.has(a)||e.set(a,{}),e.get(a).l=!0;else a.issues.push(c);for(let b of c.issues)if("unrecognized_keys"===b.code)for(let a of b.keys)e.has(a)||e.set(a,{}),e.get(a).r=!0;else a.issues.push(b);let f=[...e].filter(([,a])=>a.l&&a.r).map(([a])=>a);if(f.length&&d&&a.issues.push({...d,keys:f}),lW(a))return a;let g=function a(b,c){if(b===c||b instanceof Date&&c instanceof Date&&+b==+c)return{valid:!0,data:b};if(lC(b)&&lC(c)){let d=Object.keys(c),e=Object.keys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1,mergeErrorPath:[d,...e.mergeErrorPath]};f[d]=e.data}return{valid:!0,data:f}}if(Array.isArray(b)&&Array.isArray(c)){if(b.length!==c.length)return{valid:!1,mergeErrorPath:[]};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1,mergeErrorPath:[e,...f.mergeErrorPath]};d.push(f.data)}return{valid:!0,data:d}}return{valid:!1,mergeErrorPath:[]}}(b.value,c.value);if(!g.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(g.mergeErrorPath)}`);return a.value=g.data,a}let oL=k6("$ZodTuple",(a,b)=>{nR.init(a,b);let c=b.items;a._zod.parse=(d,e)=>{let f=d.value;if(!Array.isArray(f))return d.issues.push({input:f,inst:a,expected:"tuple",code:"invalid_type"}),d;d.value=[];let g=[],h=[...c].reverse().findIndex(a=>"optional"!==a._zod.optin),i=-1===h?0:c.length-h;if(!b.rest){let b=f.length>c.length,e=f.length<i-1;if(b||e)return d.issues.push({...b?{code:"too_big",maximum:c.length,inclusive:!0}:{code:"too_small",minimum:c.length},input:f,inst:a,origin:"array"}),d}let j=-1;for(let a of c){if(++j>=f.length&&j>=i)continue;let b=a._zod.run({value:f[j],issues:[]},e);b instanceof Promise?g.push(b.then(a=>oM(a,d,j))):oM(b,d,j)}if(b.rest)for(let a of f.slice(c.length)){j++;let c=b.rest._zod.run({value:a,issues:[]},e);c instanceof Promise?g.push(c.then(a=>oM(a,d,j))):oM(c,d,j)}return g.length?Promise.all(g).then(()=>d):d}});function oM(a,b,c){a.issues.length&&b.issues.push(...lX(c,a.issues)),b.value[c]=a.value}let oN=k6("$ZodRecord",(a,b)=>{nR.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!lC(e))return c.issues.push({expected:"record",code:"invalid_type",input:e,inst:a}),c;let f=[],g=b.keyType._zod.values;if(g){let h;c.value={};let i=new Set;for(let a of g)if("string"==typeof a||"number"==typeof a||"symbol"==typeof a){i.add("number"==typeof a?a.toString():a);let g=b.valueType._zod.run({value:e[a],issues:[]},d);g instanceof Promise?f.push(g.then(b=>{b.issues.length&&c.issues.push(...lX(a,b.issues)),c.value[a]=b.value})):(g.issues.length&&c.issues.push(...lX(a,g.issues)),c.value[a]=g.value)}for(let a in e)i.has(a)||(h=h??[]).push(a);h&&h.length>0&&c.issues.push({code:"unrecognized_keys",input:e,inst:a,keys:h})}else for(let g of(c.value={},Reflect.ownKeys(e))){if("__proto__"===g)continue;let h=b.keyType._zod.run({value:g,issues:[]},d);if(h instanceof Promise)throw Error("Async schemas not supported in object keys currently");if("string"==typeof g&&m9.test(g)&&h.issues.length){let a=b.keyType._zod.run({value:Number(g),issues:[]},d);if(a instanceof Promise)throw Error("Async schemas not supported in object keys currently");0===a.issues.length&&(h=a)}if(h.issues.length){"loose"===b.mode?c.value[g]=e[g]:c.issues.push({code:"invalid_key",origin:"record",issues:h.issues.map(a=>lZ(a,d,lb())),input:g,path:[g],inst:a});continue}let i=b.valueType._zod.run({value:e[g],issues:[]},d);i instanceof Promise?f.push(i.then(a=>{a.issues.length&&c.issues.push(...lX(g,a.issues)),c.value[h.value]=a.value})):(i.issues.length&&c.issues.push(...lX(g,i.issues)),c.value[h.value]=i.value)}return f.length?Promise.all(f).then(()=>c):c}}),oO=k6("$ZodMap",(a,b)=>{nR.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!(e instanceof Map))return c.issues.push({expected:"map",code:"invalid_type",input:e,inst:a}),c;let f=[];for(let[g,h]of(c.value=new Map,e)){let i=b.keyType._zod.run({value:g,issues:[]},d),j=b.valueType._zod.run({value:h,issues:[]},d);i instanceof Promise||j instanceof Promise?f.push(Promise.all([i,j]).then(([b,f])=>{oP(b,f,c,g,e,a,d)})):oP(i,j,c,g,e,a,d)}return f.length?Promise.all(f).then(()=>c):c}});function oP(a,b,c,d,e,f,g){a.issues.length&&(lF.has(typeof d)?c.issues.push(...lX(d,a.issues)):c.issues.push({code:"invalid_key",origin:"map",input:e,inst:f,issues:a.issues.map(a=>lZ(a,g,lb()))})),b.issues.length&&(lF.has(typeof d)?c.issues.push(...lX(d,b.issues)):c.issues.push({origin:"map",code:"invalid_element",input:e,inst:f,key:d,issues:b.issues.map(a=>lZ(a,g,lb()))})),c.value.set(a.value,b.value)}let oQ=k6("$ZodSet",(a,b)=>{nR.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!(e instanceof Set))return c.issues.push({input:e,inst:a,expected:"set",code:"invalid_type"}),c;let f=[];for(let a of(c.value=new Set,e)){let e=b.valueType._zod.run({value:a,issues:[]},d);e instanceof Promise?f.push(e.then(a=>oR(a,c))):oR(e,c)}return f.length?Promise.all(f).then(()=>c):c}});function oR(a,b){a.issues.length&&b.issues.push(...a.issues),b.value.add(a.value)}let oS=k6("$ZodEnum",(a,b)=>{nR.init(a,b);let c=lh(b.entries),d=new Set(c);a._zod.values=d,a._zod.pattern=RegExp(`^(${c.filter(a=>lF.has(typeof a)).map(a=>"string"==typeof a?lH(a):a.toString()).join("|")})$`),a._zod.parse=(b,e)=>{let f=b.value;return d.has(f)||b.issues.push({code:"invalid_value",values:c,input:f,inst:a}),b}}),oT=k6("$ZodLiteral",(a,b)=>{if(nR.init(a,b),0===b.values.length)throw Error("Cannot create literal schema with no valid values");let c=new Set(b.values);a._zod.values=c,a._zod.pattern=RegExp(`^(${b.values.map(a=>"string"==typeof a?lH(a):a?lH(a.toString()):String(a)).join("|")})$`),a._zod.parse=(d,e)=>{let f=d.value;return c.has(f)||d.issues.push({code:"invalid_value",values:b.values,input:f,inst:a}),d}}),oU=k6("$ZodFile",(a,b)=>{nR.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return d instanceof File||b.issues.push({expected:"file",code:"invalid_type",input:d,inst:a}),b}}),oV=k6("$ZodTransform",(a,b)=>{nR.init(a,b),a._zod.parse=(c,d)=>{if("backward"===d.direction)throw new k9(a.constructor.name);let e=b.transform(c.value,c);if(d.async)return(e instanceof Promise?e:Promise.resolve(e)).then(a=>(c.value=a,c));if(e instanceof Promise)throw new k8;return c.value=e,c}});function oW(a,b){return a.issues.length&&void 0===b?{issues:[],value:void 0}:a}let oX=k6("$ZodOptional",(a,b)=>{nR.init(a,b),a._zod.optin="optional",a._zod.optout="optional",lp(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,void 0]):void 0),lp(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${lm(a.source)})?$`):void 0}),a._zod.parse=(a,c)=>{if("optional"===b.innerType._zod.optin){let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(b=>oW(b,a.value)):oW(d,a.value)}return void 0===a.value?a:b.innerType._zod.run(a,c)}}),oY=k6("$ZodExactOptional",(a,b)=>{oX.init(a,b),lp(a._zod,"values",()=>b.innerType._zod.values),lp(a._zod,"pattern",()=>b.innerType._zod.pattern),a._zod.parse=(a,c)=>b.innerType._zod.run(a,c)}),oZ=k6("$ZodNullable",(a,b)=>{nR.init(a,b),lp(a._zod,"optin",()=>b.innerType._zod.optin),lp(a._zod,"optout",()=>b.innerType._zod.optout),lp(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${lm(a.source)}|null)$`):void 0}),lp(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,null]):void 0),a._zod.parse=(a,c)=>null===a.value?a:b.innerType._zod.run(a,c)}),o$=k6("$ZodDefault",(a,b)=>{nR.init(a,b),a._zod.optin="optional",lp(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);if(void 0===a.value)return a.value=b.defaultValue,a;let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(a=>o_(a,b)):o_(d,b)}});function o_(a,b){return void 0===a.value&&(a.value=b.defaultValue),a}let o0=k6("$ZodPrefault",(a,b)=>{nR.init(a,b),a._zod.optin="optional",lp(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>("backward"===c.direction||void 0===a.value&&(a.value=b.defaultValue),b.innerType._zod.run(a,c))}),o1=k6("$ZodNonOptional",(a,b)=>{nR.init(a,b),lp(a._zod,"values",()=>{let a=b.innerType._zod.values;return a?new Set([...a].filter(a=>void 0!==a)):void 0}),a._zod.parse=(c,d)=>{let e=b.innerType._zod.run(c,d);return e instanceof Promise?e.then(b=>o2(b,a)):o2(e,a)}});function o2(a,b){return a.issues.length||void 0!==a.value||a.issues.push({code:"invalid_type",expected:"nonoptional",input:a.value,inst:b}),a}let o3=k6("$ZodSuccess",(a,b)=>{nR.init(a,b),a._zod.parse=(a,c)=>{if("backward"===c.direction)throw new k9("ZodSuccess");let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(b=>(a.value=0===b.issues.length,a)):(a.value=0===d.issues.length,a)}}),o4=k6("$ZodCatch",(a,b)=>{nR.init(a,b),lp(a._zod,"optin",()=>b.innerType._zod.optin),lp(a._zod,"optout",()=>b.innerType._zod.optout),lp(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(d=>(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>lZ(a,c,lb()))},input:a.value}),a.issues=[]),a)):(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>lZ(a,c,lb()))},input:a.value}),a.issues=[]),a)}}),o5=k6("$ZodNaN",(a,b)=>{nR.init(a,b),a._zod.parse=(b,c)=>("number"==typeof b.value&&Number.isNaN(b.value)||b.issues.push({input:b.value,inst:a,expected:"nan",code:"invalid_type"}),b)}),o6=k6("$ZodPipe",(a,b)=>{nR.init(a,b),lp(a._zod,"values",()=>b.in._zod.values),lp(a._zod,"optin",()=>b.in._zod.optin),lp(a._zod,"optout",()=>b.out._zod.optout),lp(a._zod,"propValues",()=>b.in._zod.propValues),a._zod.parse=(a,c)=>{if("backward"===c.direction){let d=b.out._zod.run(a,c);return d instanceof Promise?d.then(a=>o7(a,b.in,c)):o7(d,b.in,c)}let d=b.in._zod.run(a,c);return d instanceof Promise?d.then(a=>o7(a,b.out,c)):o7(d,b.out,c)}});function o7(a,b,c){return a.issues.length?(a.aborted=!0,a):b._zod.run({value:a.value,issues:a.issues},c)}let o8=k6("$ZodCodec",(a,b)=>{nR.init(a,b),lp(a._zod,"values",()=>b.in._zod.values),lp(a._zod,"optin",()=>b.in._zod.optin),lp(a._zod,"optout",()=>b.out._zod.optout),lp(a._zod,"propValues",()=>b.in._zod.propValues),a._zod.parse=(a,c)=>{if("forward"===(c.direction||"forward")){let d=b.in._zod.run(a,c);return d instanceof Promise?d.then(a=>o9(a,b,c)):o9(d,b,c)}{let d=b.out._zod.run(a,c);return d instanceof Promise?d.then(a=>o9(a,b,c)):o9(d,b,c)}}});function o9(a,b,c){if(a.issues.length)return a.aborted=!0,a;if("forward"===(c.direction||"forward")){let d=b.transform(a.value,a);return d instanceof Promise?d.then(d=>pa(a,d,b.out,c)):pa(a,d,b.out,c)}{let d=b.reverseTransform(a.value,a);return d instanceof Promise?d.then(d=>pa(a,d,b.in,c)):pa(a,d,b.in,c)}}function pa(a,b,c,d){return a.issues.length?(a.aborted=!0,a):c._zod.run({value:b,issues:a.issues},d)}let pb=k6("$ZodReadonly",(a,b)=>{nR.init(a,b),lp(a._zod,"propValues",()=>b.innerType._zod.propValues),lp(a._zod,"values",()=>b.innerType._zod.values),lp(a._zod,"optin",()=>b.innerType?._zod?.optin),lp(a._zod,"optout",()=>b.innerType?._zod?.optout),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(pc):pc(d)}});function pc(a){return a.value=Object.freeze(a.value),a}let pd=k6("$ZodTemplateLiteral",(a,b)=>{nR.init(a,b);let c=[];for(let a of b.parts)if("object"==typeof a&&null!==a){if(!a._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...a._zod.traits].shift()}`);let b=a._zod.pattern instanceof RegExp?a._zod.pattern.source:a._zod.pattern;if(!b)throw Error(`Invalid template literal part: ${a._zod.traits}`);let d=+!!b.startsWith("^"),e=b.endsWith("$")?b.length-1:b.length;c.push(b.slice(d,e))}else if(null===a||lG.has(typeof a))c.push(lH(`${a}`));else throw Error(`Invalid template literal part: ${a}`);a._zod.pattern=RegExp(`^${c.join("")}$`),a._zod.parse=(c,d)=>("string"!=typeof c.value?c.issues.push({input:c.value,inst:a,expected:"string",code:"invalid_type"}):(a._zod.pattern.lastIndex=0,a._zod.pattern.test(c.value)||c.issues.push({input:c.value,inst:a,code:"invalid_format",format:b.format??"template_literal",pattern:a._zod.pattern.source})),c)}),pe=k6("$ZodFunction",(a,b)=>(nR.init(a,b),a._def=b,a._zod.def=b,a.implement=b=>{if("function"!=typeof b)throw Error("implement() must be called with a function");return function(...c){let d=Reflect.apply(b,this,a._def.input?mj(a._def.input,c):c);return a._def.output?mj(a._def.output,d):d}},a.implementAsync=b=>{if("function"!=typeof b)throw Error("implementAsync() must be called with a function");return async function(...c){let d=a._def.input?await ml(a._def.input,c):c,e=await Reflect.apply(b,this,d);return a._def.output?await ml(a._def.output,e):e}},a._zod.parse=(b,c)=>("function"!=typeof b.value?b.issues.push({code:"invalid_type",expected:"function",input:b.value,inst:a}):a._def.output&&"promise"===a._def.output._zod.def.type?b.value=a.implementAsync(b.value):b.value=a.implement(b.value),b),a.input=(...b)=>{let c=a.constructor;return new c(Array.isArray(b[0])?{type:"function",input:new oL({type:"tuple",items:b[0],rest:b[1]}),output:a._def.output}:{type:"function",input:b[0],output:a._def.output})},a.output=b=>new a.constructor({type:"function",input:a._def.input,output:b}),a)),pf=k6("$ZodPromise",(a,b)=>{nR.init(a,b),a._zod.parse=(a,c)=>Promise.resolve(a.value).then(a=>b.innerType._zod.run({value:a,issues:[]},c))}),pg=k6("$ZodLazy",(a,b)=>{nR.init(a,b),lp(a._zod,"innerType",()=>b.getter()),lp(a._zod,"pattern",()=>a._zod.innerType?._zod?.pattern),lp(a._zod,"propValues",()=>a._zod.innerType?._zod?.propValues),lp(a._zod,"optin",()=>a._zod.innerType?._zod?.optin??void 0),lp(a._zod,"optout",()=>a._zod.innerType?._zod?.optout??void 0),a._zod.parse=(b,c)=>a._zod.innerType._zod.run(b,c)}),ph=k6("$ZodCustom",(a,b)=>{nr.init(a,b),nR.init(a,b),a._zod.parse=(a,b)=>a,a._zod.check=c=>{let d=c.value,e=b.fn(d);if(e instanceof Promise)return e.then(b=>pi(b,c,d,a));pi(e,c,d,a)}});function pi(a,b,c,d){if(!a){let a={code:"custom",input:c,inst:d,path:[...d._zod.def.path??[]],continue:!d._zod.def.abort};d._zod.def.params&&(a.params=d._zod.def.params),b.issues.push(l1(a))}}function pj(a,b,c,d){let e=Math.abs(a),f=e%10,g=e%100;return g>=11&&g<=19?d:1===f?b:f>=2&&f<=4?c:d}function pk(){let a,b,c;return{localeError:(a={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}},b={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;return`Invalid input: expected ${a}, received ${e}`}case"invalid_value":if(1===d.values.length)return`Invalid input: expected ${lL(d.values[0])}`;return`Invalid option: expected one of ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Too big: expected ${d.origin??"value"} to have ${b}${d.maximum.toString()} ${c.unit??"elements"}`;return`Too big: expected ${d.origin??"value"} to be ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Too small: expected ${d.origin} to have ${b}${d.minimum.toString()} ${c.unit}`;return`Too small: expected ${d.origin} to be ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Invalid string: must start with "${d.prefix}"`;if("ends_with"===d.format)return`Invalid string: must end with "${d.suffix}"`;if("includes"===d.format)return`Invalid string: must include "${d.includes}"`;if("regex"===d.format)return`Invalid string: must match pattern ${d.pattern}`;return`Invalid ${b[d.format]??d.format}`;case"not_multiple_of":return`Invalid number: must be a multiple of ${d.divisor}`;case"unrecognized_keys":return`Unrecognized key${d.keys.length>1?"s":""}: ${li(d.keys,", ")}`;case"invalid_key":return`Invalid key in ${d.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${d.origin}`}})}}function pl(a,b,c){return 1===Math.abs(a)?b:c}function pm(a){if(!a)return"";let b=a[a.length-1];return a+(["","","","","","",""].includes(b)?"":"")}function pn(){let a,b,c;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:" (Array)",null:" (null)"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`  instanceof ${d.expected}  ${e}`;return`  ${a}  ${e}`}case"invalid_value":if(1===d.values.length)return`  ${lL(d.values[0])}`;return`  ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`  ${d.origin??""} ${b} ${d.maximum.toString()} ${c.unit??""}`;return`  ${d.origin??""} ${b} ${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`  ${d.origin} ${b} ${d.minimum.toString()} ${c.unit}`;return`  ${d.origin} ${b} ${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`  "${d.prefix}"`;if("ends_with"===d.format)return`  "${d.suffix}"`;if("includes"===d.format)return`  "${d.includes}"`;if("regex"===d.format)return`  ${d.pattern}`;return` ${b[d.format]??d.format}`;case"not_multiple_of":return`  ${d.divisor}`;case"unrecognized_keys":return` ${li(d.keys,", ")}`;case"invalid_key":return` ${d.origin}`;case"invalid_union":default:return``;case"invalid_element":return` ${d.origin}`}})}}a.s(["$ZodAny",0,os,"$ZodArray",0,oy,"$ZodBase64",0,od,"$ZodBase64URL",0,of,"$ZodBigInt",0,on,"$ZodBigIntFormat",0,oo,"$ZodBoolean",0,om,"$ZodCIDRv4",0,oa,"$ZodCIDRv6",0,ob,"$ZodCUID",0,n$,"$ZodCUID2",0,n_,"$ZodCatch",0,o4,"$ZodCodec",0,o8,"$ZodCustom",0,ph,"$ZodCustomStringFormat",0,oj,"$ZodDate",0,ow,"$ZodDefault",0,o$,"$ZodDiscriminatedUnion",0,oI,"$ZodE164",0,og,"$ZodEmail",0,nW,"$ZodEmoji",0,nY,"$ZodEnum",0,oS,"$ZodExactOptional",0,oY,"$ZodFile",0,oU,"$ZodFunction",0,pe,"$ZodGUID",0,nU,"$ZodIPv4",0,n7,"$ZodIPv6",0,n8,"$ZodISODate",0,n4,"$ZodISODateTime",0,n3,"$ZodISODuration",0,n6,"$ZodISOTime",0,n5,"$ZodIntersection",0,oJ,"$ZodJWT",0,oi,"$ZodKSUID",0,n2,"$ZodLazy",0,pg,"$ZodLiteral",0,oT,"$ZodMAC",0,n9,"$ZodMap",0,oO,"$ZodNaN",0,o5,"$ZodNanoID",0,nZ,"$ZodNever",0,ou,"$ZodNonOptional",0,o1,"$ZodNull",0,or,"$ZodNullable",0,oZ,"$ZodNumber",0,ok,"$ZodNumberFormat",0,ol,"$ZodObject",0,oC,"$ZodObjectJIT",0,oD,"$ZodOptional",0,oX,"$ZodPipe",0,o6,"$ZodPrefault",0,o0,"$ZodPromise",0,pf,"$ZodReadonly",0,pb,"$ZodRecord",0,oN,"$ZodSet",0,oQ,"$ZodString",0,nS,"$ZodStringFormat",0,nT,"$ZodSuccess",0,o3,"$ZodSymbol",0,op,"$ZodTemplateLiteral",0,pd,"$ZodTransform",0,oV,"$ZodTuple",0,oL,"$ZodType",0,nR,"$ZodULID",0,n0,"$ZodURL",0,nX,"$ZodUUID",0,nV,"$ZodUndefined",0,oq,"$ZodUnion",0,oF,"$ZodUnknown",0,ot,"$ZodVoid",0,ov,"$ZodXID",0,n1,"$ZodXor",0,oH,"isValidBase64",()=>oc,"isValidBase64URL",()=>oe,"isValidJWT",()=>oh],34684);let po=a=>a.charAt(0).toUpperCase()+a.slice(1);function pp(a){let b=Math.abs(a),c=b%10,d=b%100;return d>=11&&d<=19||0===c?"many":1===c?"one":"few"}function pq(a,b,c,d){let e=Math.abs(a),f=e%10,g=e%100;return g>=11&&g<=19?d:1===f?b:f>=2&&f<=4?c:d}function pr(){let a,b,c;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "},c={nan:"NaN",number:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`  :  instanceof ${d.expected},  ${e}`;return`  :  ${a},  ${e}`}case"invalid_value":if(1===d.values.length)return`  :  ${lL(d.values[0])}`;return` :    ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` : ,  ${d.origin??""} ${c.verb} ${b}${d.maximum.toString()} ${c.unit??""}`;return` : ,  ${d.origin??""}  ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` : ,  ${d.origin} ${c.verb} ${b}${d.minimum.toString()} ${c.unit}`;return` : ,  ${d.origin}  ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return` :    "${d.prefix}"`;if("ends_with"===d.format)return` :    "${d.suffix}"`;if("includes"===d.format)return` :   "${d.includes}"`;if("regex"===d.format)return` :    ${d.pattern}`;return` ${b[d.format]??d.format}`;case"not_multiple_of":return` :    ${d.divisor}`;case"unrecognized_keys":return` ${d.keys.length>1?"":""}: ${li(d.keys,", ")}`;case"invalid_key":return`   ${d.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${d.origin}`;default:return`  `}})}}a.s([],36600);let ps=Symbol("ZodOutput"),pt=Symbol("ZodInput");class pu{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...b){let c=b[0];return this._map.set(a,c),c&&"object"==typeof c&&"id"in c&&this._idmap.set(c.id,a),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){let b=this._map.get(a);return b&&"object"==typeof b&&"id"in b&&this._idmap.delete(b.id),this._map.delete(a),this}get(a){let b=a._zod.parent;if(b){let c={...this.get(b)??{}};delete c.id;let d={...c,...this._map.get(a)};return Object.keys(d).length?d:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function pv(){return new pu}(n=globalThis).__zod_globalRegistry??(n.__zod_globalRegistry=pv());let pw=globalThis.__zod_globalRegistry;function px(a,b){return new a({type:"string",...lJ(b)})}function py(a,b){return new a({type:"string",coerce:!0,...lJ(b)})}function pz(a,b){return new a({type:"string",format:"email",check:"string_format",abort:!1,...lJ(b)})}function pA(a,b){return new a({type:"string",format:"guid",check:"string_format",abort:!1,...lJ(b)})}function pB(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,...lJ(b)})}function pC(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...lJ(b)})}function pD(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...lJ(b)})}function pE(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...lJ(b)})}function pF(a,b){return new a({type:"string",format:"url",check:"string_format",abort:!1,...lJ(b)})}function pG(a,b){return new a({type:"string",format:"emoji",check:"string_format",abort:!1,...lJ(b)})}function pH(a,b){return new a({type:"string",format:"nanoid",check:"string_format",abort:!1,...lJ(b)})}function pI(a,b){return new a({type:"string",format:"cuid",check:"string_format",abort:!1,...lJ(b)})}function pJ(a,b){return new a({type:"string",format:"cuid2",check:"string_format",abort:!1,...lJ(b)})}function pK(a,b){return new a({type:"string",format:"ulid",check:"string_format",abort:!1,...lJ(b)})}function pL(a,b){return new a({type:"string",format:"xid",check:"string_format",abort:!1,...lJ(b)})}function pM(a,b){return new a({type:"string",format:"ksuid",check:"string_format",abort:!1,...lJ(b)})}function pN(a,b){return new a({type:"string",format:"ipv4",check:"string_format",abort:!1,...lJ(b)})}function pO(a,b){return new a({type:"string",format:"ipv6",check:"string_format",abort:!1,...lJ(b)})}function pP(a,b){return new a({type:"string",format:"mac",check:"string_format",abort:!1,...lJ(b)})}function pQ(a,b){return new a({type:"string",format:"cidrv4",check:"string_format",abort:!1,...lJ(b)})}function pR(a,b){return new a({type:"string",format:"cidrv6",check:"string_format",abort:!1,...lJ(b)})}function pS(a,b){return new a({type:"string",format:"base64",check:"string_format",abort:!1,...lJ(b)})}function pT(a,b){return new a({type:"string",format:"base64url",check:"string_format",abort:!1,...lJ(b)})}function pU(a,b){return new a({type:"string",format:"e164",check:"string_format",abort:!1,...lJ(b)})}function pV(a,b){return new a({type:"string",format:"jwt",check:"string_format",abort:!1,...lJ(b)})}a.s(["$ZodRegistry",()=>pu,"$input",0,pt,"$output",0,ps,"globalRegistry",0,pw,"registry",()=>pv],44123);let pW={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function pX(a,b){return new a({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...lJ(b)})}function pY(a,b){return new a({type:"string",format:"date",check:"string_format",...lJ(b)})}function pZ(a,b){return new a({type:"string",format:"time",check:"string_format",precision:null,...lJ(b)})}function p$(a,b){return new a({type:"string",format:"duration",check:"string_format",...lJ(b)})}function p_(a,b){return new a({type:"number",checks:[],...lJ(b)})}function p0(a,b){return new a({type:"number",coerce:!0,checks:[],...lJ(b)})}function p1(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"safeint",...lJ(b)})}function p2(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"float32",...lJ(b)})}function p3(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"float64",...lJ(b)})}function p4(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"int32",...lJ(b)})}function p5(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"uint32",...lJ(b)})}function p6(a,b){return new a({type:"boolean",...lJ(b)})}function p7(a,b){return new a({type:"boolean",coerce:!0,...lJ(b)})}function p8(a,b){return new a({type:"bigint",...lJ(b)})}function p9(a,b){return new a({type:"bigint",coerce:!0,...lJ(b)})}function qa(a,b){return new a({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...lJ(b)})}function qb(a,b){return new a({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...lJ(b)})}function qc(a,b){return new a({type:"symbol",...lJ(b)})}function qd(a,b){return new a({type:"undefined",...lJ(b)})}function qe(a,b){return new a({type:"null",...lJ(b)})}function qf(a){return new a({type:"any"})}function qg(a){return new a({type:"unknown"})}function qh(a,b){return new a({type:"never",...lJ(b)})}function qi(a,b){return new a({type:"void",...lJ(b)})}function qj(a,b){return new a({type:"date",...lJ(b)})}function qk(a,b){return new a({type:"date",coerce:!0,...lJ(b)})}function ql(a,b){return new a({type:"nan",...lJ(b)})}function qm(a,b){return new nt({check:"less_than",...lJ(b),value:a,inclusive:!1})}function qn(a,b){return new nt({check:"less_than",...lJ(b),value:a,inclusive:!0})}function qo(a,b){return new nu({check:"greater_than",...lJ(b),value:a,inclusive:!1})}function qp(a,b){return new nu({check:"greater_than",...lJ(b),value:a,inclusive:!0})}function qq(a){return qo(0,a)}function qr(a){return qm(0,a)}function qs(a){return qn(0,a)}function qt(a){return qp(0,a)}function qu(a,b){return new nv({check:"multiple_of",...lJ(b),value:a})}function qv(a,b){return new ny({check:"max_size",...lJ(b),maximum:a})}function qw(a,b){return new nz({check:"min_size",...lJ(b),minimum:a})}function qx(a,b){return new nA({check:"size_equals",...lJ(b),size:a})}function qy(a,b){return new nB({check:"max_length",...lJ(b),maximum:a})}function qz(a,b){return new nC({check:"min_length",...lJ(b),minimum:a})}function qA(a,b){return new nD({check:"length_equals",...lJ(b),length:a})}function qB(a,b){return new nF({check:"string_format",format:"regex",...lJ(b),pattern:a})}function qC(a){return new nG({check:"string_format",format:"lowercase",...lJ(a)})}function qD(a){return new nH({check:"string_format",format:"uppercase",...lJ(a)})}function qE(a,b){return new nI({check:"string_format",format:"includes",...lJ(b),includes:a})}function qF(a,b){return new nJ({check:"string_format",format:"starts_with",...lJ(b),prefix:a})}function qG(a,b){return new nK({check:"string_format",format:"ends_with",...lJ(b),suffix:a})}function qH(a,b,c){return new nM({check:"property",property:a,schema:b,...lJ(c)})}function qI(a,b){return new nN({check:"mime_type",mime:a,...lJ(b)})}function qJ(a){return new nO({check:"overwrite",tx:a})}function qK(a){return qJ(b=>b.normalize(a))}function qL(){return qJ(a=>a.trim())}function qM(){return qJ(a=>a.toLowerCase())}function qN(){return qJ(a=>a.toUpperCase())}function qO(){return qJ(a=>ly(a))}function qP(a,b,c){return new a({type:"array",element:b,...lJ(c)})}function qQ(a,b,c){return new a({type:"union",options:b,...lJ(c)})}function qR(a,b,c){return new a({type:"union",options:b,inclusive:!1,...lJ(c)})}function qS(a,b,c,d){return new a({type:"union",options:c,discriminator:b,...lJ(d)})}function qT(a,b,c){return new a({type:"intersection",left:b,right:c})}function qU(a,b,c,d){let e=c instanceof nR,f=e?d:c;return new a({type:"tuple",items:b,rest:e?c:null,...lJ(f)})}function qV(a,b,c,d){return new a({type:"record",keyType:b,valueType:c,...lJ(d)})}function qW(a,b,c,d){return new a({type:"map",keyType:b,valueType:c,...lJ(d)})}function qX(a,b,c){return new a({type:"set",valueType:b,...lJ(c)})}function qY(a,b,c){return new a({type:"enum",entries:Array.isArray(b)?Object.fromEntries(b.map(a=>[a,a])):b,...lJ(c)})}function qZ(a,b,c){return new a({type:"enum",entries:b,...lJ(c)})}function q$(a,b,c){return new a({type:"literal",values:Array.isArray(b)?b:[b],...lJ(c)})}function q_(a,b){return new a({type:"file",...lJ(b)})}function q0(a,b){return new a({type:"transform",transform:b})}function q1(a,b){return new a({type:"optional",innerType:b})}function q2(a,b){return new a({type:"nullable",innerType:b})}function q3(a,b,c){return new a({type:"default",innerType:b,get defaultValue(){return"function"==typeof c?c():lD(c)}})}function q4(a,b,c){return new a({type:"nonoptional",innerType:b,...lJ(c)})}function q5(a,b){return new a({type:"success",innerType:b})}function q6(a,b,c){return new a({type:"catch",innerType:b,catchValue:"function"==typeof c?c:()=>c})}function q7(a,b,c){return new a({type:"pipe",in:b,out:c})}function q8(a,b){return new a({type:"readonly",innerType:b})}function q9(a,b,c){return new a({type:"template_literal",parts:b,...lJ(c)})}function ra(a,b){return new a({type:"lazy",getter:b})}function rb(a,b){return new a({type:"promise",innerType:b})}function rc(a,b,c){let d=lJ(c);return d.abort??(d.abort=!0),new a({type:"custom",check:"custom",fn:b,...d})}function rd(a,b,c){return new a({type:"custom",check:"custom",fn:b,...lJ(c)})}function re(a){let b=rf(c=>(c.addIssue=a=>{"string"==typeof a?c.issues.push(l1(a,c.value,b._zod.def)):(a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=c.value),a.inst??(a.inst=b),a.continue??(a.continue=!b._zod.def.abort),c.issues.push(l1(a)))},a(c.value,c)));return b}function rf(a,b){let c=new nr({check:"custom",...lJ(b)});return c._zod.check=a,c}function rg(a){let b=new nr({check:"describe"});return b._zod.onattach=[b=>{let c=pw.get(b)??{};pw.add(b,{...c,description:a})}],b._zod.check=()=>{},b}function rh(a){let b=new nr({check:"meta"});return b._zod.onattach=[b=>{let c=pw.get(b)??{};pw.add(b,{...c,...a})}],b._zod.check=()=>{},b}function ri(a,b){let c=lJ(b),d=c.truthy??["true","1","yes","on","y","enabled"],e=c.falsy??["false","0","no","off","n","disabled"];"sensitive"!==c.case&&(d=d.map(a=>"string"==typeof a?a.toLowerCase():a),e=e.map(a=>"string"==typeof a?a.toLowerCase():a));let f=new Set(d),g=new Set(e),h=a.Codec??o8,i=a.Boolean??om,j=new h({type:"pipe",in:new(a.String??nS)({type:"string",error:c.error}),out:new i({type:"boolean",error:c.error}),transform:(a,b)=>{let d=a;return"sensitive"!==c.case&&(d=d.toLowerCase()),!!f.has(d)||!g.has(d)&&(b.issues.push({code:"invalid_value",expected:"stringbool",values:[...f,...g],input:b.value,inst:j,continue:!1}),{})},reverseTransform:(a,b)=>!0===a?d[0]||"true":e[0]||"false",error:c.error});return j}function rj(a,b,c,d={}){let e=lJ(d),f={...lJ(d),check:"string_format",type:"string",format:b,fn:"function"==typeof c?c:a=>c.test(a),...e};return c instanceof RegExp&&(f.pattern=c),new a(f)}function rk(a){let b=a?.target??"draft-2020-12";return"draft-4"===b&&(b="draft-04"),"draft-7"===b&&(b="draft-07"),{processors:a.processors??{},metadataRegistry:a?.metadata??pw,target:b,unrepresentable:a?.unrepresentable??"throw",override:a?.override??(()=>{}),io:a?.io??"output",counter:0,seen:new Map,cycles:a?.cycles??"ref",reused:a?.reused??"inline",external:a?.external??void 0}}function rl(a,b,c={path:[],schemaPath:[]}){var d;let e=a._zod.def,f=b.seen.get(a);if(f)return f.count++,c.schemaPath.includes(a)&&(f.cycle=c.path),f.schema;let g={schema:{},count:1,cycle:void 0,path:c.path};b.seen.set(a,g);let h=a._zod.toJSONSchema?.();if(h)g.schema=h;else{let d={...c,schemaPath:[...c.schemaPath,a],path:c.path};if(a._zod.processJSONSchema)a._zod.processJSONSchema(b,g.schema,d);else{let c=g.schema,f=b.processors[e.type];if(!f)throw Error(`[toJSONSchema]: Non-representable type encountered: ${e.type}`);f(a,b,c,d)}let f=a._zod.parent;f&&(g.ref||(g.ref=f),rl(f,b,d),b.seen.get(f).isParent=!0)}let i=b.metadataRegistry.get(a);return i&&Object.assign(g.schema,i),"input"===b.io&&function a(b,c){let d=c??{seen:new Set};if(d.seen.has(b))return!1;d.seen.add(b);let e=b._zod.def;if("transform"===e.type)return!0;if("array"===e.type)return a(e.element,d);if("set"===e.type)return a(e.valueType,d);if("lazy"===e.type)return a(e.getter(),d);if("promise"===e.type||"optional"===e.type||"nonoptional"===e.type||"nullable"===e.type||"readonly"===e.type||"default"===e.type||"prefault"===e.type)return a(e.innerType,d);if("intersection"===e.type)return a(e.left,d)||a(e.right,d);if("record"===e.type||"map"===e.type)return a(e.keyType,d)||a(e.valueType,d);if("pipe"===e.type)return a(e.in,d)||a(e.out,d);if("object"===e.type){for(let b in e.shape)if(a(e.shape[b],d))return!0;return!1}if("union"===e.type){for(let b of e.options)if(a(b,d))return!0;return!1}if("tuple"===e.type){for(let b of e.items)if(a(b,d))return!0;if(e.rest&&a(e.rest,d))return!0}return!1}(a)&&(delete g.schema.examples,delete g.schema.default),"input"===b.io&&g.schema._prefault&&((d=g.schema).default??(d.default=g.schema._prefault)),delete g.schema._prefault,b.seen.get(a).schema}function rm(a,b){let c=a.seen.get(b);if(!c)throw Error("Unprocessed schema. This is a bug in Zod.");let d=new Map;for(let b of a.seen.entries()){let c=a.metadataRegistry.get(b[0])?.id;if(c){let a=d.get(c);if(a&&a!==b[0])throw Error(`Duplicate schema id "${c}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);d.set(c,b[0])}}let e=b=>{if(b[1].schema.$ref)return;let d=b[1],{ref:e,defId:f}=(b=>{let d="draft-2020-12"===a.target?"$defs":"definitions";if(a.external){let c=a.external.registry.get(b[0])?.id,e=a.external.uri??(a=>a);if(c)return{ref:e(c)};let f=b[1].defId??b[1].schema.id??`schema${a.counter++}`;return b[1].defId=f,{defId:f,ref:`${e("__shared")}#/${d}/${f}`}}if(b[1]===c)return{ref:"#"};let e=`#/${d}/`,f=b[1].schema.id??`__schema${a.counter++}`;return{defId:f,ref:e+f}})(b);d.def={...d.schema},f&&(d.defId=f);let g=d.schema;for(let a in g)delete g[a];g.$ref=e};if("throw"===a.cycles)for(let b of a.seen.entries()){let a=b[1];if(a.cycle)throw Error(`Cycle detected: #/${a.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let c of a.seen.entries()){let d=c[1];if(b===c[0]){e(c);continue}if(a.external){let d=a.external.registry.get(c[0])?.id;if(b!==c[0]&&d){e(c);continue}}if(a.metadataRegistry.get(c[0])?.id||d.cycle||d.count>1&&"ref"===a.reused){e(c);continue}}}function rn(a,b){let c=a.seen.get(b);if(!c)throw Error("Unprocessed schema. This is a bug in Zod.");let d=b=>{let c=a.seen.get(b);if(null===c.ref)return;let e=c.def??c.schema,f={...e},g=c.ref;if(c.ref=null,g){d(g);let c=a.seen.get(g),h=c.schema;if(h.$ref&&("draft-07"===a.target||"draft-04"===a.target||"openapi-3.0"===a.target)?(e.allOf=e.allOf??[],e.allOf.push(h)):Object.assign(e,h),Object.assign(e,f),b._zod.parent===g)for(let a in e)"$ref"!==a&&"allOf"!==a&&(a in f||delete e[a]);if(h.$ref&&c.def)for(let a in e)"$ref"!==a&&"allOf"!==a&&a in c.def&&JSON.stringify(e[a])===JSON.stringify(c.def[a])&&delete e[a]}let h=b._zod.parent;if(h&&h!==g){d(h);let b=a.seen.get(h);if(b?.schema.$ref&&(e.$ref=b.schema.$ref,b.def))for(let a in e)"$ref"!==a&&"allOf"!==a&&a in b.def&&JSON.stringify(e[a])===JSON.stringify(b.def[a])&&delete e[a]}a.override({zodSchema:b,jsonSchema:e,path:c.path??[]})};for(let b of[...a.seen.entries()].reverse())d(b[0]);let e={};if("draft-2020-12"===a.target?e.$schema="https://json-schema.org/draft/2020-12/schema":"draft-07"===a.target?e.$schema="http://json-schema.org/draft-07/schema#":"draft-04"===a.target?e.$schema="http://json-schema.org/draft-04/schema#":a.target,a.external?.uri){let c=a.external.registry.get(b)?.id;if(!c)throw Error("Schema is missing an `id` property");e.$id=a.external.uri(c)}Object.assign(e,c.def??c.schema);let f=a.external?.defs??{};for(let b of a.seen.entries()){let a=b[1];a.def&&a.defId&&(f[a.defId]=a.def)}a.external||Object.keys(f).length>0&&("draft-2020-12"===a.target?e.$defs=f:e.definitions=f);try{let c=JSON.parse(JSON.stringify(e));return Object.defineProperty(c,"~standard",{value:{...b["~standard"],jsonSchema:{input:rp(b,"input",a.processors),output:rp(b,"output",a.processors)}},enumerable:!1,writable:!1}),c}catch(a){throw Error("Error converting schema to JSON.")}}a.s(["TimePrecision",0,pW,"_any",()=>qf,"_array",()=>qP,"_base64",()=>pS,"_base64url",()=>pT,"_bigint",()=>p8,"_boolean",()=>p6,"_catch",()=>q6,"_check",()=>rf,"_cidrv4",()=>pQ,"_cidrv6",()=>pR,"_coercedBigint",()=>p9,"_coercedBoolean",()=>p7,"_coercedDate",()=>qk,"_coercedNumber",()=>p0,"_coercedString",()=>py,"_cuid",()=>pI,"_cuid2",()=>pJ,"_custom",()=>rc,"_date",()=>qj,"_default",()=>q3,"_discriminatedUnion",()=>qS,"_e164",()=>pU,"_email",()=>pz,"_emoji",()=>pG,"_endsWith",()=>qG,"_enum",()=>qY,"_file",()=>q_,"_float32",()=>p2,"_float64",()=>p3,"_gt",()=>qo,"_gte",()=>qp,"_guid",()=>pA,"_includes",()=>qE,"_int",()=>p1,"_int32",()=>p4,"_int64",()=>qa,"_intersection",()=>qT,"_ipv4",()=>pN,"_ipv6",()=>pO,"_isoDate",()=>pY,"_isoDateTime",()=>pX,"_isoDuration",()=>p$,"_isoTime",()=>pZ,"_jwt",()=>pV,"_ksuid",()=>pM,"_lazy",()=>ra,"_length",()=>qA,"_literal",()=>q$,"_lowercase",()=>qC,"_lt",()=>qm,"_lte",()=>qn,"_mac",()=>pP,"_map",()=>qW,"_max",()=>qn,"_maxLength",()=>qy,"_maxSize",()=>qv,"_mime",()=>qI,"_min",()=>qp,"_minLength",()=>qz,"_minSize",()=>qw,"_multipleOf",()=>qu,"_nan",()=>ql,"_nanoid",()=>pH,"_nativeEnum",()=>qZ,"_negative",()=>qr,"_never",()=>qh,"_nonnegative",()=>qt,"_nonoptional",()=>q4,"_nonpositive",()=>qs,"_normalize",()=>qK,"_null",()=>qe,"_nullable",()=>q2,"_number",()=>p_,"_optional",()=>q1,"_overwrite",()=>qJ,"_pipe",()=>q7,"_positive",()=>qq,"_promise",()=>rb,"_property",()=>qH,"_readonly",()=>q8,"_record",()=>qV,"_refine",()=>rd,"_regex",()=>qB,"_set",()=>qX,"_size",()=>qx,"_slugify",()=>qO,"_startsWith",()=>qF,"_string",()=>px,"_stringFormat",()=>rj,"_stringbool",()=>ri,"_success",()=>q5,"_superRefine",()=>re,"_symbol",()=>qc,"_templateLiteral",()=>q9,"_toLowerCase",()=>qM,"_toUpperCase",()=>qN,"_transform",()=>q0,"_trim",()=>qL,"_tuple",()=>qU,"_uint32",()=>p5,"_uint64",()=>qb,"_ulid",()=>pK,"_undefined",()=>qd,"_union",()=>qQ,"_unknown",()=>qg,"_uppercase",()=>qD,"_url",()=>pF,"_uuid",()=>pB,"_uuidv4",()=>pC,"_uuidv6",()=>pD,"_uuidv7",()=>pE,"_void",()=>qi,"_xid",()=>pL,"_xor",()=>qR,"describe",()=>rg,"meta",()=>rh],88688);let ro=(a,b={})=>c=>{let d=rk({...c,processors:b});return rl(a,d),rm(d,a),rn(d,a)},rp=(a,b,c={})=>d=>{let{libraryOptions:e,target:f}=d??{},g=rk({...e??{},target:f,io:b,processors:c});return rl(a,g),rm(g,a),rn(g,a)};a.s(["createStandardJSONSchemaMethod",0,rp,"createToJSONSchemaMethod",0,ro,"extractDefs",()=>rm,"finalize",()=>rn,"initializeContext",()=>rk,"process",()=>rl],32607);let rq={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},rr=(a,b,c,d)=>{c.type="string";let{minimum:e,maximum:f,format:g,patterns:h,contentEncoding:i}=a._zod.bag;if("number"==typeof e&&(c.minLength=e),"number"==typeof f&&(c.maxLength=f),g&&(c.format=rq[g]??g,""===c.format&&delete c.format,"time"===g&&delete c.format),i&&(c.contentEncoding=i),h&&h.size>0){let a=[...h];1===a.length?c.pattern=a[0].source:a.length>1&&(c.allOf=[...a.map(a=>({..."draft-07"===b.target||"draft-04"===b.target||"openapi-3.0"===b.target?{type:"string"}:{},pattern:a.source}))])}},rs=(a,b,c,d)=>{let{minimum:e,maximum:f,format:g,multipleOf:h,exclusiveMaximum:i,exclusiveMinimum:j}=a._zod.bag;"string"==typeof g&&g.includes("int")?c.type="integer":c.type="number","number"==typeof j&&("draft-04"===b.target||"openapi-3.0"===b.target?(c.minimum=j,c.exclusiveMinimum=!0):c.exclusiveMinimum=j),"number"==typeof e&&(c.minimum=e,"number"==typeof j&&"draft-04"!==b.target&&(j>=e?delete c.minimum:delete c.exclusiveMinimum)),"number"==typeof i&&("draft-04"===b.target||"openapi-3.0"===b.target?(c.maximum=i,c.exclusiveMaximum=!0):c.exclusiveMaximum=i),"number"==typeof f&&(c.maximum=f,"number"==typeof i&&"draft-04"!==b.target&&(i<=f?delete c.maximum:delete c.exclusiveMaximum)),"number"==typeof h&&(c.multipleOf=h)},rt=(a,b,c,d)=>{c.type="boolean"},ru=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema")},rv=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema")},rw=(a,b,c,d)=>{"openapi-3.0"===b.target?(c.type="string",c.nullable=!0,c.enum=[null]):c.type="null"},rx=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema")},ry=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Void cannot be represented in JSON Schema")},rz=(a,b,c,d)=>{c.not={}},rA=(a,b,c,d)=>{},rB=(a,b,c,d)=>{},rC=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Date cannot be represented in JSON Schema")},rD=(a,b,c,d)=>{let e=lh(a._zod.def.entries);e.every(a=>"number"==typeof a)&&(c.type="number"),e.every(a=>"string"==typeof a)&&(c.type="string"),c.enum=e},rE=(a,b,c,d)=>{let e=a._zod.def,f=[];for(let a of e.values)if(void 0===a){if("throw"===b.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof a)if("throw"===b.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else f.push(Number(a));else f.push(a);if(0===f.length);else if(1===f.length){let a=f[0];c.type=null===a?"null":typeof a,"draft-04"===b.target||"openapi-3.0"===b.target?c.enum=[a]:c.const=a}else f.every(a=>"number"==typeof a)&&(c.type="number"),f.every(a=>"string"==typeof a)&&(c.type="string"),f.every(a=>"boolean"==typeof a)&&(c.type="boolean"),f.every(a=>null===a)&&(c.type="null"),c.enum=f},rF=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("NaN cannot be represented in JSON Schema")},rG=(a,b,c,d)=>{let e=a._zod.pattern;if(!e)throw Error("Pattern not found in template literal");c.type="string",c.pattern=e.source},rH=(a,b,c,d)=>{let e={type:"string",format:"binary",contentEncoding:"binary"},{minimum:f,maximum:g,mime:h}=a._zod.bag;void 0!==f&&(e.minLength=f),void 0!==g&&(e.maxLength=g),h?1===h.length?(e.contentMediaType=h[0],Object.assign(c,e)):(Object.assign(c,e),c.anyOf=h.map(a=>({contentMediaType:a}))):Object.assign(c,e)},rI=(a,b,c,d)=>{c.type="boolean"},rJ=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema")},rK=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Function types cannot be represented in JSON Schema")},rL=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema")},rM=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Map cannot be represented in JSON Schema")},rN=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Set cannot be represented in JSON Schema")},rO=(a,b,c,d)=>{let e=a._zod.def,{minimum:f,maximum:g}=a._zod.bag;"number"==typeof f&&(c.minItems=f),"number"==typeof g&&(c.maxItems=g),c.type="array",c.items=rl(e.element,b,{...d,path:[...d.path,"items"]})},rP=(a,b,c,d)=>{let e=a._zod.def;c.type="object",c.properties={};let f=e.shape;for(let a in f)c.properties[a]=rl(f[a],b,{...d,path:[...d.path,"properties",a]});let g=new Set([...new Set(Object.keys(f))].filter(a=>{let c=e.shape[a]._zod;return"input"===b.io?void 0===c.optin:void 0===c.optout}));g.size>0&&(c.required=Array.from(g)),e.catchall?._zod.def.type==="never"?c.additionalProperties=!1:e.catchall?e.catchall&&(c.additionalProperties=rl(e.catchall,b,{...d,path:[...d.path,"additionalProperties"]})):"output"===b.io&&(c.additionalProperties=!1)},rQ=(a,b,c,d)=>{let e=a._zod.def,f=!1===e.inclusive,g=e.options.map((a,c)=>rl(a,b,{...d,path:[...d.path,f?"oneOf":"anyOf",c]}));f?c.oneOf=g:c.anyOf=g},rR=(a,b,c,d)=>{let e=a._zod.def,f=rl(e.left,b,{...d,path:[...d.path,"allOf",0]}),g=rl(e.right,b,{...d,path:[...d.path,"allOf",1]}),h=a=>"allOf"in a&&1===Object.keys(a).length;c.allOf=[...h(f)?f.allOf:[f],...h(g)?g.allOf:[g]]},rS=(a,b,c,d)=>{let e=a._zod.def;c.type="array";let f="draft-2020-12"===b.target?"prefixItems":"items",g="draft-2020-12"===b.target||"openapi-3.0"===b.target?"items":"additionalItems",h=e.items.map((a,c)=>rl(a,b,{...d,path:[...d.path,f,c]})),i=e.rest?rl(e.rest,b,{...d,path:[...d.path,g,..."openapi-3.0"===b.target?[e.items.length]:[]]}):null;"draft-2020-12"===b.target?(c.prefixItems=h,i&&(c.items=i)):"openapi-3.0"===b.target?(c.items={anyOf:h},i&&c.items.anyOf.push(i),c.minItems=h.length,i||(c.maxItems=h.length)):(c.items=h,i&&(c.additionalItems=i));let{minimum:j,maximum:k}=a._zod.bag;"number"==typeof j&&(c.minItems=j),"number"==typeof k&&(c.maxItems=k)},rT=(a,b,c,d)=>{let e=a._zod.def;c.type="object";let f=e.keyType,g=f._zod.bag,h=g?.patterns;if("loose"===e.mode&&h&&h.size>0){let a=rl(e.valueType,b,{...d,path:[...d.path,"patternProperties","*"]});for(let b of(c.patternProperties={},h))c.patternProperties[b.source]=a}else("draft-07"===b.target||"draft-2020-12"===b.target)&&(c.propertyNames=rl(e.keyType,b,{...d,path:[...d.path,"propertyNames"]})),c.additionalProperties=rl(e.valueType,b,{...d,path:[...d.path,"additionalProperties"]});let i=f._zod.values;if(i){let a=[...i].filter(a=>"string"==typeof a||"number"==typeof a);a.length>0&&(c.required=a)}},rU=(a,b,c,d)=>{let e=a._zod.def,f=rl(e.innerType,b,d),g=b.seen.get(a);"openapi-3.0"===b.target?(g.ref=e.innerType,c.nullable=!0):c.anyOf=[f,{type:"null"}]},rV=(a,b,c,d)=>{let e=a._zod.def;rl(e.innerType,b,d),b.seen.get(a).ref=e.innerType},rW=(a,b,c,d)=>{let e=a._zod.def;rl(e.innerType,b,d),b.seen.get(a).ref=e.innerType,c.default=JSON.parse(JSON.stringify(e.defaultValue))},rX=(a,b,c,d)=>{let e=a._zod.def;rl(e.innerType,b,d),b.seen.get(a).ref=e.innerType,"input"===b.io&&(c._prefault=JSON.parse(JSON.stringify(e.defaultValue)))},rY=(a,b,c,d)=>{let e,f=a._zod.def;rl(f.innerType,b,d),b.seen.get(a).ref=f.innerType;try{e=f.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}c.default=e},rZ=(a,b,c,d)=>{let e=a._zod.def,f="input"===b.io?"transform"===e.in._zod.def.type?e.out:e.in:e.out;rl(f,b,d),b.seen.get(a).ref=f},r$=(a,b,c,d)=>{let e=a._zod.def;rl(e.innerType,b,d),b.seen.get(a).ref=e.innerType,c.readOnly=!0},r_=(a,b,c,d)=>{let e=a._zod.def;rl(e.innerType,b,d),b.seen.get(a).ref=e.innerType},r0=(a,b,c,d)=>{let e=a._zod.def;rl(e.innerType,b,d),b.seen.get(a).ref=e.innerType},r1=(a,b,c,d)=>{let e=a._zod.innerType;rl(e,b,d),b.seen.get(a).ref=e},r2={string:rr,number:rs,boolean:rt,bigint:ru,symbol:rv,null:rw,undefined:rx,void:ry,never:rz,any:rA,unknown:rB,date:rC,enum:rD,literal:rE,nan:rF,template_literal:rG,file:rH,success:rI,custom:rJ,function:rK,transform:rL,map:rM,set:rN,array:rO,object:rP,union:rQ,intersection:rR,tuple:rS,record:rT,nullable:rU,nonoptional:rV,default:rW,prefault:rX,catch:rY,pipe:rZ,readonly:r$,promise:r_,optional:r0,lazy:r1};function r3(a,b){if("_idmap"in a){let c=rk({...b,processors:r2}),d={};for(let b of a._idmap.entries()){let[a,d]=b;rl(d,c)}let e={};for(let f of(c.external={registry:a,uri:b?.uri,defs:d},a._idmap.entries())){let[a,b]=f;rm(c,b),e[a]=rn(c,b)}return Object.keys(d).length>0&&(e.__shared={["draft-2020-12"===c.target?"$defs":"definitions"]:d}),{schemas:e}}let c=rk({...b,processors:r2});return rl(a,c),rm(c,a),rn(c,a)}class r4{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(a){this.ctx.counter=a}get seen(){return this.ctx.seen}constructor(a){let b=a?.target??"draft-2020-12";"draft-4"===b&&(b="draft-04"),"draft-7"===b&&(b="draft-07"),this.ctx=rk({processors:r2,target:b,...a?.metadata&&{metadata:a.metadata},...a?.unrepresentable&&{unrepresentable:a.unrepresentable},...a?.override&&{override:a.override},...a?.io&&{io:a.io}})}process(a,b={path:[],schemaPath:[]}){return rl(a,this.ctx,b)}emit(a,b){b&&(b.cycles&&(this.ctx.cycles=b.cycles),b.reused&&(this.ctx.reused=b.reused),b.external&&(this.ctx.external=b.external)),rm(this.ctx,a);let{"~standard":c,...d}=rn(this.ctx,a);return d}}a.s([],46435),a.s([],7324),a.s(["ZodAny",()=>tF,"ZodArray",()=>tP,"ZodBase64",()=>s7,"ZodBase64URL",()=>s9,"ZodBigInt",()=>tu,"ZodBigIntFormat",()=>tw,"ZodBoolean",()=>ts,"ZodCIDRv4",()=>s3,"ZodCIDRv6",()=>s5,"ZodCUID",()=>sP,"ZodCUID2",()=>sR,"ZodCatch",()=>uA,"ZodCodec",()=>uG,"ZodCustom",()=>uS,"ZodCustomStringFormat",()=>tf,"ZodDate",()=>tN,"ZodDefault",()=>us,"ZodDiscriminatedUnion",()=>t$,"ZodE164",()=>tb,"ZodEmail",()=>sz,"ZodEmoji",()=>sL,"ZodEnum",()=>uc,"ZodExactOptional",()=>un,"ZodFile",()=>uh,"ZodFunction",()=>uQ,"ZodGUID",()=>sB,"ZodIPv4",()=>sZ,"ZodIPv6",()=>s1,"ZodIntersection",()=>t0,"ZodJWT",()=>td,"ZodKSUID",()=>sX,"ZodLazy",()=>uM,"ZodLiteral",()=>uf,"ZodMAC",()=>s_,"ZodMap",()=>t8,"ZodNaN",()=>uC,"ZodNanoID",()=>sN,"ZodNever",()=>tJ,"ZodNonOptional",()=>uw,"ZodNull",()=>tD,"ZodNullable",()=>up,"ZodNumber",()=>tk,"ZodNumberFormat",()=>tm,"ZodObject",()=>tS,"ZodOptional",()=>ul,"ZodPipe",()=>uE,"ZodPrefault",()=>uu,"ZodPromise",()=>uO,"ZodReadonly",()=>uI,"ZodRecord",()=>t4,"ZodSet",()=>ua,"ZodString",()=>sw,"ZodStringFormat",()=>sy,"ZodSuccess",()=>uy,"ZodSymbol",()=>tz,"ZodTemplateLiteral",()=>uK,"ZodTransform",()=>uj,"ZodTuple",()=>t2,"ZodType",()=>su,"ZodULID",()=>sT,"ZodURL",()=>sI,"ZodUUID",()=>sD,"ZodUndefined",()=>tB,"ZodUnion",()=>tW,"ZodUnknown",()=>tH,"ZodVoid",()=>tL,"ZodXID",()=>sV,"ZodXor",()=>tY,"_ZodString",()=>sv,"_default",()=>ut,"_function",()=>uR,"any",()=>tG,"array",()=>tQ,"base64",()=>s8,"base64url",()=>ta,"bigint",()=>tv,"boolean",()=>tt,"catch",()=>uB,"check",()=>uT,"cidrv4",()=>s4,"cidrv6",()=>s6,"codec",()=>uH,"cuid",()=>sQ,"cuid2",()=>sS,"custom",()=>uU,"date",()=>tO,"describe",()=>uX,"discriminatedUnion",()=>t_,"e164",()=>tc,"email",()=>sA,"emoji",()=>sM,"enum",()=>ud,"exactOptional",()=>uo,"file",()=>ui,"float32",()=>to,"float64",()=>tp,"function",()=>uR,"guid",()=>sC,"hash",()=>tj,"hex",()=>ti,"hostname",()=>th,"httpUrl",()=>sK,"instanceof",()=>uZ,"int",()=>tn,"int32",()=>tq,"int64",()=>tx,"intersection",()=>t1,"ipv4",()=>s$,"ipv6",()=>s2,"json",()=>u_,"jwt",()=>te,"keyof",()=>tR,"ksuid",()=>sY,"lazy",()=>uN,"literal",()=>ug,"looseObject",()=>tV,"looseRecord",()=>t7,"mac",()=>s0,"map",()=>t9,"meta",()=>uY,"nan",()=>uD,"nanoid",()=>sO,"nativeEnum",()=>ue,"never",()=>tK,"nonoptional",()=>ux,"null",()=>tE,"nullable",()=>uq,"nullish",()=>ur,"number",()=>tl,"object",()=>tT,"optional",()=>um,"partialRecord",()=>t6,"pipe",()=>uF,"prefault",()=>uv,"preprocess",()=>u0,"promise",()=>uP,"readonly",()=>uJ,"record",()=>t5,"refine",()=>uV,"set",()=>ub,"strictObject",()=>tU,"string",()=>sx,"stringFormat",()=>tg,"stringbool",()=>u$,"success",()=>uz,"superRefine",()=>uW,"symbol",()=>tA,"templateLiteral",()=>uL,"transform",()=>uk,"tuple",()=>t3,"uint32",()=>tr,"uint64",()=>ty,"ulid",()=>sU,"undefined",()=>tC,"union",()=>tX,"unknown",()=>tI,"url",()=>sJ,"uuid",()=>sE,"uuidv4",()=>sF,"uuidv6",()=>sG,"uuidv7",()=>sH,"void",()=>tM,"xid",()=>sW,"xor",()=>tZ],81395),a.i(34684),a.s(["$ZodAny",0,os,"$ZodArray",0,oy,"$ZodBase64",0,od,"$ZodBase64URL",0,of,"$ZodBigInt",0,on,"$ZodBigIntFormat",0,oo,"$ZodBoolean",0,om,"$ZodCIDRv4",0,oa,"$ZodCIDRv6",0,ob,"$ZodCUID",0,n$,"$ZodCUID2",0,n_,"$ZodCatch",0,o4,"$ZodCodec",0,o8,"$ZodCustom",0,ph,"$ZodCustomStringFormat",0,oj,"$ZodDate",0,ow,"$ZodDefault",0,o$,"$ZodDiscriminatedUnion",0,oI,"$ZodE164",0,og,"$ZodEmail",0,nW,"$ZodEmoji",0,nY,"$ZodEnum",0,oS,"$ZodExactOptional",0,oY,"$ZodFile",0,oU,"$ZodFunction",0,pe,"$ZodGUID",0,nU,"$ZodIPv4",0,n7,"$ZodIPv6",0,n8,"$ZodISODate",0,n4,"$ZodISODateTime",0,n3,"$ZodISODuration",0,n6,"$ZodISOTime",0,n5,"$ZodIntersection",0,oJ,"$ZodJWT",0,oi,"$ZodKSUID",0,n2,"$ZodLazy",0,pg,"$ZodLiteral",0,oT,"$ZodMAC",0,n9,"$ZodMap",0,oO,"$ZodNaN",0,o5,"$ZodNanoID",0,nZ,"$ZodNever",0,ou,"$ZodNonOptional",0,o1,"$ZodNull",0,or,"$ZodNullable",0,oZ,"$ZodNumber",0,ok,"$ZodNumberFormat",0,ol,"$ZodObject",0,oC,"$ZodObjectJIT",0,oD,"$ZodOptional",0,oX,"$ZodPipe",0,o6,"$ZodPrefault",0,o0,"$ZodPromise",0,pf,"$ZodReadonly",0,pb,"$ZodRecord",0,oN,"$ZodSet",0,oQ,"$ZodString",0,nS,"$ZodStringFormat",0,nT,"$ZodSuccess",0,o3,"$ZodSymbol",0,op,"$ZodTemplateLiteral",0,pd,"$ZodTransform",0,oV,"$ZodTuple",0,oL,"$ZodType",0,nR,"$ZodULID",0,n0,"$ZodURL",0,nX,"$ZodUUID",0,nV,"$ZodUndefined",0,oq,"$ZodUnion",0,oF,"$ZodUnknown",0,ot,"$ZodVoid",0,ov,"$ZodXID",0,n1,"$ZodXor",0,oH,"clone",()=>lI,"isValidBase64",()=>oc,"isValidBase64URL",()=>oe,"isValidJWT",()=>oh],32881);var r5=a.i(68469),r5=r5,r6=a.i(8920),r6=r6;a.s([],95172),a.s(["ZodISODate",()=>r9,"ZodISODateTime",()=>r7,"ZodISODuration",()=>sd,"ZodISOTime",()=>sb,"date",()=>sa,"datetime",()=>r8,"duration",()=>se,"time",()=>sc],56537);let r7=k6("ZodISODateTime",(a,b)=>{n3.init(a,b),sy.init(a,b)});function r8(a){return pX(r7,a)}let r9=k6("ZodISODate",(a,b)=>{n4.init(a,b),sy.init(a,b)});function sa(a){return pY(r9,a)}let sb=k6("ZodISOTime",(a,b)=>{n5.init(a,b),sy.init(a,b)});function sc(a){return pZ(sb,a)}let sd=k6("ZodISODuration",(a,b)=>{n6.init(a,b),sy.init(a,b)});function se(a){return p$(sd,a)}let sf=(a,b)=>{mb.init(a,b),a.name="ZodError",Object.defineProperties(a,{format:{value:b=>me(a,b)},flatten:{value:b=>md(a,b)},addIssue:{value:b=>{a.issues.push(b),a.message=JSON.stringify(a.issues,lj,2)}},addIssues:{value:b=>{a.issues.push(...b),a.message=JSON.stringify(a.issues,lj,2)}},isEmpty:{get:()=>0===a.issues.length}})},sg=k6("ZodError",sf),sh=k6("ZodError",sf,{Parent:Error});a.s(["ZodError",0,sg,"ZodRealError",0,sh],35355);let si=mi(sh),sj=mk(sh),sk=mm(sh),sl=mo(sh),sm=mq(sh),sn=ms(sh),so=mu(sh),sp=mw(sh),sq=my(sh),sr=mA(sh),ss=mC(sh),st=mE(sh);a.s(["decode",0,sn,"decodeAsync",0,sp,"encode",0,sm,"encodeAsync",0,so,"parse",0,si,"parseAsync",0,sj,"safeDecode",0,sr,"safeDecodeAsync",0,st,"safeEncode",0,sq,"safeEncodeAsync",0,ss,"safeParse",0,sk,"safeParseAsync",0,sl],45104);let su=k6("ZodType",(a,b)=>(nR.init(a,b),Object.assign(a["~standard"],{jsonSchema:{input:rp(a,"input"),output:rp(a,"output")}}),a.toJSONSchema=ro(a,{}),a.def=b,a.type=b.type,Object.defineProperty(a,"_def",{value:b}),a.check=(...c)=>a.clone(r6.mergeDefs(b,{checks:[...b.checks??[],...c.map(a=>"function"==typeof a?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]}),{parent:!0}),a.with=a.check,a.clone=(b,c)=>lI(a,b,c),a.brand=()=>a,a.register=(b,c)=>(b.add(a,c),a),a.parse=(b,c)=>si(a,b,c,{callee:a.parse}),a.safeParse=(b,c)=>sk(a,b,c),a.parseAsync=async(b,c)=>sj(a,b,c,{callee:a.parseAsync}),a.safeParseAsync=async(b,c)=>sl(a,b,c),a.spa=a.safeParseAsync,a.encode=(b,c)=>sm(a,b,c),a.decode=(b,c)=>sn(a,b,c),a.encodeAsync=async(b,c)=>so(a,b,c),a.decodeAsync=async(b,c)=>sp(a,b,c),a.safeEncode=(b,c)=>sq(a,b,c),a.safeDecode=(b,c)=>sr(a,b,c),a.safeEncodeAsync=async(b,c)=>ss(a,b,c),a.safeDecodeAsync=async(b,c)=>st(a,b,c),a.refine=(b,c)=>a.check(uV(b,c)),a.superRefine=b=>a.check(re(b)),a.overwrite=b=>a.check(qJ(b)),a.optional=()=>um(a),a.exactOptional=()=>uo(a),a.nullable=()=>uq(a),a.nullish=()=>um(uq(a)),a.nonoptional=b=>ux(a,b),a.array=()=>tQ(a),a.or=b=>tX([a,b]),a.and=b=>t1(a,b),a.transform=b=>uF(a,uk(b)),a.default=b=>ut(a,b),a.prefault=b=>uv(a,b),a.catch=b=>uB(a,b),a.pipe=b=>uF(a,b),a.readonly=()=>uJ(a),a.describe=b=>{let c=a.clone();return pw.add(c,{description:b}),c},Object.defineProperty(a,"description",{get:()=>pw.get(a)?.description,configurable:!0}),a.meta=(...b)=>{if(0===b.length)return pw.get(a);let c=a.clone();return pw.add(c,b[0]),c},a.isOptional=()=>a.safeParse(void 0).success,a.isNullable=()=>a.safeParse(null).success,a.apply=b=>b(a),a)),sv=k6("_ZodString",(a,b)=>{nS.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rr(a,b,c,d);let c=a._zod.bag;a.format=c.format??null,a.minLength=c.minimum??null,a.maxLength=c.maximum??null,a.regex=(...b)=>a.check(qB(...b)),a.includes=(...b)=>a.check(qE(...b)),a.startsWith=(...b)=>a.check(qF(...b)),a.endsWith=(...b)=>a.check(qG(...b)),a.min=(...b)=>a.check(qz(...b)),a.max=(...b)=>a.check(qy(...b)),a.length=(...b)=>a.check(qA(...b)),a.nonempty=(...b)=>a.check(qz(1,...b)),a.lowercase=b=>a.check(qC(b)),a.uppercase=b=>a.check(qD(b)),a.trim=()=>a.check(qL()),a.normalize=(...b)=>a.check(qK(...b)),a.toLowerCase=()=>a.check(qM()),a.toUpperCase=()=>a.check(qN()),a.slugify=()=>a.check(qO())}),sw=k6("ZodString",(a,b)=>{nS.init(a,b),sv.init(a,b),a.email=b=>a.check(pz(sz,b)),a.url=b=>a.check(pF(sI,b)),a.jwt=b=>a.check(pV(td,b)),a.emoji=b=>a.check(pG(sL,b)),a.guid=b=>a.check(pA(sB,b)),a.uuid=b=>a.check(pB(sD,b)),a.uuidv4=b=>a.check(pC(sD,b)),a.uuidv6=b=>a.check(pD(sD,b)),a.uuidv7=b=>a.check(pE(sD,b)),a.nanoid=b=>a.check(pH(sN,b)),a.guid=b=>a.check(pA(sB,b)),a.cuid=b=>a.check(pI(sP,b)),a.cuid2=b=>a.check(pJ(sR,b)),a.ulid=b=>a.check(pK(sT,b)),a.base64=b=>a.check(pS(s7,b)),a.base64url=b=>a.check(pT(s9,b)),a.xid=b=>a.check(pL(sV,b)),a.ksuid=b=>a.check(pM(sX,b)),a.ipv4=b=>a.check(pN(sZ,b)),a.ipv6=b=>a.check(pO(s1,b)),a.cidrv4=b=>a.check(pQ(s3,b)),a.cidrv6=b=>a.check(pR(s5,b)),a.e164=b=>a.check(pU(tb,b)),a.datetime=b=>a.check(r8(b)),a.date=b=>a.check(sa(b)),a.time=b=>a.check(sc(b)),a.duration=b=>a.check(se(b))});function sx(a){return px(sw,a)}let sy=k6("ZodStringFormat",(a,b)=>{nT.init(a,b),sv.init(a,b)}),sz=k6("ZodEmail",(a,b)=>{nW.init(a,b),sy.init(a,b)});function sA(a){return pz(sz,a)}let sB=k6("ZodGUID",(a,b)=>{nU.init(a,b),sy.init(a,b)});function sC(a){return pA(sB,a)}let sD=k6("ZodUUID",(a,b)=>{nV.init(a,b),sy.init(a,b)});function sE(a){return pB(sD,a)}function sF(a){return pC(sD,a)}function sG(a){return pD(sD,a)}function sH(a){return pE(sD,a)}let sI=k6("ZodURL",(a,b)=>{nX.init(a,b),sy.init(a,b)});function sJ(a){return pF(sI,a)}function sK(a){return pF(sI,{protocol:/^https?$/,hostname:r5.domain,...r6.normalizeParams(a)})}let sL=k6("ZodEmoji",(a,b)=>{nY.init(a,b),sy.init(a,b)});function sM(a){return pG(sL,a)}let sN=k6("ZodNanoID",(a,b)=>{nZ.init(a,b),sy.init(a,b)});function sO(a){return pH(sN,a)}let sP=k6("ZodCUID",(a,b)=>{n$.init(a,b),sy.init(a,b)});function sQ(a){return pI(sP,a)}let sR=k6("ZodCUID2",(a,b)=>{n_.init(a,b),sy.init(a,b)});function sS(a){return pJ(sR,a)}let sT=k6("ZodULID",(a,b)=>{n0.init(a,b),sy.init(a,b)});function sU(a){return pK(sT,a)}let sV=k6("ZodXID",(a,b)=>{n1.init(a,b),sy.init(a,b)});function sW(a){return pL(sV,a)}let sX=k6("ZodKSUID",(a,b)=>{n2.init(a,b),sy.init(a,b)});function sY(a){return pM(sX,a)}let sZ=k6("ZodIPv4",(a,b)=>{n7.init(a,b),sy.init(a,b)});function s$(a){return pN(sZ,a)}let s_=k6("ZodMAC",(a,b)=>{n9.init(a,b),sy.init(a,b)});function s0(a){return pP(s_,a)}let s1=k6("ZodIPv6",(a,b)=>{n8.init(a,b),sy.init(a,b)});function s2(a){return pO(s1,a)}let s3=k6("ZodCIDRv4",(a,b)=>{oa.init(a,b),sy.init(a,b)});function s4(a){return pQ(s3,a)}let s5=k6("ZodCIDRv6",(a,b)=>{ob.init(a,b),sy.init(a,b)});function s6(a){return pR(s5,a)}let s7=k6("ZodBase64",(a,b)=>{od.init(a,b),sy.init(a,b)});function s8(a){return pS(s7,a)}let s9=k6("ZodBase64URL",(a,b)=>{of.init(a,b),sy.init(a,b)});function ta(a){return pT(s9,a)}let tb=k6("ZodE164",(a,b)=>{og.init(a,b),sy.init(a,b)});function tc(a){return pU(tb,a)}let td=k6("ZodJWT",(a,b)=>{oi.init(a,b),sy.init(a,b)});function te(a){return pV(td,a)}let tf=k6("ZodCustomStringFormat",(a,b)=>{oj.init(a,b),sy.init(a,b)});function tg(a,b,c={}){return rj(tf,a,b,c)}function th(a){return rj(tf,"hostname",r5.hostname,a)}function ti(a){return rj(tf,"hex",r5.hex,a)}function tj(a,b){let c=b?.enc??"hex",d=`${a}_${c}`,e=r5[d];if(!e)throw Error(`Unrecognized hash format: ${d}`);return rj(tf,d,e,b)}let tk=k6("ZodNumber",(a,b)=>{ok.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rs(a,b,c,d),a.gt=(b,c)=>a.check(qo(b,c)),a.gte=(b,c)=>a.check(qp(b,c)),a.min=(b,c)=>a.check(qp(b,c)),a.lt=(b,c)=>a.check(qm(b,c)),a.lte=(b,c)=>a.check(qn(b,c)),a.max=(b,c)=>a.check(qn(b,c)),a.int=b=>a.check(tn(b)),a.safe=b=>a.check(tn(b)),a.positive=b=>a.check(qo(0,b)),a.nonnegative=b=>a.check(qp(0,b)),a.negative=b=>a.check(qm(0,b)),a.nonpositive=b=>a.check(qn(0,b)),a.multipleOf=(b,c)=>a.check(qu(b,c)),a.step=(b,c)=>a.check(qu(b,c)),a.finite=()=>a;let c=a._zod.bag;a.minValue=Math.max(c.minimum??-1/0,c.exclusiveMinimum??-1/0)??null,a.maxValue=Math.min(c.maximum??1/0,c.exclusiveMaximum??1/0)??null,a.isInt=(c.format??"").includes("int")||Number.isSafeInteger(c.multipleOf??.5),a.isFinite=!0,a.format=c.format??null});function tl(a){return p_(tk,a)}let tm=k6("ZodNumberFormat",(a,b)=>{ol.init(a,b),tk.init(a,b)});function tn(a){return p1(tm,a)}function to(a){return p2(tm,a)}function tp(a){return p3(tm,a)}function tq(a){return p4(tm,a)}function tr(a){return p5(tm,a)}let ts=k6("ZodBoolean",(a,b)=>{om.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rt(a,b,c,d)});function tt(a){return p6(ts,a)}let tu=k6("ZodBigInt",(a,b)=>{on.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>ru(a,b,c,d),a.gte=(b,c)=>a.check(qp(b,c)),a.min=(b,c)=>a.check(qp(b,c)),a.gt=(b,c)=>a.check(qo(b,c)),a.gte=(b,c)=>a.check(qp(b,c)),a.min=(b,c)=>a.check(qp(b,c)),a.lt=(b,c)=>a.check(qm(b,c)),a.lte=(b,c)=>a.check(qn(b,c)),a.max=(b,c)=>a.check(qn(b,c)),a.positive=b=>a.check(qo(BigInt(0),b)),a.negative=b=>a.check(qm(BigInt(0),b)),a.nonpositive=b=>a.check(qn(BigInt(0),b)),a.nonnegative=b=>a.check(qp(BigInt(0),b)),a.multipleOf=(b,c)=>a.check(qu(b,c));let c=a._zod.bag;a.minValue=c.minimum??null,a.maxValue=c.maximum??null,a.format=c.format??null});function tv(a){return p8(tu,a)}let tw=k6("ZodBigIntFormat",(a,b)=>{oo.init(a,b),tu.init(a,b)});function tx(a){return qa(tw,a)}function ty(a){return qb(tw,a)}let tz=k6("ZodSymbol",(a,b)=>{op.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rv(a,b,c,d)});function tA(a){return qc(tz,a)}let tB=k6("ZodUndefined",(a,b)=>{oq.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rx(a,b,c,d)});function tC(a){return qd(tB,a)}let tD=k6("ZodNull",(a,b)=>{or.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rw(a,b,c,d)});function tE(a){return qe(tD,a)}let tF=k6("ZodAny",(a,b)=>{os.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rA(a,b,c,d)});function tG(){return qf(tF)}let tH=k6("ZodUnknown",(a,b)=>{ot.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rB(a,b,c,d)});function tI(){return qg(tH)}let tJ=k6("ZodNever",(a,b)=>{ou.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rz(a,b,c,d)});function tK(a){return qh(tJ,a)}let tL=k6("ZodVoid",(a,b)=>{ov.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>ry(a,b,c,d)});function tM(a){return qi(tL,a)}let tN=k6("ZodDate",(a,b)=>{ow.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rC(a,b,c,d),a.min=(b,c)=>a.check(qp(b,c)),a.max=(b,c)=>a.check(qn(b,c));let c=a._zod.bag;a.minDate=c.minimum?new Date(c.minimum):null,a.maxDate=c.maximum?new Date(c.maximum):null});function tO(a){return qj(tN,a)}let tP=k6("ZodArray",(a,b)=>{oy.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rO(a,b,c,d),a.element=b.element,a.min=(b,c)=>a.check(qz(b,c)),a.nonempty=b=>a.check(qz(1,b)),a.max=(b,c)=>a.check(qy(b,c)),a.length=(b,c)=>a.check(qA(b,c)),a.unwrap=()=>a.element});function tQ(a,b){return qP(tP,a,b)}function tR(a){return ud(Object.keys(a._zod.def.shape))}let tS=k6("ZodObject",(a,b)=>{oD.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rP(a,b,c,d),r6.defineLazy(a,"shape",()=>b.shape),a.keyof=()=>ud(Object.keys(a._zod.def.shape)),a.catchall=b=>a.clone({...a._zod.def,catchall:b}),a.passthrough=()=>a.clone({...a._zod.def,catchall:tI()}),a.loose=()=>a.clone({...a._zod.def,catchall:tI()}),a.strict=()=>a.clone({...a._zod.def,catchall:tK()}),a.strip=()=>a.clone({...a._zod.def,catchall:void 0}),a.extend=b=>r6.extend(a,b),a.safeExtend=b=>r6.safeExtend(a,b),a.merge=b=>r6.merge(a,b),a.pick=b=>r6.pick(a,b),a.omit=b=>r6.omit(a,b),a.partial=(...b)=>r6.partial(ul,a,b[0]),a.required=(...b)=>r6.required(uw,a,b[0])});function tT(a,b){return new tS({type:"object",shape:a??{},...r6.normalizeParams(b)})}function tU(a,b){return new tS({type:"object",shape:a,catchall:tK(),...r6.normalizeParams(b)})}function tV(a,b){return new tS({type:"object",shape:a,catchall:tI(),...r6.normalizeParams(b)})}let tW=k6("ZodUnion",(a,b)=>{oF.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rQ(a,b,c,d),a.options=b.options});function tX(a,b){return new tW({type:"union",options:a,...r6.normalizeParams(b)})}let tY=k6("ZodXor",(a,b)=>{tW.init(a,b),oH.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rQ(a,b,c,d),a.options=b.options});function tZ(a,b){return new tY({type:"union",options:a,inclusive:!1,...r6.normalizeParams(b)})}let t$=k6("ZodDiscriminatedUnion",(a,b)=>{tW.init(a,b),oI.init(a,b)});function t_(a,b,c){return new t$({type:"union",options:b,discriminator:a,...r6.normalizeParams(c)})}let t0=k6("ZodIntersection",(a,b)=>{oJ.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rR(a,b,c,d)});function t1(a,b){return new t0({type:"intersection",left:a,right:b})}let t2=k6("ZodTuple",(a,b)=>{oL.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rS(a,b,c,d),a.rest=b=>a.clone({...a._zod.def,rest:b})});function t3(a,b,c){let d=b instanceof nR,e=d?c:b;return new t2({type:"tuple",items:a,rest:d?b:null,...r6.normalizeParams(e)})}let t4=k6("ZodRecord",(a,b)=>{oN.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rT(a,b,c,d),a.keyType=b.keyType,a.valueType=b.valueType});function t5(a,b,c){return new t4({type:"record",keyType:a,valueType:b,...r6.normalizeParams(c)})}function t6(a,b,c){let d=lI(a);return d._zod.values=void 0,new t4({type:"record",keyType:d,valueType:b,...r6.normalizeParams(c)})}function t7(a,b,c){return new t4({type:"record",keyType:a,valueType:b,mode:"loose",...r6.normalizeParams(c)})}let t8=k6("ZodMap",(a,b)=>{oO.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rM(a,b,c,d),a.keyType=b.keyType,a.valueType=b.valueType,a.min=(...b)=>a.check(qw(...b)),a.nonempty=b=>a.check(qw(1,b)),a.max=(...b)=>a.check(qv(...b)),a.size=(...b)=>a.check(qx(...b))});function t9(a,b,c){return new t8({type:"map",keyType:a,valueType:b,...r6.normalizeParams(c)})}let ua=k6("ZodSet",(a,b)=>{oQ.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rN(a,b,c,d),a.min=(...b)=>a.check(qw(...b)),a.nonempty=b=>a.check(qw(1,b)),a.max=(...b)=>a.check(qv(...b)),a.size=(...b)=>a.check(qx(...b))});function ub(a,b){return new ua({type:"set",valueType:a,...r6.normalizeParams(b)})}let uc=k6("ZodEnum",(a,b)=>{oS.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rD(a,b,c,d),a.enum=b.entries,a.options=Object.values(b.entries);let c=new Set(Object.keys(b.entries));a.extract=(a,d)=>{let e={};for(let d of a)if(c.has(d))e[d]=b.entries[d];else throw Error(`Key ${d} not found in enum`);return new uc({...b,checks:[],...r6.normalizeParams(d),entries:e})},a.exclude=(a,d)=>{let e={...b.entries};for(let b of a)if(c.has(b))delete e[b];else throw Error(`Key ${b} not found in enum`);return new uc({...b,checks:[],...r6.normalizeParams(d),entries:e})}});function ud(a,b){return new uc({type:"enum",entries:Array.isArray(a)?Object.fromEntries(a.map(a=>[a,a])):a,...r6.normalizeParams(b)})}function ue(a,b){return new uc({type:"enum",entries:a,...r6.normalizeParams(b)})}let uf=k6("ZodLiteral",(a,b)=>{oT.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rE(a,b,c,d),a.values=new Set(b.values),Object.defineProperty(a,"value",{get(){if(b.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return b.values[0]}})});function ug(a,b){return new uf({type:"literal",values:Array.isArray(a)?a:[a],...r6.normalizeParams(b)})}let uh=k6("ZodFile",(a,b)=>{oU.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rH(a,b,c,d),a.min=(b,c)=>a.check(qw(b,c)),a.max=(b,c)=>a.check(qv(b,c)),a.mime=(b,c)=>a.check(qI(Array.isArray(b)?b:[b],c))});function ui(a){return q_(uh,a)}let uj=k6("ZodTransform",(a,b)=>{oV.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rL(a,b,c,d),a._zod.parse=(c,d)=>{if("backward"===d.direction)throw new k9(a.constructor.name);c.addIssue=d=>{"string"==typeof d?c.issues.push(r6.issue(d,c.value,b)):(d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=c.value),d.inst??(d.inst=a),c.issues.push(r6.issue(d)))};let e=b.transform(c.value,c);return e instanceof Promise?e.then(a=>(c.value=a,c)):(c.value=e,c)}});function uk(a){return new uj({type:"transform",transform:a})}let ul=k6("ZodOptional",(a,b)=>{oX.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>r0(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function um(a){return new ul({type:"optional",innerType:a})}let un=k6("ZodExactOptional",(a,b)=>{oY.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>r0(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function uo(a){return new un({type:"optional",innerType:a})}let up=k6("ZodNullable",(a,b)=>{oZ.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rU(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function uq(a){return new up({type:"nullable",innerType:a})}function ur(a){return um(uq(a))}let us=k6("ZodDefault",(a,b)=>{o$.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rW(a,b,c,d),a.unwrap=()=>a._zod.def.innerType,a.removeDefault=a.unwrap});function ut(a,b){return new us({type:"default",innerType:a,get defaultValue(){return"function"==typeof b?b():r6.shallowClone(b)}})}let uu=k6("ZodPrefault",(a,b)=>{o0.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rX(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function uv(a,b){return new uu({type:"prefault",innerType:a,get defaultValue(){return"function"==typeof b?b():r6.shallowClone(b)}})}let uw=k6("ZodNonOptional",(a,b)=>{o1.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rV(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function ux(a,b){return new uw({type:"nonoptional",innerType:a,...r6.normalizeParams(b)})}let uy=k6("ZodSuccess",(a,b)=>{o3.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rI(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function uz(a){return new uy({type:"success",innerType:a})}let uA=k6("ZodCatch",(a,b)=>{o4.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rY(a,b,c,d),a.unwrap=()=>a._zod.def.innerType,a.removeCatch=a.unwrap});function uB(a,b){return new uA({type:"catch",innerType:a,catchValue:"function"==typeof b?b:()=>b})}let uC=k6("ZodNaN",(a,b)=>{o5.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rF(a,b,c,d)});function uD(a){return ql(uC,a)}let uE=k6("ZodPipe",(a,b)=>{o6.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rZ(a,b,c,d),a.in=b.in,a.out=b.out});function uF(a,b){return new uE({type:"pipe",in:a,out:b})}let uG=k6("ZodCodec",(a,b)=>{uE.init(a,b),o8.init(a,b)});function uH(a,b,c){return new uG({type:"pipe",in:a,out:b,transform:c.decode,reverseTransform:c.encode})}let uI=k6("ZodReadonly",(a,b)=>{pb.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>r$(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function uJ(a){return new uI({type:"readonly",innerType:a})}let uK=k6("ZodTemplateLiteral",(a,b)=>{pd.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rG(a,b,c,d)});function uL(a,b){return new uK({type:"template_literal",parts:a,...r6.normalizeParams(b)})}let uM=k6("ZodLazy",(a,b)=>{pg.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>r1(a,b,c,d),a.unwrap=()=>a._zod.def.getter()});function uN(a){return new uM({type:"lazy",getter:a})}let uO=k6("ZodPromise",(a,b)=>{pf.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>r_(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function uP(a){return new uO({type:"promise",innerType:a})}let uQ=k6("ZodFunction",(a,b)=>{pe.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rK(a,b,c,d)});function uR(a){return new uQ({type:"function",input:Array.isArray(a?.input)?t3(a?.input):a?.input??tQ(tI()),output:a?.output??tI()})}let uS=k6("ZodCustom",(a,b)=>{ph.init(a,b),su.init(a,b),a._zod.processJSONSchema=(b,c,d)=>rJ(a,b,c,d)});function uT(a){let b=new nr({check:"custom"});return b._zod.check=a,b}function uU(a,b){return rc(uS,a??(()=>!0),b)}function uV(a,b={}){return rd(uS,a,b)}function uW(a){return re(a)}let uX=rg,uY=rh;function uZ(a,b={}){let c=new uS({type:"custom",check:"custom",fn:b=>b instanceof a,abort:!0,...r6.normalizeParams(b)});return c._zod.bag.Class=a,c._zod.check=b=>{b.value instanceof a||b.issues.push({code:"invalid_type",expected:a.name,input:b.value,inst:c,path:[...c._zod.def.path??[]]})},c}let u$=(...a)=>ri({Codec:uG,Boolean:ts,String:sw},...a);function u_(a){let b=uN(()=>tX([sx(a),tl(),tt(),tE(),tQ(b),t5(sx(),b)]));return b}function u0(a,b){return uF(uk(a),b)}let u1={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function u2(a){lb({customError:a})}function u3(){return lb().customError}o||(o={}),a.s(["ZodFirstPartyTypeKind",()=>o,"ZodIssueCode",0,u1,"getErrorMap",()=>u3,"setErrorMap",()=>u2],4431),a.i(95172),a.s(["endsWith",()=>qG,"gt",()=>qo,"gte",()=>qp,"includes",()=>qE,"length",()=>qA,"lowercase",()=>qC,"lt",()=>qm,"lte",()=>qn,"maxLength",()=>qy,"maxSize",()=>qv,"mime",()=>qI,"minLength",()=>qz,"minSize",()=>qw,"multipleOf",()=>qu,"negative",()=>qr,"nonnegative",()=>qt,"nonpositive",()=>qs,"normalize",()=>qK,"overwrite",()=>qJ,"positive",()=>qq,"property",()=>qH,"regex",()=>qB,"size",()=>qx,"slugify",()=>qO,"startsWith",()=>qF,"toLowerCase",()=>qM,"toUpperCase",()=>qN,"trim",()=>qL,"uppercase",()=>qD],78964);var u4=a.i(78964),u5=a.i(56537);let u6={...a.i(81395),...u4,iso:u5},u7=new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]);function u8(a,b){var c;let d;if("boolean"==typeof a)return a?u6.any():u6.never();let e={version:(c=b?.defaultTarget,"https://json-schema.org/draft/2020-12/schema"===(d=a.$schema)?"draft-2020-12":"http://json-schema.org/draft-07/schema#"===d?"draft-7":"http://json-schema.org/draft-04/schema#"===d?"draft-4":c??"draft-2020-12"),defs:a.$defs||a.definitions||{},refs:new Map,processing:new Set,rootSchema:a,registry:b?.registry??pw};return function a(b,c){if("boolean"==typeof b)return b?u6.any():u6.never();let d=function b(c,d){let e;if(void 0!==c.not){if("object"==typeof c.not&&0===Object.keys(c.not).length)return u6.never();throw Error("not is not supported in Zod (except { not: {} } for never)")}if(void 0!==c.unevaluatedItems)throw Error("unevaluatedItems is not supported");if(void 0!==c.unevaluatedProperties)throw Error("unevaluatedProperties is not supported");if(void 0!==c.if||void 0!==c.then||void 0!==c.else)throw Error("Conditional schemas (if/then/else) are not supported");if(void 0!==c.dependentSchemas||void 0!==c.dependentRequired)throw Error("dependentSchemas and dependentRequired are not supported");if(c.$ref){let b=c.$ref;if(d.refs.has(b))return d.refs.get(b);if(d.processing.has(b))return u6.lazy(()=>{if(!d.refs.has(b))throw Error(`Circular reference not resolved: ${b}`);return d.refs.get(b)});d.processing.add(b);let e=a(function(a,b){if(!a.startsWith("#"))throw Error("External $ref is not supported, only local refs (#/...) are allowed");let c=a.slice(1).split("/").filter(Boolean);if(0===c.length)return b.rootSchema;let d="draft-2020-12"===b.version?"$defs":"definitions";if(c[0]===d){let d=c[1];if(!d||!b.defs[d])throw Error(`Reference not found: ${a}`);return b.defs[d]}throw Error(`Reference not found: ${a}`)}(b,d),d);return d.refs.set(b,e),d.processing.delete(b),e}if(void 0!==c.enum){let a=c.enum;if("openapi-3.0"===d.version&&!0===c.nullable&&1===a.length&&null===a[0])return u6.null();if(0===a.length)return u6.never();if(1===a.length)return u6.literal(a[0]);if(a.every(a=>"string"==typeof a))return u6.enum(a);let b=a.map(a=>u6.literal(a));return b.length<2?b[0]:u6.union([b[0],b[1],...b.slice(2)])}if(void 0!==c.const)return u6.literal(c.const);let f=c.type;if(Array.isArray(f)){let a=f.map(a=>b({...c,type:a},d));return 0===a.length?u6.never():1===a.length?a[0]:u6.union(a)}if(!f)return u6.any();switch(f){case"string":{let a=u6.string();if(c.format){let b=c.format;"email"===b?a=a.check(u6.email()):"uri"===b||"uri-reference"===b?a=a.check(u6.url()):"uuid"===b||"guid"===b?a=a.check(u6.uuid()):"date-time"===b?a=a.check(u6.iso.datetime()):"date"===b?a=a.check(u6.iso.date()):"time"===b?a=a.check(u6.iso.time()):"duration"===b?a=a.check(u6.iso.duration()):"ipv4"===b?a=a.check(u6.ipv4()):"ipv6"===b?a=a.check(u6.ipv6()):"mac"===b?a=a.check(u6.mac()):"cidr"===b?a=a.check(u6.cidrv4()):"cidr-v6"===b?a=a.check(u6.cidrv6()):"base64"===b?a=a.check(u6.base64()):"base64url"===b?a=a.check(u6.base64url()):"e164"===b?a=a.check(u6.e164()):"jwt"===b?a=a.check(u6.jwt()):"emoji"===b?a=a.check(u6.emoji()):"nanoid"===b?a=a.check(u6.nanoid()):"cuid"===b?a=a.check(u6.cuid()):"cuid2"===b?a=a.check(u6.cuid2()):"ulid"===b?a=a.check(u6.ulid()):"xid"===b?a=a.check(u6.xid()):"ksuid"===b&&(a=a.check(u6.ksuid()))}"number"==typeof c.minLength&&(a=a.min(c.minLength)),"number"==typeof c.maxLength&&(a=a.max(c.maxLength)),c.pattern&&(a=a.regex(new RegExp(c.pattern))),e=a;break}case"number":case"integer":{let a="integer"===f?u6.number().int():u6.number();"number"==typeof c.minimum&&(a=a.min(c.minimum)),"number"==typeof c.maximum&&(a=a.max(c.maximum)),"number"==typeof c.exclusiveMinimum?a=a.gt(c.exclusiveMinimum):!0===c.exclusiveMinimum&&"number"==typeof c.minimum&&(a=a.gt(c.minimum)),"number"==typeof c.exclusiveMaximum?a=a.lt(c.exclusiveMaximum):!0===c.exclusiveMaximum&&"number"==typeof c.maximum&&(a=a.lt(c.maximum)),"number"==typeof c.multipleOf&&(a=a.multipleOf(c.multipleOf)),e=a;break}case"boolean":e=u6.boolean();break;case"null":e=u6.null();break;case"object":{let b={},f=c.properties||{},g=new Set(c.required||[]);for(let[c,e]of Object.entries(f)){let f=a(e,d);b[c]=g.has(c)?f:f.optional()}if(c.propertyNames){let f=a(c.propertyNames,d),g=c.additionalProperties&&"object"==typeof c.additionalProperties?a(c.additionalProperties,d):u6.any();if(0===Object.keys(b).length){e=u6.record(f,g);break}let h=u6.object(b).passthrough(),i=u6.looseRecord(f,g);e=u6.intersection(h,i);break}if(c.patternProperties){let f=c.patternProperties,g=Object.keys(f),h=[];for(let b of g){let c=a(f[b],d),e=u6.string().regex(new RegExp(b));h.push(u6.looseRecord(e,c))}let i=[];if(Object.keys(b).length>0&&i.push(u6.object(b).passthrough()),i.push(...h),0===i.length)e=u6.object({}).passthrough();else if(1===i.length)e=i[0];else{let a=u6.intersection(i[0],i[1]);for(let b=2;b<i.length;b++)a=u6.intersection(a,i[b]);e=a}break}let h=u6.object(b);e=!1===c.additionalProperties?h.strict():"object"==typeof c.additionalProperties?h.catchall(a(c.additionalProperties,d)):h.passthrough();break}case"array":{let b=c.prefixItems,f=c.items;if(b&&Array.isArray(b)){let g=b.map(b=>a(b,d)),h=f&&"object"==typeof f&&!Array.isArray(f)?a(f,d):void 0;e=h?u6.tuple(g).rest(h):u6.tuple(g),"number"==typeof c.minItems&&(e=e.check(u6.minLength(c.minItems))),"number"==typeof c.maxItems&&(e=e.check(u6.maxLength(c.maxItems)))}else if(Array.isArray(f)){let b=f.map(b=>a(b,d)),g=c.additionalItems&&"object"==typeof c.additionalItems?a(c.additionalItems,d):void 0;e=g?u6.tuple(b).rest(g):u6.tuple(b),"number"==typeof c.minItems&&(e=e.check(u6.minLength(c.minItems))),"number"==typeof c.maxItems&&(e=e.check(u6.maxLength(c.maxItems)))}else if(void 0!==f){let b=a(f,d),g=u6.array(b);"number"==typeof c.minItems&&(g=g.min(c.minItems)),"number"==typeof c.maxItems&&(g=g.max(c.maxItems)),e=g}else e=u6.array(u6.any());break}default:throw Error(`Unsupported type: ${f}`)}return c.description&&(e=e.describe(c.description)),void 0!==c.default&&(e=e.default(c.default)),e}(b,c),e=b.type||void 0!==b.enum||void 0!==b.const;if(b.anyOf&&Array.isArray(b.anyOf)){let f=b.anyOf.map(b=>a(b,c)),g=u6.union(f);d=e?u6.intersection(d,g):g}if(b.oneOf&&Array.isArray(b.oneOf)){let f=b.oneOf.map(b=>a(b,c)),g=u6.xor(f);d=e?u6.intersection(d,g):g}if(b.allOf&&Array.isArray(b.allOf))if(0===b.allOf.length)d=e?d:u6.any();else{let f=e?d:a(b.allOf[0],c),g=+!e;for(let d=g;d<b.allOf.length;d++)f=u6.intersection(f,a(b.allOf[d],c));d=f}!0===b.nullable&&"openapi-3.0"===c.version&&(d=u6.nullable(d)),!0===b.readOnly&&(d=u6.readonly(d));let f={};for(let a of["$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor"])a in b&&(f[a]=b[a]);for(let a of["contentEncoding","contentMediaType","contentSchema"])a in b&&(f[a]=b[a]);for(let a of Object.keys(b))u7.has(a)||(f[a]=b[a]);return Object.keys(f).length>0&&c.registry.add(d,f),d}(a,e)}function u9(a){return py(sw,a)}function va(a){return p0(tk,a)}function vb(a){return p7(ts,a)}function vc(a){return p9(tu,a)}function vd(a){return qk(tN,a)}a.s(["bigint",()=>vc,"boolean",()=>vb,"date",()=>vd,"number",()=>va,"string",()=>u9],47586),lb(pk()),a.s([],93860),a.i(93860),a.i(7324),a.i(33591),a.i(39988),a.i(94084),a.i(32881),a.i(52273),a.i(90456);var ve=r6,vf=r5;a.i(36600),a.s(["ar",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},b={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`  :   instanceof ${d.expected}    ${e}`;return`  :   ${a}    ${e}`}case"invalid_value":if(1===d.values.length)return`  :   ${lL(d.values[0])}`;return`  :     : ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`   :    ${d.origin??""} ${b} ${d.maximum.toString()} ${c.unit??""}`;return`  :    ${d.origin??""} ${b} ${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`  :   ${d.origin}   ${b} ${d.minimum.toString()} ${c.unit}`;return`  :   ${d.origin}   ${b} ${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`  :     "${d.prefix}"`;if("ends_with"===d.format)return`  :     "${d.suffix}"`;if("includes"===d.format)return`  :    "${d.includes}"`;if("regex"===d.format)return`  :     ${d.pattern}`;return`${b[d.format]??d.format}  `;case"not_multiple_of":return`  :      ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?"":""} ${d.keys.length>1?"":""}: ${li(d.keys," ")}`;case"invalid_key":return`    ${d.origin}`;case"invalid_union":default:return"  ";case"invalid_element":return`    ${d.origin}`}})}},"az",0,function(){let a,b,c;return{localeError:(a={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}},b={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Yanl dyr: g\xf6zlniln instanceof ${d.expected}, daxil olan ${e}`;return`Yanl dyr: g\xf6zlniln ${a}, daxil olan ${e}`}case"invalid_value":if(1===d.values.length)return`Yanl dyr: g\xf6zlniln ${lL(d.values[0])}`;return`Yanl se\xe7im: aadaklardan biri olmaldr: ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${d.origin??"dyr"} ${b}${d.maximum.toString()} ${c.unit??"element"}`;return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${d.origin??"dyr"} ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`\xc7ox ki\xe7ik: g\xf6zlniln ${d.origin} ${b}${d.minimum.toString()} ${c.unit}`;return`\xc7ox ki\xe7ik: g\xf6zlniln ${d.origin} ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Yanl mtn: "${d.prefix}" il balamaldr`;if("ends_with"===d.format)return`Yanl mtn: "${d.suffix}" il bitmlidir`;if("includes"===d.format)return`Yanl mtn: "${d.includes}" daxil olmaldr`;if("regex"===d.format)return`Yanl mtn: ${d.pattern} ablonuna uyun olmaldr`;return`Yanl ${b[d.format]??d.format}`;case"not_multiple_of":return`Yanl dd: ${d.divisor} il b\xf6l\xfcn biln olmaldr`;case"unrecognized_keys":return`Tannmayan a\xe7ar${d.keys.length>1?"lar":""}: ${li(d.keys,", ")}`;case"invalid_key":return`${d.origin} daxilind yanl a\xe7ar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${d.origin} daxilind yanl dyr`;default:return`Yanl dyr`}})}},"be",0,function(){let a,b,c;return{localeError:(a={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}},b={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` :  instanceof ${d.expected},  ${e}`;return` :  ${a},  ${e}`}case"invalid_value":if(1===d.values.length)return` :  ${lL(d.values[0])}`;return` :    ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c){let a=pj(Number(d.maximum),c.unit.one,c.unit.few,c.unit.many);return` : ,  ${d.origin??""}  ${c.verb} ${b}${d.maximum.toString()} ${a}`}return` : ,  ${d.origin??""}   ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c){let a=pj(Number(d.minimum),c.unit.one,c.unit.few,c.unit.many);return` : ,  ${d.origin}  ${c.verb} ${b}${d.minimum.toString()} ${a}`}return` : ,  ${d.origin}   ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return` :    "${d.prefix}"`;if("ends_with"===d.format)return` :    "${d.suffix}"`;if("includes"===d.format)return` :   "${d.includes}"`;if("regex"===d.format)return` :    ${d.pattern}`;return` ${b[d.format]??d.format}`;case"not_multiple_of":return` :    ${d.divisor}`;case"unrecognized_keys":return` ${d.keys.length>1?"":""}: ${li(d.keys,", ")}`;case"invalid_key":return`   ${d.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${d.origin}`;default:return` `}})}},"bg",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},b={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` :  instanceof ${d.expected},  ${e}`;return` :  ${a},  ${e}`}case"invalid_value":if(1===d.values.length)return` :  ${lL(d.values[0])}`;return` :    ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` :   ${d.origin??""}   ${b}${d.maximum.toString()} ${c.unit??""}`;return` :   ${d.origin??""}   ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` :   ${d.origin}   ${b}${d.minimum.toString()} ${c.unit}`;return` :   ${d.origin}   ${b}${d.minimum.toString()}`}case"invalid_format":{if("starts_with"===d.format)return` :     "${d.prefix}"`;if("ends_with"===d.format)return` :     "${d.suffix}"`;if("includes"===d.format)return` :    "${d.includes}"`;if("regex"===d.format)return` :     ${d.pattern}`;let a="";return"emoji"===d.format&&(a=""),"datetime"===d.format&&(a=""),"date"===d.format&&(a=""),"time"===d.format&&(a=""),"duration"===d.format&&(a=""),`${a} ${b[d.format]??d.format}`}case"not_multiple_of":return` :      ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?"":""} ${d.keys.length>1?"":""}: ${li(d.keys,", ")}`;case"invalid_key":return`   ${d.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${d.origin}`;default:return` `}})}},"ca",0,function(){let a,b,c;return{localeError:(a={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}},b={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Tipus inv\xe0lid: s'esperava instanceof ${d.expected}, s'ha rebut ${e}`;return`Tipus inv\xe0lid: s'esperava ${a}, s'ha rebut ${e}`}case"invalid_value":if(1===d.values.length)return`Valor inv\xe0lid: s'esperava ${lL(d.values[0])}`;return`Opci\xf3 inv\xe0lida: s'esperava una de ${li(d.values," o ")}`;case"too_big":{let b=d.inclusive?"com a mxim":"menys de",c=a[d.origin]??null;if(c)return`Massa gran: s'esperava que ${d.origin??"el valor"} contingu\xe9s ${b} ${d.maximum.toString()} ${c.unit??"elements"}`;return`Massa gran: s'esperava que ${d.origin??"el valor"} fos ${b} ${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?"com a mnim":"ms de",c=a[d.origin]??null;if(c)return`Massa petit: s'esperava que ${d.origin} contingu\xe9s ${b} ${d.minimum.toString()} ${c.unit}`;return`Massa petit: s'esperava que ${d.origin} fos ${b} ${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Format inv\xe0lid: ha de comen\xe7ar amb "${d.prefix}"`;if("ends_with"===d.format)return`Format inv\xe0lid: ha d'acabar amb "${d.suffix}"`;if("includes"===d.format)return`Format inv\xe0lid: ha d'incloure "${d.includes}"`;if("regex"===d.format)return`Format inv\xe0lid: ha de coincidir amb el patr\xf3 ${d.pattern}`;return`Format inv\xe0lid per a ${b[d.format]??d.format}`;case"not_multiple_of":return`N\xfamero inv\xe0lid: ha de ser m\xfaltiple de ${d.divisor}`;case"unrecognized_keys":return`Clau${d.keys.length>1?"s":""} no reconeguda${d.keys.length>1?"s":""}: ${li(d.keys,", ")}`;case"invalid_key":return`Clau inv\xe0lida a ${d.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element inv\xe0lid a ${d.origin}`;default:return`Entrada inv\xe0lida`}})}},"cs",0,function(){let a,b,c;return{localeError:(a={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}},b={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"},c={nan:"NaN",number:"slo",string:"etzec",function:"funkce",array:"pole"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Neplatn\xfd vstup: oek\xe1v\xe1no instanceof ${d.expected}, obdreno ${e}`;return`Neplatn\xfd vstup: oek\xe1v\xe1no ${a}, obdreno ${e}`}case"invalid_value":if(1===d.values.length)return`Neplatn\xfd vstup: oek\xe1v\xe1no ${lL(d.values[0])}`;return`Neplatn\xe1 monost: oek\xe1v\xe1na jedna z hodnot ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Hodnota je p\xedli velk\xe1: ${d.origin??"hodnota"} mus\xed m\xedt ${b}${d.maximum.toString()} ${c.unit??"prvk"}`;return`Hodnota je p\xedli velk\xe1: ${d.origin??"hodnota"} mus\xed b\xfdt ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Hodnota je p\xedli mal\xe1: ${d.origin??"hodnota"} mus\xed m\xedt ${b}${d.minimum.toString()} ${c.unit??"prvk"}`;return`Hodnota je p\xedli mal\xe1: ${d.origin??"hodnota"} mus\xed b\xfdt ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Neplatn\xfd etzec: mus\xed za\xednat na "${d.prefix}"`;if("ends_with"===d.format)return`Neplatn\xfd etzec: mus\xed konit na "${d.suffix}"`;if("includes"===d.format)return`Neplatn\xfd etzec: mus\xed obsahovat "${d.includes}"`;if("regex"===d.format)return`Neplatn\xfd etzec: mus\xed odpov\xeddat vzoru ${d.pattern}`;return`Neplatn\xfd form\xe1t ${b[d.format]??d.format}`;case"not_multiple_of":return`Neplatn\xe9 \xedslo: mus\xed b\xfdt n\xe1sobkem ${d.divisor}`;case"unrecognized_keys":return`Nezn\xe1m\xe9 kl\xede: ${li(d.keys,", ")}`;case"invalid_key":return`Neplatn\xfd kl\xed v ${d.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn\xe1 hodnota v ${d.origin}`;default:return`Neplatn\xfd vstup`}})}},"da",0,function(){let a,b,c;return{localeError:(a={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},b={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},c={nan:"NaN",string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Ugyldigt input: forventede instanceof ${d.expected}, fik ${e}`;return`Ugyldigt input: forventede ${a}, fik ${e}`}case"invalid_value":if(1===d.values.length)return`Ugyldig v\xe6rdi: forventede ${lL(d.values[0])}`;return`Ugyldigt valg: forventede en af f\xf8lgende ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",e=a[d.origin]??null,f=c[d.origin]??d.origin;if(e)return`For stor: forventede ${f??"value"} ${e.verb} ${b} ${d.maximum.toString()} ${e.unit??"elementer"}`;return`For stor: forventede ${f??"value"} havde ${b} ${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",e=a[d.origin]??null,f=c[d.origin]??d.origin;if(e)return`For lille: forventede ${f} ${e.verb} ${b} ${d.minimum.toString()} ${e.unit}`;return`For lille: forventede ${f} havde ${b} ${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Ugyldig streng: skal starte med "${d.prefix}"`;if("ends_with"===d.format)return`Ugyldig streng: skal ende med "${d.suffix}"`;if("includes"===d.format)return`Ugyldig streng: skal indeholde "${d.includes}"`;if("regex"===d.format)return`Ugyldig streng: skal matche m\xf8nsteret ${d.pattern}`;return`Ugyldig ${b[d.format]??d.format}`;case"not_multiple_of":return`Ugyldigt tal: skal v\xe6re deleligt med ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${li(d.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8gle i ${d.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xe6rdi i ${d.origin}`;default:return"Ugyldigt input"}})}},"de",0,function(){let a,b,c;return{localeError:(a={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}},b={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},c={nan:"NaN",number:"Zahl",array:"Array"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Ung\xfcltige Eingabe: erwartet instanceof ${d.expected}, erhalten ${e}`;return`Ung\xfcltige Eingabe: erwartet ${a}, erhalten ${e}`}case"invalid_value":if(1===d.values.length)return`Ung\xfcltige Eingabe: erwartet ${lL(d.values[0])}`;return`Ung\xfcltige Option: erwartet eine von ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Zu gro\xdf: erwartet, dass ${d.origin??"Wert"} ${b}${d.maximum.toString()} ${c.unit??"Elemente"} hat`;return`Zu gro\xdf: erwartet, dass ${d.origin??"Wert"} ${b}${d.maximum.toString()} ist`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Zu klein: erwartet, dass ${d.origin} ${b}${d.minimum.toString()} ${c.unit} hat`;return`Zu klein: erwartet, dass ${d.origin} ${b}${d.minimum.toString()} ist`}case"invalid_format":if("starts_with"===d.format)return`Ung\xfcltiger String: muss mit "${d.prefix}" beginnen`;if("ends_with"===d.format)return`Ung\xfcltiger String: muss mit "${d.suffix}" enden`;if("includes"===d.format)return`Ung\xfcltiger String: muss "${d.includes}" enthalten`;if("regex"===d.format)return`Ung\xfcltiger String: muss dem Muster ${d.pattern} entsprechen`;return`Ung\xfcltig: ${b[d.format]??d.format}`;case"not_multiple_of":return`Ung\xfcltige Zahl: muss ein Vielfaches von ${d.divisor} sein`;case"unrecognized_keys":return`${d.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${li(d.keys,", ")}`;case"invalid_key":return`Ung\xfcltiger Schl\xfcssel in ${d.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ung\xfcltiger Wert in ${d.origin}`;default:return`Ung\xfcltige Eingabe`}})}},"en",0,pk,"eo",0,function(){let a,b,c;return{localeError:(a={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}},b={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},c={nan:"NaN",number:"nombro",array:"tabelo",null:"senvalora"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Nevalida enigo: atendiis instanceof ${d.expected}, riceviis ${e}`;return`Nevalida enigo: atendiis ${a}, riceviis ${e}`}case"invalid_value":if(1===d.values.length)return`Nevalida enigo: atendiis ${lL(d.values[0])}`;return`Nevalida opcio: atendiis unu el ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Tro granda: atendiis ke ${d.origin??"valoro"} havu ${b}${d.maximum.toString()} ${c.unit??"elementojn"}`;return`Tro granda: atendiis ke ${d.origin??"valoro"} havu ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Tro malgranda: atendiis ke ${d.origin} havu ${b}${d.minimum.toString()} ${c.unit}`;return`Tro malgranda: atendiis ke ${d.origin} estu ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Nevalida karaktraro: devas komencii per "${d.prefix}"`;if("ends_with"===d.format)return`Nevalida karaktraro: devas finii per "${d.suffix}"`;if("includes"===d.format)return`Nevalida karaktraro: devas inkluzivi "${d.includes}"`;if("regex"===d.format)return`Nevalida karaktraro: devas kongrui kun la modelo ${d.pattern}`;return`Nevalida ${b[d.format]??d.format}`;case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${d.divisor}`;case"unrecognized_keys":return`Nekonata${d.keys.length>1?"j":""} losilo${d.keys.length>1?"j":""}: ${li(d.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${d.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${d.origin}`}})}},"es",0,function(){let a,b,c;return{localeError:(a={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},b={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},c={nan:"NaN",string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Entrada inv\xe1lida: se esperaba instanceof ${d.expected}, recibido ${e}`;return`Entrada inv\xe1lida: se esperaba ${a}, recibido ${e}`}case"invalid_value":if(1===d.values.length)return`Entrada inv\xe1lida: se esperaba ${lL(d.values[0])}`;return`Opci\xf3n inv\xe1lida: se esperaba una de ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",e=a[d.origin]??null,f=c[d.origin]??d.origin;if(e)return`Demasiado grande: se esperaba que ${f??"valor"} tuviera ${b}${d.maximum.toString()} ${e.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${f??"valor"} fuera ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",e=a[d.origin]??null,f=c[d.origin]??d.origin;if(e)return`Demasiado peque\xf1o: se esperaba que ${f} tuviera ${b}${d.minimum.toString()} ${e.unit}`;return`Demasiado peque\xf1o: se esperaba que ${f} fuera ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Cadena inv\xe1lida: debe comenzar con "${d.prefix}"`;if("ends_with"===d.format)return`Cadena inv\xe1lida: debe terminar en "${d.suffix}"`;if("includes"===d.format)return`Cadena inv\xe1lida: debe incluir "${d.includes}"`;if("regex"===d.format)return`Cadena inv\xe1lida: debe coincidir con el patr\xf3n ${d.pattern}`;return`Inv\xe1lido ${b[d.format]??d.format}`;case"not_multiple_of":return`N\xfamero inv\xe1lido: debe ser m\xfaltiplo de ${d.divisor}`;case"unrecognized_keys":return`Llave${d.keys.length>1?"s":""} desconocida${d.keys.length>1?"s":""}: ${li(d.keys,", ")}`;case"invalid_key":return`Llave inv\xe1lida en ${c[d.origin]??d.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido en ${c[d.origin]??d.origin}`;default:return`Entrada inv\xe1lida`}})}},"fa",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},b={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` :  instanceof ${d.expected}  ${e}  `;return` :  ${a}  ${e}  `}case"invalid_value":if(1===d.values.length)return` :  ${lL(d.values[0])} `;return` :    ${li(d.values,"|")} `;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` : ${d.origin??""}  ${b}${d.maximum.toString()} ${c.unit??""} `;return` : ${d.origin??""}  ${b}${d.maximum.toString()} `}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` : ${d.origin}  ${b}${d.minimum.toString()} ${c.unit} `;return` : ${d.origin}  ${b}${d.minimum.toString()} `}case"invalid_format":if("starts_with"===d.format)return` :   "${d.prefix}"  `;if("ends_with"===d.format)return` :   "${d.suffix}"  `;if("includes"===d.format)return` :   "${d.includes}" `;if("regex"===d.format)return` :    ${d.pattern}   `;return`${b[d.format]??d.format} `;case"not_multiple_of":return` :   ${d.divisor} `;case"unrecognized_keys":return`${d.keys.length>1?"":""} : ${li(d.keys,", ")}`;case"invalid_key":return`   ${d.origin}`;case"invalid_union":default:return` `;case"invalid_element":return`   ${d.origin}`}})}},"fi",0,function(){let a,b,c;return{localeError:(a={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}},b={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Virheellinen tyyppi: odotettiin instanceof ${d.expected}, oli ${e}`;return`Virheellinen tyyppi: odotettiin ${a}, oli ${e}`}case"invalid_value":if(1===d.values.length)return`Virheellinen sy\xf6te: t\xe4ytyy olla ${lL(d.values[0])}`;return`Virheellinen valinta: t\xe4ytyy olla yksi seuraavista: ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Liian suuri: ${c.subject} t\xe4ytyy olla ${b}${d.maximum.toString()} ${c.unit}`.trim();return`Liian suuri: arvon t\xe4ytyy olla ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Liian pieni: ${c.subject} t\xe4ytyy olla ${b}${d.minimum.toString()} ${c.unit}`.trim();return`Liian pieni: arvon t\xe4ytyy olla ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Virheellinen sy\xf6te: t\xe4ytyy alkaa "${d.prefix}"`;if("ends_with"===d.format)return`Virheellinen sy\xf6te: t\xe4ytyy loppua "${d.suffix}"`;if("includes"===d.format)return`Virheellinen sy\xf6te: t\xe4ytyy sis\xe4lt\xe4\xe4 "${d.includes}"`;if("regex"===d.format)return`Virheellinen sy\xf6te: t\xe4ytyy vastata s\xe4\xe4nn\xf6llist\xe4 lauseketta ${d.pattern}`;return`Virheellinen ${b[d.format]??d.format}`;case"not_multiple_of":return`Virheellinen luku: t\xe4ytyy olla luvun ${d.divisor} monikerta`;case"unrecognized_keys":return`${d.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${li(d.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return`Virheellinen sy\xf6te`}})}},"fr",0,function(){let a,b,c;return{localeError:(a={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},b={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},c={nan:"NaN",number:"nombre",array:"tableau"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Entr\xe9e invalide : instanceof ${d.expected} attendu, ${e} re\xe7u`;return`Entr\xe9e invalide : ${a} attendu, ${e} re\xe7u`}case"invalid_value":if(1===d.values.length)return`Entr\xe9e invalide : ${lL(d.values[0])} attendu`;return`Option invalide : une valeur parmi ${li(d.values,"|")} attendue`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Trop grand : ${d.origin??"valeur"} doit ${c.verb} ${b}${d.maximum.toString()} ${c.unit??"lment(s)"}`;return`Trop grand : ${d.origin??"valeur"} doit \xeatre ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Trop petit : ${d.origin} doit ${c.verb} ${b}${d.minimum.toString()} ${c.unit}`;return`Trop petit : ${d.origin} doit \xeatre ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Cha\xeene invalide : doit commencer par "${d.prefix}"`;if("ends_with"===d.format)return`Cha\xeene invalide : doit se terminer par "${d.suffix}"`;if("includes"===d.format)return`Cha\xeene invalide : doit inclure "${d.includes}"`;if("regex"===d.format)return`Cha\xeene invalide : doit correspondre au mod\xe8le ${d.pattern}`;return`${b[d.format]??d.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${d.divisor}`;case"unrecognized_keys":return`Cl\xe9${d.keys.length>1?"s":""} non reconnue${d.keys.length>1?"s":""} : ${li(d.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${d.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${d.origin}`;default:return`Entr\xe9e invalide`}})}},"frCA",0,function(){let a,b,c;return{localeError:(a={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},b={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Entr\xe9e invalide : attendu instanceof ${d.expected}, re\xe7u ${e}`;return`Entr\xe9e invalide : attendu ${a}, re\xe7u ${e}`}case"invalid_value":if(1===d.values.length)return`Entr\xe9e invalide : attendu ${lL(d.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"":"<",c=a[d.origin]??null;if(c)return`Trop grand : attendu que ${d.origin??"la valeur"} ait ${b}${d.maximum.toString()} ${c.unit}`;return`Trop grand : attendu que ${d.origin??"la valeur"} soit ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?"":">",c=a[d.origin]??null;if(c)return`Trop petit : attendu que ${d.origin} ait ${b}${d.minimum.toString()} ${c.unit}`;return`Trop petit : attendu que ${d.origin} soit ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Cha\xeene invalide : doit commencer par "${d.prefix}"`;if("ends_with"===d.format)return`Cha\xeene invalide : doit se terminer par "${d.suffix}"`;if("includes"===d.format)return`Cha\xeene invalide : doit inclure "${d.includes}"`;if("regex"===d.format)return`Cha\xeene invalide : doit correspondre au motif ${d.pattern}`;return`${b[d.format]??d.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${d.divisor}`;case"unrecognized_keys":return`Cl\xe9${d.keys.length>1?"s":""} non reconnue${d.keys.length>1?"s":""} : ${li(d.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${d.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${d.origin}`;default:return`Entr\xe9e invalide`}})}},"he",0,function(){let a,b,c,d,e,f,g,h,i;return{localeError:(a={string:{label:"",gender:"f"},number:{label:"",gender:"m"},boolean:{label:" ",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"",gender:"m"},array:{label:"",gender:"m"},object:{label:"",gender:"m"},null:{label:"  (null)",gender:"m"},undefined:{label:"   (undefined)",gender:"m"},symbol:{label:" (Symbol)",gender:"m"},function:{label:"",gender:"f"},map:{label:" (Map)",gender:"f"},set:{label:" (Set)",gender:"f"},file:{label:"",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"  ",gender:"m"},value:{label:"",gender:"m"}},b={string:{unit:"",shortLabel:"",longLabel:""},file:{unit:"",shortLabel:"",longLabel:""},array:{unit:"",shortLabel:"",longLabel:""},set:{unit:"",shortLabel:"",longLabel:""},number:{unit:"",shortLabel:"",longLabel:""}},c=b=>b?a[b]:void 0,d=b=>{let d=c(b);return d?d.label:b??a.unknown.label},e=a=>`${d(a)}`,f=a=>{let b=c(a);return"f"===(b?.gender??"m")?" ":" "},g=a=>a?b[a]??null:null,h={regex:{label:"",gender:"m"},email:{label:" ",gender:"f"},url:{label:" ",gender:"f"},emoji:{label:"'",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"  ISO",gender:"m"},date:{label:" ISO",gender:"m"},time:{label:" ISO",gender:"m"},duration:{label:"  ISO",gender:"m"},ipv4:{label:" IPv4",gender:"f"},ipv6:{label:" IPv6",gender:"f"},cidrv4:{label:" IPv4",gender:"m"},cidrv6:{label:" IPv6",gender:"m"},base64:{label:"  64",gender:"f"},base64url:{label:"  64  ",gender:"f"},json_string:{label:" JSON",gender:"f"},e164:{label:" E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"",gender:"m"},includes:{label:"",gender:"m"},lowercase:{label:"",gender:"m"},starts_with:{label:"",gender:"m"},uppercase:{label:"",gender:"m"}},i={nan:"NaN"},b=>{switch(b.code){case"invalid_type":{let c=b.expected,e=i[c??""]??d(c),f=l0(b.input),g=i[f]??a[f]?.label??f;if(/^[A-Z]/.test(b.expected))return`  :   instanceof ${b.expected},  ${g}`;return`  :   ${e},  ${g}`}case"invalid_value":{if(1===b.values.length)return`  :    ${lL(b.values[0])}`;let a=b.values.map(a=>lL(a));if(2===b.values.length)return`  :    ${a[0]}  ${a[1]}`;let c=a[a.length-1],d=a.slice(0,-1).join(", ");return`  :    ${d}  ${c}`}case"too_big":{let a=g(b.origin),c=e(b.origin??"value");if("string"===b.origin)return`${a?.longLabel??""} : ${c}   ${b.maximum.toString()} ${a?.unit??""} ${b.inclusive?" ":" "}`.trim();if("number"===b.origin){let a=b.inclusive?`   -${b.maximum}`:` -${b.maximum}`;return` : ${c}   ${a}`}if("array"===b.origin||"set"===b.origin){let d="set"===b.origin?"":"",e=b.inclusive?`${b.maximum} ${a?.unit??""}  `:` -${b.maximum} ${a?.unit??""}`;return` : ${c} ${d}  ${e}`.trim()}let d=b.inclusive?"<=":"<",h=f(b.origin??"value");if(a?.unit)return`${a.longLabel} : ${c} ${h} ${d}${b.maximum.toString()} ${a.unit}`;return`${a?.longLabel??""} : ${c} ${h} ${d}${b.maximum.toString()}`}case"too_small":{let a=g(b.origin),c=e(b.origin??"value");if("string"===b.origin)return`${a?.shortLabel??""} : ${c}   ${b.minimum.toString()} ${a?.unit??""} ${b.inclusive?" ":""}`.trim();if("number"===b.origin){let a=b.inclusive?`   -${b.minimum}`:` -${b.minimum}`;return` : ${c}   ${a}`}if("array"===b.origin||"set"===b.origin){let d="set"===b.origin?"":"";if(1===b.minimum&&b.inclusive){let a=(b.origin,"  ");return` : ${c} ${d}  ${a}`}let e=b.inclusive?`${b.minimum} ${a?.unit??""}  `:` -${b.minimum} ${a?.unit??""}`;return` : ${c} ${d}  ${e}`.trim()}let d=b.inclusive?">=":">",h=f(b.origin??"value");if(a?.unit)return`${a.shortLabel} : ${c} ${h} ${d}${b.minimum.toString()} ${a.unit}`;return`${a?.shortLabel??""} : ${c} ${h} ${d}${b.minimum.toString()}`}case"invalid_format":{if("starts_with"===b.format)return`    "${b.prefix}"`;if("ends_with"===b.format)return`    "${b.suffix}"`;if("includes"===b.format)return`   "${b.includes}"`;if("regex"===b.format)return`    ${b.pattern}`;let a=h[b.format],c=a?.label??b.format,d=a?.gender??"m";return`${c}  ${"f"===d?"":""}`}case"not_multiple_of":return`  :     ${b.divisor}`;case"unrecognized_keys":return`${b.keys.length>1?"":""}  ${b.keys.length>1?"":""}: ${li(b.keys,", ")}`;case"invalid_key":return`   `;case"invalid_union":return"  ";case"invalid_element":{let a=e(b.origin??"array");return`   ${a}`}default:return`  `}})}},"hu",0,function(){let a,b,c;return{localeError:(a={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}},b={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"},c={nan:"NaN",number:"szm",array:"tmb"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k instanceof ${d.expected}, a kapott \xe9rt\xe9k ${e}`;return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${a}, a kapott \xe9rt\xe9k ${e}`}case"invalid_value":if(1===d.values.length)return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${lL(d.values[0])}`;return`\xc9rv\xe9nytelen opci\xf3: valamelyik \xe9rt\xe9k v\xe1rt ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`T\xfal nagy: ${d.origin??"rtk"} m\xe9rete t\xfal nagy ${b}${d.maximum.toString()} ${c.unit??"elem"}`;return`T\xfal nagy: a bemeneti \xe9rt\xe9k ${d.origin??"rtk"} t\xfal nagy: ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${d.origin} m\xe9rete t\xfal kicsi ${b}${d.minimum.toString()} ${c.unit}`;return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${d.origin} t\xfal kicsi ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`\xc9rv\xe9nytelen string: "${d.prefix}" \xe9rt\xe9kkel kell kezddnie`;if("ends_with"===d.format)return`\xc9rv\xe9nytelen string: "${d.suffix}" \xe9rt\xe9kkel kell v\xe9gzdnie`;if("includes"===d.format)return`\xc9rv\xe9nytelen string: "${d.includes}" \xe9rt\xe9ket kell tartalmaznia`;if("regex"===d.format)return`\xc9rv\xe9nytelen string: ${d.pattern} mint\xe1nak kell megfelelnie`;return`\xc9rv\xe9nytelen ${b[d.format]??d.format}`;case"not_multiple_of":return`\xc9rv\xe9nytelen sz\xe1m: ${d.divisor} t\xf6bbsz\xf6r\xf6s\xe9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${d.keys.length>1?"s":""}: ${li(d.keys,", ")}`;case"invalid_key":return`\xc9rv\xe9nytelen kulcs ${d.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`\xc9rv\xe9nytelen \xe9rt\xe9k: ${d.origin}`;default:return`\xc9rv\xe9nytelen bemenet`}})}},"hy",0,function(){let a,b,c;return{localeError:(a={string:{unit:{one:"",many:""},verb:""},file:{unit:{one:"",many:""},verb:""},array:{unit:{one:"",many:""},verb:""},set:{unit:{one:"",many:""},verb:""}},b={regex:"",email:". ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`    instanceof ${d.expected},   ${e}`;return`    ${a},   ${e}`}case"invalid_value":if(1===d.values.length)return`    ${lL(d.values[1])}`;return`      ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c){let a=pl(Number(d.maximum),c.unit.one,c.unit.many);return`    ,  ${pm(d.origin??"")}  ${b}${d.maximum.toString()} ${a}`}return`    ,  ${pm(d.origin??"")}  ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c){let a=pl(Number(d.minimum),c.unit.one,c.unit.many);return`    ,  ${pm(d.origin)}  ${b}${d.minimum.toString()} ${a}`}return`    ,  ${pm(d.origin)}  ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`     "${d.prefix}"-`;if("ends_with"===d.format)return`     "${d.suffix}"-`;if("includes"===d.format)return`     "${d.includes}"`;if("regex"===d.format)return`     ${d.pattern} `;return` ${b[d.format]??d.format}`;case"not_multiple_of":return`      ${d.divisor}-`;case"unrecognized_keys":return` ${d.keys.length>1?"":""}. ${li(d.keys,", ")}`;case"invalid_key":return`  ${pm(d.origin)}-`;case"invalid_union":return" ";case"invalid_element":return`  ${pm(d.origin)}-`;default:return` `}})}},"id",0,function(){let a,b,c;return{localeError:(a={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}},b={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Input tidak valid: diharapkan instanceof ${d.expected}, diterima ${e}`;return`Input tidak valid: diharapkan ${a}, diterima ${e}`}case"invalid_value":if(1===d.values.length)return`Input tidak valid: diharapkan ${lL(d.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Terlalu besar: diharapkan ${d.origin??"value"} memiliki ${b}${d.maximum.toString()} ${c.unit??"elemen"}`;return`Terlalu besar: diharapkan ${d.origin??"value"} menjadi ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Terlalu kecil: diharapkan ${d.origin} memiliki ${b}${d.minimum.toString()} ${c.unit}`;return`Terlalu kecil: diharapkan ${d.origin} menjadi ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`String tidak valid: harus dimulai dengan "${d.prefix}"`;if("ends_with"===d.format)return`String tidak valid: harus berakhir dengan "${d.suffix}"`;if("includes"===d.format)return`String tidak valid: harus menyertakan "${d.includes}"`;if("regex"===d.format)return`String tidak valid: harus sesuai pola ${d.pattern}`;return`${b[d.format]??d.format} tidak valid`;case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${d.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${d.keys.length>1?"s":""}: ${li(d.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${d.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${d.origin}`}})}},"is",0,function(){let a,b,c;return{localeError:(a={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}},b={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"},c={nan:"NaN",number:"nmer",array:"fylki"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Rangt gildi: \xde\xfa sl\xf3st inn ${e} \xfear sem \xe1 a\xf0 vera instanceof ${d.expected}`;return`Rangt gildi: \xde\xfa sl\xf3st inn ${e} \xfear sem \xe1 a\xf0 vera ${a}`}case"invalid_value":if(1===d.values.length)return`Rangt gildi: gert r\xe1\xf0 fyrir ${lL(d.values[0])}`;return`\xd3gilt val: m\xe1 vera eitt af eftirfarandi ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${d.origin??"gildi"} hafi ${b}${d.maximum.toString()} ${c.unit??"hluti"}`;return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${d.origin??"gildi"} s\xe9 ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${d.origin} hafi ${b}${d.minimum.toString()} ${c.unit}`;return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${d.origin} s\xe9 ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 byrja \xe1 "${d.prefix}"`;if("ends_with"===d.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 enda \xe1 "${d.suffix}"`;if("includes"===d.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 innihalda "${d.includes}"`;if("regex"===d.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 fylgja mynstri ${d.pattern}`;return`Rangt ${b[d.format]??d.format}`;case"not_multiple_of":return`R\xf6ng tala: ver\xf0ur a\xf0 vera margfeldi af ${d.divisor}`;case"unrecognized_keys":return`\xd3\xfeekkt ${d.keys.length>1?"ir lyklar":"ur lykill"}: ${li(d.keys,", ")}`;case"invalid_key":return`Rangur lykill \xed ${d.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi \xed ${d.origin}`}})}},"it",0,function(){let a,b,c;return{localeError:(a={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}},b={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},c={nan:"NaN",number:"numero",array:"vettore"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Input non valido: atteso instanceof ${d.expected}, ricevuto ${e}`;return`Input non valido: atteso ${a}, ricevuto ${e}`}case"invalid_value":if(1===d.values.length)return`Input non valido: atteso ${lL(d.values[0])}`;return`Opzione non valida: atteso uno tra ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Troppo grande: ${d.origin??"valore"} deve avere ${b}${d.maximum.toString()} ${c.unit??"elementi"}`;return`Troppo grande: ${d.origin??"valore"} deve essere ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Troppo piccolo: ${d.origin} deve avere ${b}${d.minimum.toString()} ${c.unit}`;return`Troppo piccolo: ${d.origin} deve essere ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Stringa non valida: deve iniziare con "${d.prefix}"`;if("ends_with"===d.format)return`Stringa non valida: deve terminare con "${d.suffix}"`;if("includes"===d.format)return`Stringa non valida: deve includere "${d.includes}"`;if("regex"===d.format)return`Stringa non valida: deve corrispondere al pattern ${d.pattern}`;return`Invalid ${b[d.format]??d.format}`;case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${d.divisor}`;case"unrecognized_keys":return`Chiav${d.keys.length>1?"i":"e"} non riconosciut${d.keys.length>1?"e":"a"}: ${li(d.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${d.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${d.origin}`}})}},"ja",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`: instanceof ${d.expected}${e}`;return`: ${a}${e}`}case"invalid_value":if(1===d.values.length)return`: ${lL(d.values[0])}`;return`: ${li(d.values,"")}`;case"too_big":{let b=d.inclusive?"":"",c=a[d.origin]??null;if(c)return`: ${d.origin??""}${d.maximum.toString()}${c.unit??""}${b}`;return`: ${d.origin??""}${d.maximum.toString()}${b}`}case"too_small":{let b=d.inclusive?"":"",c=a[d.origin]??null;if(c)return`: ${d.origin}${d.minimum.toString()}${c.unit}${b}`;return`: ${d.origin}${d.minimum.toString()}${b}`}case"invalid_format":if("starts_with"===d.format)return`: "${d.prefix}"`;if("ends_with"===d.format)return`: "${d.suffix}"`;if("includes"===d.format)return`: "${d.includes}"`;if("regex"===d.format)return`: ${d.pattern}`;return`${b[d.format]??d.format}`;case"not_multiple_of":return`: ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?"":""}: ${li(d.keys,"")}`;case"invalid_key":return`${d.origin}`;case"invalid_union":return"";case"invalid_element":return`${d.origin}`;default:return``}})}},"ka",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},b={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",string:"",boolean:"",function:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` :  instanceof ${d.expected},  ${e}`;return` :  ${a},  ${e}`}case"invalid_value":if(1===d.values.length)return` :  ${lL(d.values[0])}`;return` :  - ${li(d.values,"|")}-`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` :  ${d.origin??""} ${c.verb} ${b}${d.maximum.toString()} ${c.unit}`;return` :  ${d.origin??""}  ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` :  ${d.origin} ${c.verb} ${b}${d.minimum.toString()} ${c.unit}`;return` :  ${d.origin}  ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return` :   "${d.prefix}"-`;if("ends_with"===d.format)return` :   "${d.suffix}"-`;if("includes"===d.format)return` :   "${d.includes}"-`;if("regex"===d.format)return` :    ${d.pattern}`;return` ${b[d.format]??d.format}`;case"not_multiple_of":return` :   ${d.divisor}- `;case"unrecognized_keys":return` ${d.keys.length>1?"":""}: ${li(d.keys,", ")}`;case"invalid_key":return`  ${d.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${d.origin}-`;default:return` `}})}},"kh",0,function(){return pn()},"km",0,pn,"ko",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}},b={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` :   instanceof ${d.expected},   ${e}`;return` :   ${a},   ${e}`}case"invalid_value":if(1===d.values.length)return` :  ${lL(d.values[0])}  `;return` : ${li(d.values," ")}   `;case"too_big":{let b=d.inclusive?"":"",c=""===b?" ":" ",e=a[d.origin]??null,f=e?.unit??"";if(e)return`${d.origin??""}  : ${d.maximum.toString()}${f} ${b}${c}`;return`${d.origin??""}  : ${d.maximum.toString()} ${b}${c}`}case"too_small":{let b=d.inclusive?"":"",c=""===b?" ":" ",e=a[d.origin]??null,f=e?.unit??"";if(e)return`${d.origin??""}  : ${d.minimum.toString()}${f} ${b}${c}`;return`${d.origin??""}  : ${d.minimum.toString()} ${b}${c}`}case"invalid_format":if("starts_with"===d.format)return` : "${d.prefix}"()  `;if("ends_with"===d.format)return` : "${d.suffix}"()  `;if("includes"===d.format)return` : "${d.includes}"()  `;if("regex"===d.format)return` :  ${d.pattern}   `;return` ${b[d.format]??d.format}`;case"not_multiple_of":return` : ${d.divisor}  `;case"unrecognized_keys":return`   : ${li(d.keys,", ")}`;case"invalid_key":return` : ${d.origin}`;case"invalid_union":default:return` `;case"invalid_element":return` : ${d.origin}`}})}},"lt",0,function(){return{localeError:(()=>{let a={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function b(b,c,d,e){let f=a[b]??null;return null===f?f:{unit:f.unit[c],verb:f.verb[e][d?"inclusive":"notInclusive"]}}let c={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"},d={nan:"NaN",number:"skaiius",bigint:"sveikasis skaiius",string:"eilut",boolean:"login reikm",undefined:"neapibrta reikm",function:"funkcija",symbol:"simbolis",array:"masyvas",object:"objektas",null:"nulin reikm"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=l0(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Gautas tipas ${e}, o tiktasi - instanceof ${a.expected}`;return`Gautas tipas ${e}, o tiktasi - ${b}`}case"invalid_value":if(1===a.values.length)return`Privalo bti ${lL(a.values[0])}`;return`Privalo bti vienas i ${li(a.values,"|")} pasirinkim`;case"too_big":{let c=d[a.origin]??a.origin,e=b(a.origin,pp(Number(a.maximum)),a.inclusive??!1,"smaller");if(e?.verb)return`${po(c??a.origin??"reikm")} ${e.verb} ${a.maximum.toString()} ${e.unit??"element"}`;let f=a.inclusive?"ne didesnis kaip":"maesnis kaip";return`${po(c??a.origin??"reikm")} turi bti ${f} ${a.maximum.toString()} ${e?.unit}`}case"too_small":{let c=d[a.origin]??a.origin,e=b(a.origin,pp(Number(a.minimum)),a.inclusive??!1,"bigger");if(e?.verb)return`${po(c??a.origin??"reikm")} ${e.verb} ${a.minimum.toString()} ${e.unit??"element"}`;let f=a.inclusive?"ne maesnis kaip":"didesnis kaip";return`${po(c??a.origin??"reikm")} turi bti ${f} ${a.minimum.toString()} ${e?.unit}`}case"invalid_format":if("starts_with"===a.format)return`Eilut privalo prasidti "${a.prefix}"`;if("ends_with"===a.format)return`Eilut privalo pasibaigti "${a.suffix}"`;if("includes"===a.format)return`Eilut privalo traukti "${a.includes}"`;if("regex"===a.format)return`Eilut privalo atitikti ${a.pattern}`;return`Neteisingas ${c[a.format]??a.format}`;case"not_multiple_of":return`Skaiius privalo bti ${a.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${a.keys.length>1?"i":"as"} rakt${a.keys.length>1?"ai":"as"}: ${li(a.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga vestis";case"invalid_element":{let b=d[a.origin]??a.origin;return`${po(b??a.origin??"reikm")} turi klaiding vest`}}}})()}},"mk",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},b={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` :   instanceof ${d.expected},  ${e}`;return` :   ${a},  ${e}`}case"invalid_value":if(1===d.values.length)return`Invalid input: expected ${lL(d.values[0])}`;return` :    ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` :   ${d.origin??""}   ${b}${d.maximum.toString()} ${c.unit??""}`;return` :   ${d.origin??""}   ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` :   ${d.origin}   ${b}${d.minimum.toString()} ${c.unit}`;return` :   ${d.origin}   ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return` :     "${d.prefix}"`;if("ends_with"===d.format)return` :     "${d.suffix}"`;if("includes"===d.format)return` :    "${d.includes}"`;if("regex"===d.format)return` :      ${d.pattern}`;return`Invalid ${b[d.format]??d.format}`;case"not_multiple_of":return` :      ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?" ":" "}: ${li(d.keys,", ")}`;case"invalid_key":return`   ${d.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${d.origin}`;default:return` `}})}},"ms",0,function(){let a,b,c;return{localeError:(a={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}},b={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},c={nan:"NaN",number:"nombor"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Input tidak sah: dijangka instanceof ${d.expected}, diterima ${e}`;return`Input tidak sah: dijangka ${a}, diterima ${e}`}case"invalid_value":if(1===d.values.length)return`Input tidak sah: dijangka ${lL(d.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Terlalu besar: dijangka ${d.origin??"nilai"} ${c.verb} ${b}${d.maximum.toString()} ${c.unit??"elemen"}`;return`Terlalu besar: dijangka ${d.origin??"nilai"} adalah ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Terlalu kecil: dijangka ${d.origin} ${c.verb} ${b}${d.minimum.toString()} ${c.unit}`;return`Terlalu kecil: dijangka ${d.origin} adalah ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`String tidak sah: mesti bermula dengan "${d.prefix}"`;if("ends_with"===d.format)return`String tidak sah: mesti berakhir dengan "${d.suffix}"`;if("includes"===d.format)return`String tidak sah: mesti mengandungi "${d.includes}"`;if("regex"===d.format)return`String tidak sah: mesti sepadan dengan corak ${d.pattern}`;return`${b[d.format]??d.format} tidak sah`;case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${d.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${li(d.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${d.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${d.origin}`}})}},"nl",0,function(){let a,b,c;return{localeError:(a={string:{unit:"tekens",verb:"heeft"},file:{unit:"bytes",verb:"heeft"},array:{unit:"elementen",verb:"heeft"},set:{unit:"elementen",verb:"heeft"}},b={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},c={nan:"NaN",number:"getal"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Ongeldige invoer: verwacht instanceof ${d.expected}, ontving ${e}`;return`Ongeldige invoer: verwacht ${a}, ontving ${e}`}case"invalid_value":if(1===d.values.length)return`Ongeldige invoer: verwacht ${lL(d.values[0])}`;return`Ongeldige optie: verwacht \xe9\xe9n van ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null,e="date"===d.origin?"laat":"string"===d.origin?"lang":"groot";if(c)return`Te ${e}: verwacht dat ${d.origin??"waarde"} ${b}${d.maximum.toString()} ${c.unit??"elementen"} ${c.verb}`;return`Te ${e}: verwacht dat ${d.origin??"waarde"} ${b}${d.maximum.toString()} is`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null,e="date"===d.origin?"vroeg":"string"===d.origin?"kort":"klein";if(c)return`Te ${e}: verwacht dat ${d.origin} ${b}${d.minimum.toString()} ${c.unit} ${c.verb}`;return`Te ${e}: verwacht dat ${d.origin} ${b}${d.minimum.toString()} is`}case"invalid_format":if("starts_with"===d.format)return`Ongeldige tekst: moet met "${d.prefix}" beginnen`;if("ends_with"===d.format)return`Ongeldige tekst: moet op "${d.suffix}" eindigen`;if("includes"===d.format)return`Ongeldige tekst: moet "${d.includes}" bevatten`;if("regex"===d.format)return`Ongeldige tekst: moet overeenkomen met patroon ${d.pattern}`;return`Ongeldig: ${b[d.format]??d.format}`;case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${d.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${d.keys.length>1?"s":""}: ${li(d.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${d.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${d.origin}`}})}},"no",0,function(){let a,b,c;return{localeError:(a={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}},b={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},c={nan:"NaN",number:"tall",array:"liste"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Ugyldig input: forventet instanceof ${d.expected}, fikk ${e}`;return`Ugyldig input: forventet ${a}, fikk ${e}`}case"invalid_value":if(1===d.values.length)return`Ugyldig verdi: forventet ${lL(d.values[0])}`;return`Ugyldig valg: forventet en av ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`For stor(t): forventet ${d.origin??"value"} til \xe5 ha ${b}${d.maximum.toString()} ${c.unit??"elementer"}`;return`For stor(t): forventet ${d.origin??"value"} til \xe5 ha ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`For lite(n): forventet ${d.origin} til \xe5 ha ${b}${d.minimum.toString()} ${c.unit}`;return`For lite(n): forventet ${d.origin} til \xe5 ha ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Ugyldig streng: m\xe5 starte med "${d.prefix}"`;if("ends_with"===d.format)return`Ugyldig streng: m\xe5 ende med "${d.suffix}"`;if("includes"===d.format)return`Ugyldig streng: m\xe5 inneholde "${d.includes}"`;if("regex"===d.format)return`Ugyldig streng: m\xe5 matche m\xf8nsteret ${d.pattern}`;return`Ugyldig ${b[d.format]??d.format}`;case"not_multiple_of":return`Ugyldig tall: m\xe5 v\xe6re et multiplum av ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${li(d.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8kkel i ${d.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${d.origin}`}})}},"ota",0,function(){let a,b,c;return{localeError:(a={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}},b={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"},c={nan:"NaN",number:"numara",array:"saf",null:"gayb"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`F\xe2sit giren: umulan instanceof ${d.expected}, alnan ${e}`;return`F\xe2sit giren: umulan ${a}, alnan ${e}`}case"invalid_value":if(1===d.values.length)return`F\xe2sit giren: umulan ${lL(d.values[0])}`;return`F\xe2sit tercih: m\xfbteberler ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Fazla b\xfcy\xfck: ${d.origin??"value"}, ${b}${d.maximum.toString()} ${c.unit??"elements"} sahip olmalyd.`;return`Fazla b\xfcy\xfck: ${d.origin??"value"}, ${b}${d.maximum.toString()} olmalyd.`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Fazla k\xfc\xe7\xfck: ${d.origin}, ${b}${d.minimum.toString()} ${c.unit} sahip olmalyd.`;return`Fazla k\xfc\xe7\xfck: ${d.origin}, ${b}${d.minimum.toString()} olmalyd.`}case"invalid_format":if("starts_with"===d.format)return`F\xe2sit metin: "${d.prefix}" ile balamal.`;if("ends_with"===d.format)return`F\xe2sit metin: "${d.suffix}" ile bitmeli.`;if("includes"===d.format)return`F\xe2sit metin: "${d.includes}" ihtiv\xe2 etmeli.`;if("regex"===d.format)return`F\xe2sit metin: ${d.pattern} nakna uymal.`;return`F\xe2sit ${b[d.format]??d.format}`;case"not_multiple_of":return`F\xe2sit say: ${d.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${d.keys.length>1?"s":""}: ${li(d.keys,", ")}`;case"invalid_key":return`${d.origin} i\xe7in tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${d.origin} i\xe7in tannmayan kymet var.`;default:return`Kymet tannamad.`}})}},"pl",0,function(){let a,b,c;return{localeError:(a={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}},b={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"},c={nan:"NaN",number:"liczba",array:"tablica"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Nieprawidowe dane wejciowe: oczekiwano instanceof ${d.expected}, otrzymano ${e}`;return`Nieprawidowe dane wejciowe: oczekiwano ${a}, otrzymano ${e}`}case"invalid_value":if(1===d.values.length)return`Nieprawidowe dane wejciowe: oczekiwano ${lL(d.values[0])}`;return`Nieprawidowa opcja: oczekiwano jednej z wartoci ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Za dua warto: oczekiwano, e ${d.origin??"warto"} bdzie mie ${b}${d.maximum.toString()} ${c.unit??"elementw"}`;return`Zbyt du(y/a/e): oczekiwano, e ${d.origin??"warto"} bdzie wynosi ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Za maa warto: oczekiwano, e ${d.origin??"warto"} bdzie mie ${b}${d.minimum.toString()} ${c.unit??"elementw"}`;return`Zbyt ma(y/a/e): oczekiwano, e ${d.origin??"warto"} bdzie wynosi ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Nieprawidowy cig znak\xf3w: musi zaczyna si od "${d.prefix}"`;if("ends_with"===d.format)return`Nieprawidowy cig znak\xf3w: musi koczy si na "${d.suffix}"`;if("includes"===d.format)return`Nieprawidowy cig znak\xf3w: musi zawiera "${d.includes}"`;if("regex"===d.format)return`Nieprawidowy cig znak\xf3w: musi odpowiada wzorcowi ${d.pattern}`;return`Nieprawidow(y/a/e) ${b[d.format]??d.format}`;case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${d.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${d.keys.length>1?"s":""}: ${li(d.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${d.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${d.origin}`;default:return`Nieprawidowe dane wejciowe`}})}},"ps",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` :  instanceof ${d.expected} ,  ${e}  `;return` :  ${a} ,  ${e}  `}case"invalid_value":if(1===d.values.length)return` :  ${lL(d.values[0])} `;return` :    ${li(d.values,"|")}  `;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` : ${d.origin??""}  ${b}${d.maximum.toString()} ${c.unit??""} `;return` : ${d.origin??""}  ${b}${d.maximum.toString()} `}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` : ${d.origin}  ${b}${d.minimum.toString()} ${c.unit} `;return` : ${d.origin}  ${b}${d.minimum.toString()} `}case"invalid_format":if("starts_with"===d.format)return` :   "${d.prefix}"   `;if("ends_with"===d.format)return` :   "${d.suffix}"    `;if("includes"===d.format)return` :  "${d.includes}" `;if("regex"===d.format)return` :   ${d.pattern}   `;return`${b[d.format]??d.format}  `;case"not_multiple_of":return` :   ${d.divisor}  `;case"unrecognized_keys":return` ${d.keys.length>1?"":""}: ${li(d.keys,", ")}`;case"invalid_key":return`   ${d.origin} `;case"invalid_union":default:return` `;case"invalid_element":return`   ${d.origin} `}})}},"pt",0,function(){let a,b,c;return{localeError:(a={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}},b={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},c={nan:"NaN",number:"nmero",null:"nulo"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Tipo inv\xe1lido: esperado instanceof ${d.expected}, recebido ${e}`;return`Tipo inv\xe1lido: esperado ${a}, recebido ${e}`}case"invalid_value":if(1===d.values.length)return`Entrada inv\xe1lida: esperado ${lL(d.values[0])}`;return`Op\xe7\xe3o inv\xe1lida: esperada uma das ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Muito grande: esperado que ${d.origin??"valor"} tivesse ${b}${d.maximum.toString()} ${c.unit??"elementos"}`;return`Muito grande: esperado que ${d.origin??"valor"} fosse ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Muito pequeno: esperado que ${d.origin} tivesse ${b}${d.minimum.toString()} ${c.unit}`;return`Muito pequeno: esperado que ${d.origin} fosse ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Texto inv\xe1lido: deve come\xe7ar com "${d.prefix}"`;if("ends_with"===d.format)return`Texto inv\xe1lido: deve terminar com "${d.suffix}"`;if("includes"===d.format)return`Texto inv\xe1lido: deve incluir "${d.includes}"`;if("regex"===d.format)return`Texto inv\xe1lido: deve corresponder ao padr\xe3o ${d.pattern}`;return`${b[d.format]??d.format} inv\xe1lido`;case"not_multiple_of":return`N\xfamero inv\xe1lido: deve ser m\xfaltiplo de ${d.divisor}`;case"unrecognized_keys":return`Chave${d.keys.length>1?"s":""} desconhecida${d.keys.length>1?"s":""}: ${li(d.keys,", ")}`;case"invalid_key":return`Chave inv\xe1lida em ${d.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido em ${d.origin}`;default:return`Campo inv\xe1lido`}})}},"ru",0,function(){let a,b,c;return{localeError:(a={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}},b={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` :  instanceof ${d.expected},  ${e}`;return` :  ${a},  ${e}`}case"invalid_value":if(1===d.values.length)return` :  ${lL(d.values[0])}`;return` :    ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c){let a=pq(Number(d.maximum),c.unit.one,c.unit.few,c.unit.many);return`  : ,  ${d.origin??""}   ${b}${d.maximum.toString()} ${a}`}return`  : ,  ${d.origin??""}  ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c){let a=pq(Number(d.minimum),c.unit.one,c.unit.few,c.unit.many);return`  : ,  ${d.origin}   ${b}${d.minimum.toString()} ${a}`}return`  : ,  ${d.origin}  ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return` :    "${d.prefix}"`;if("ends_with"===d.format)return` :    "${d.suffix}"`;if("includes"===d.format)return` :   "${d.includes}"`;if("regex"===d.format)return` :    ${d.pattern}`;return` ${b[d.format]??d.format}`;case"not_multiple_of":return` :    ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?"":""} ${d.keys.length>1?"":""}: ${li(d.keys,", ")}`;case"invalid_key":return`   ${d.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${d.origin}`;default:return`  `}})}},"sl",0,function(){let a,b,c;return{localeError:(a={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}},b={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"},c={nan:"NaN",number:"tevilo",array:"tabela"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Neveljaven vnos: priakovano instanceof ${d.expected}, prejeto ${e}`;return`Neveljaven vnos: priakovano ${a}, prejeto ${e}`}case"invalid_value":if(1===d.values.length)return`Neveljaven vnos: priakovano ${lL(d.values[0])}`;return`Neveljavna monost: priakovano eno izmed ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Preveliko: priakovano, da bo ${d.origin??"vrednost"} imelo ${b}${d.maximum.toString()} ${c.unit??"elementov"}`;return`Preveliko: priakovano, da bo ${d.origin??"vrednost"} ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Premajhno: priakovano, da bo ${d.origin} imelo ${b}${d.minimum.toString()} ${c.unit}`;return`Premajhno: priakovano, da bo ${d.origin} ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Neveljaven niz: mora se zaeti z "${d.prefix}"`;if("ends_with"===d.format)return`Neveljaven niz: mora se konati z "${d.suffix}"`;if("includes"===d.format)return`Neveljaven niz: mora vsebovati "${d.includes}"`;if("regex"===d.format)return`Neveljaven niz: mora ustrezati vzorcu ${d.pattern}`;return`Neveljaven ${b[d.format]??d.format}`;case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${d.divisor}`;case"unrecognized_keys":return`Neprepoznan${d.keys.length>1?"i kljui":" klju"}: ${li(d.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${d.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${d.origin}`}})}},"sv",0,function(){let a,b,c;return{localeError:(a={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}},b={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},c={nan:"NaN",number:"antal",array:"lista"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Ogiltig inmatning: f\xf6rv\xe4ntat instanceof ${d.expected}, fick ${e}`;return`Ogiltig inmatning: f\xf6rv\xe4ntat ${a}, fick ${e}`}case"invalid_value":if(1===d.values.length)return`Ogiltig inmatning: f\xf6rv\xe4ntat ${lL(d.values[0])}`;return`Ogiltigt val: f\xf6rv\xe4ntade en av ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`F\xf6r stor(t): f\xf6rv\xe4ntade ${d.origin??"vrdet"} att ha ${b}${d.maximum.toString()} ${c.unit??"element"}`;return`F\xf6r stor(t): f\xf6rv\xe4ntat ${d.origin??"vrdet"} att ha ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`F\xf6r lite(t): f\xf6rv\xe4ntade ${d.origin??"vrdet"} att ha ${b}${d.minimum.toString()} ${c.unit}`;return`F\xf6r lite(t): f\xf6rv\xe4ntade ${d.origin??"vrdet"} att ha ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Ogiltig str\xe4ng: m\xe5ste b\xf6rja med "${d.prefix}"`;if("ends_with"===d.format)return`Ogiltig str\xe4ng: m\xe5ste sluta med "${d.suffix}"`;if("includes"===d.format)return`Ogiltig str\xe4ng: m\xe5ste inneh\xe5lla "${d.includes}"`;if("regex"===d.format)return`Ogiltig str\xe4ng: m\xe5ste matcha m\xf6nstret "${d.pattern}"`;return`Ogiltig(t) ${b[d.format]??d.format}`;case"not_multiple_of":return`Ogiltigt tal: m\xe5ste vara en multipel av ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${li(d.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${d.origin??"vrdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xe4rde i ${d.origin??"vrdet"}`}})}},"ta",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},b={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"},c={nan:"NaN",number:"",array:"",null:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` :  instanceof ${d.expected},  ${e}`;return` :  ${a},  ${e}`}case"invalid_value":if(1===d.values.length)return` :  ${lL(d.values[0])}`;return` :  ${li(d.values,"|")}  `;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` :  ${d.origin??""} ${b}${d.maximum.toString()} ${c.unit??""}   `;return` :  ${d.origin??""} ${b}${d.maximum.toString()}   `}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` :  ${d.origin} ${b}${d.minimum.toString()} ${c.unit}   `;return` :  ${d.origin} ${b}${d.minimum.toString()}   `}case"invalid_format":if("starts_with"===d.format)return` : "${d.prefix}"   `;if("ends_with"===d.format)return` : "${d.suffix}"   `;if("includes"===d.format)return` : "${d.includes}"   `;if("regex"===d.format)return` : ${d.pattern}   `;return` ${b[d.format]??d.format}`;case"not_multiple_of":return` : ${d.divisor}    `;case"unrecognized_keys":return`  ${d.keys.length>1?"":""}: ${li(d.keys,", ")}`;case"invalid_key":return`${d.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${d.origin}   `;default:return` `}})}},"th",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""},c={nan:"NaN",number:"",array:" (Array)",null:" (null)"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`:  instanceof ${d.expected}  ${e}`;return`:  ${a}  ${e}`}case"invalid_value":if(1===d.values.length)return`:  ${lL(d.values[0])}`;return`:  ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"":"",c=a[d.origin]??null;if(c)return`: ${d.origin??""} ${b} ${d.maximum.toString()} ${c.unit??""}`;return`: ${d.origin??""} ${b} ${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?"":"",c=a[d.origin]??null;if(c)return`: ${d.origin} ${b} ${d.minimum.toString()} ${c.unit}`;return`: ${d.origin} ${b} ${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`:  "${d.prefix}"`;if("ends_with"===d.format)return`:  "${d.suffix}"`;if("includes"===d.format)return`:  "${d.includes}" `;if("regex"===d.format)return`:  ${d.pattern}`;return`: ${b[d.format]??d.format}`;case"not_multiple_of":return`:  ${d.divisor} `;case"unrecognized_keys":return`: ${li(d.keys,", ")}`;case"invalid_key":return` ${d.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${d.origin}`;default:return``}})}},"tr",0,function(){let a,b,c;return{localeError:(a={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}},b={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Ge\xe7ersiz deer: beklenen instanceof ${d.expected}, alnan ${e}`;return`Ge\xe7ersiz deer: beklenen ${a}, alnan ${e}`}case"invalid_value":if(1===d.values.length)return`Ge\xe7ersiz deer: beklenen ${lL(d.values[0])}`;return`Ge\xe7ersiz se\xe7enek: aadakilerden biri olmal: ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`\xc7ok b\xfcy\xfck: beklenen ${d.origin??"deer"} ${b}${d.maximum.toString()} ${c.unit??"e"}`;return`\xc7ok b\xfcy\xfck: beklenen ${d.origin??"deer"} ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`\xc7ok k\xfc\xe7\xfck: beklenen ${d.origin} ${b}${d.minimum.toString()} ${c.unit}`;return`\xc7ok k\xfc\xe7\xfck: beklenen ${d.origin} ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Ge\xe7ersiz metin: "${d.prefix}" ile balamal`;if("ends_with"===d.format)return`Ge\xe7ersiz metin: "${d.suffix}" ile bitmeli`;if("includes"===d.format)return`Ge\xe7ersiz metin: "${d.includes}" i\xe7ermeli`;if("regex"===d.format)return`Ge\xe7ersiz metin: ${d.pattern} desenine uymal`;return`Ge\xe7ersiz ${b[d.format]??d.format}`;case"not_multiple_of":return`Ge\xe7ersiz say: ${d.divisor} ile tam b\xf6l\xfcnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${d.keys.length>1?"lar":""}: ${li(d.keys,", ")}`;case"invalid_key":return`${d.origin} i\xe7inde ge\xe7ersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${d.origin} i\xe7inde ge\xe7ersiz deer`;default:return`Ge\xe7ersiz deer`}})}},"ua",0,function(){return pr()},"uk",0,pr,"ur",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "},c={nan:"NaN",number:"",array:"",null:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`  : instanceof ${d.expected}   ${e}  `;return`  : ${a}   ${e}  `}case"invalid_value":if(1===d.values.length)return`  : ${lL(d.values[0])}  `;return` : ${li(d.values,"|")}     `;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` : ${d.origin??""}  ${b}${d.maximum.toString()} ${c.unit??""}   `;return` : ${d.origin??""}  ${b}${d.maximum.toString()}   `}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` : ${d.origin}  ${b}${d.minimum.toString()} ${c.unit}   `;return` : ${d.origin}  ${b}${d.minimum.toString()}   `}case"invalid_format":if("starts_with"===d.format)return` : "${d.prefix}"    `;if("ends_with"===d.format)return` : "${d.suffix}"    `;if("includes"===d.format)return` : "${d.includes}"   `;if("regex"===d.format)return` :  ${d.pattern}    `;return` ${b[d.format]??d.format}`;case"not_multiple_of":return` : ${d.divisor}    `;case"unrecognized_keys":return`   ${d.keys.length>1?"":""}: ${li(d.keys," ")}`;case"invalid_key":return`${d.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${d.origin}   `;default:return`  `}})}},"uz",0,function(){let a,b,c;return{localeError:(a={string:{unit:"belgi",verb:"bolishi kerak"},file:{unit:"bayt",verb:"bolishi kerak"},array:{unit:"element",verb:"bolishi kerak"},set:{unit:"element",verb:"bolishi kerak"}},b={regex:"kirish",email:"elektron pochta manzili",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO sana va vaqti",date:"ISO sana",time:"ISO vaqt",duration:"ISO davomiylik",ipv4:"IPv4 manzil",ipv6:"IPv6 manzil",mac:"MAC manzil",cidrv4:"IPv4 diapazon",cidrv6:"IPv6 diapazon",base64:"base64 kodlangan satr",base64url:"base64url kodlangan satr",json_string:"JSON satr",e164:"E.164 raqam",jwt:"JWT",template_literal:"kirish"},c={nan:"NaN",number:"raqam",array:"massiv"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Notogri kirish: kutilgan instanceof ${d.expected}, qabul qilingan ${e}`;return`Notogri kirish: kutilgan ${a}, qabul qilingan ${e}`}case"invalid_value":if(1===d.values.length)return`Notogri kirish: kutilgan ${lL(d.values[0])}`;return`Notogri variant: quyidagilardan biri kutilgan ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Juda katta: kutilgan ${d.origin??"qiymat"} ${b}${d.maximum.toString()} ${c.unit} ${c.verb}`;return`Juda katta: kutilgan ${d.origin??"qiymat"} ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Juda kichik: kutilgan ${d.origin} ${b}${d.minimum.toString()} ${c.unit} ${c.verb}`;return`Juda kichik: kutilgan ${d.origin} ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Notogri satr: "${d.prefix}" bilan boshlanishi kerak`;if("ends_with"===d.format)return`Notogri satr: "${d.suffix}" bilan tugashi kerak`;if("includes"===d.format)return`Notogri satr: "${d.includes}" ni oz ichiga olishi kerak`;if("regex"===d.format)return`Notogri satr: ${d.pattern} shabloniga mos kelishi kerak`;return`Notogri ${b[d.format]??d.format}`;case"not_multiple_of":return`Notogri raqam: ${d.divisor} ning karralisi bolishi kerak`;case"unrecognized_keys":return`Nomalum kalit${d.keys.length>1?"lar":""}: ${li(d.keys,", ")}`;case"invalid_key":return`${d.origin} dagi kalit notogri`;case"invalid_union":return"Notogri kirish";case"invalid_element":return`${d.origin} da notogri qiymat`;default:return`Notogri kirish`}})}},"vi",0,function(){let a,b,c;return{localeError:(a={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}},b={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"},c={nan:"NaN",number:"s",array:"mng"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`u v\xe0o kh\xf4ng hp l: mong i instanceof ${d.expected}, nhn c ${e}`;return`u v\xe0o kh\xf4ng hp l: mong i ${a}, nhn c ${e}`}case"invalid_value":if(1===d.values.length)return`u v\xe0o kh\xf4ng hp l: mong i ${lL(d.values[0])}`;return`T\xf9y chn kh\xf4ng hp l: mong i mt trong c\xe1c gi\xe1 tr ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Qu\xe1 ln: mong i ${d.origin??"gi tr"} ${c.verb} ${b}${d.maximum.toString()} ${c.unit??"phn t"}`;return`Qu\xe1 ln: mong i ${d.origin??"gi tr"} ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Qu\xe1 nh: mong i ${d.origin} ${c.verb} ${b}${d.minimum.toString()} ${c.unit}`;return`Qu\xe1 nh: mong i ${d.origin} ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Chui kh\xf4ng hp l: phi bt u bng "${d.prefix}"`;if("ends_with"===d.format)return`Chui kh\xf4ng hp l: phi kt th\xfac bng "${d.suffix}"`;if("includes"===d.format)return`Chui kh\xf4ng hp l: phi bao gm "${d.includes}"`;if("regex"===d.format)return`Chui kh\xf4ng hp l: phi khp vi mu ${d.pattern}`;return`${b[d.format]??d.format} kh\xf4ng hp l`;case"not_multiple_of":return`S kh\xf4ng hp l: phi l\xe0 bi s ca ${d.divisor}`;case"unrecognized_keys":return`Kh\xf3a kh\xf4ng c nhn dng: ${li(d.keys,", ")}`;case"invalid_key":return`Kh\xf3a kh\xf4ng hp l trong ${d.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi\xe1 tr kh\xf4ng hp l trong ${d.origin}`;default:return`u v\xe0o kh\xf4ng hp l`}})}},"yo",0,function(){let a,b,c;return{localeError:(a={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}},b={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"},c={nan:"NaN",number:"nmb",array:"akop"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi instanceof ${d.expected}, \xe0m a r\xed ${e}`;return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${a}, \xe0m a r\xed ${e}`}case"invalid_value":if(1===d.values.length)return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${lL(d.values[0])}`;return`\xc0\xe0y\xe0n a\xece: yan kan l\xe1ra ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`T\xf3 p j\xf9: a n\xed l\xe1ti j p\xe9 ${d.origin??"iye"} ${c.verb} ${b}${d.maximum} ${c.unit}`;return`T\xf3 p j\xf9: a n\xed l\xe1ti j ${b}${d.maximum}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`K\xe9r\xe9 ju: a n\xed l\xe1ti j p\xe9 ${d.origin} ${c.verb} ${b}${d.minimum} ${c.unit}`;return`K\xe9r\xe9 ju: a n\xed l\xe1ti j ${b}${d.minimum}`}case"invalid_format":if("starts_with"===d.format)return`r a\xece: gbd br pl\xfa "${d.prefix}"`;if("ends_with"===d.format)return`r a\xece: gbd par\xed pl\xfa "${d.suffix}"`;if("includes"===d.format)return`r a\xece: gbd n\xed "${d.includes}"`;if("regex"===d.format)return`r a\xece: gbd b\xe1 \xe0pr mu ${d.pattern}`;return`A\xece: ${b[d.format]??d.format}`;case"not_multiple_of":return`Nmb\xe0 a\xece: gbd j \xe8y\xe0 p\xedp\xedn ti ${d.divisor}`;case"unrecognized_keys":return`Bt\xecn\xec \xe0\xecm: ${li(d.keys,", ")}`;case"invalid_key":return`Bt\xecn\xec a\xece n\xedn\xfa ${d.origin}`;case"invalid_union":default:return"bwl ae";case"invalid_element":return`Iye a\xece n\xedn\xfa ${d.origin}`}})}},"zhCN",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:"",null:"(null)"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` instanceof ${d.expected} ${e}`;return` ${a} ${e}`}case"invalid_value":if(1===d.values.length)return` ${lL(d.values[0])}`;return` ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` ${d.origin??""} ${b}${d.maximum.toString()} ${c.unit??""}`;return` ${d.origin??""} ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` ${d.origin} ${b}${d.minimum.toString()} ${c.unit}`;return` ${d.origin} ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return` "${d.prefix}" `;if("ends_with"===d.format)return` "${d.suffix}" `;if("includes"===d.format)return` "${d.includes}"`;if("regex"===d.format)return` ${d.pattern}`;return`${b[d.format]??d.format}`;case"not_multiple_of":return` ${d.divisor} `;case"unrecognized_keys":return`(key): ${li(d.keys,", ")}`;case"invalid_key":return`${d.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${d.origin} (value)`;default:return``}})}},"zhTW",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=l0(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` instanceof ${d.expected} ${e}`;return` ${a} ${e}`}case"invalid_value":if(1===d.values.length)return` ${lL(d.values[0])}`;return` ${li(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` ${d.origin??""}  ${b}${d.maximum.toString()} ${c.unit??""}`;return` ${d.origin??""}  ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` ${d.origin}  ${b}${d.minimum.toString()} ${c.unit}`;return` ${d.origin}  ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return` "${d.prefix}" `;if("ends_with"===d.format)return` "${d.suffix}" `;if("includes"===d.format)return` "${d.includes}"`;if("regex"===d.format)return` ${d.pattern}`;return` ${b[d.format]??d.format}`;case"not_multiple_of":return` ${d.divisor} `;case"unrecognized_keys":return`${d.keys.length>1?"":""}${li(d.keys,"")}`;case"invalid_key":return`${d.origin} `;case"invalid_union":return"";case"invalid_element":return`${d.origin} `;default:return``}})}}],69617);var vg=a.i(69617);a.i(44123),a.i(55358),a.i(88688),a.i(32607);var vh=a.i(46435);a.s(["$ZodAny",0,os,"$ZodArray",0,oy,"$ZodAsyncError",()=>k8,"$ZodBase64",0,od,"$ZodBase64URL",0,of,"$ZodBigInt",0,on,"$ZodBigIntFormat",0,oo,"$ZodBoolean",0,om,"$ZodCIDRv4",0,oa,"$ZodCIDRv6",0,ob,"$ZodCUID",0,n$,"$ZodCUID2",0,n_,"$ZodCatch",0,o4,"$ZodCheck",0,nr,"$ZodCheckBigIntFormat",0,nx,"$ZodCheckEndsWith",0,nK,"$ZodCheckGreaterThan",0,nu,"$ZodCheckIncludes",0,nI,"$ZodCheckLengthEquals",0,nD,"$ZodCheckLessThan",0,nt,"$ZodCheckLowerCase",0,nG,"$ZodCheckMaxLength",0,nB,"$ZodCheckMaxSize",0,ny,"$ZodCheckMimeType",0,nN,"$ZodCheckMinLength",0,nC,"$ZodCheckMinSize",0,nz,"$ZodCheckMultipleOf",0,nv,"$ZodCheckNumberFormat",0,nw,"$ZodCheckOverwrite",0,nO,"$ZodCheckProperty",0,nM,"$ZodCheckRegex",0,nF,"$ZodCheckSizeEquals",0,nA,"$ZodCheckStartsWith",0,nJ,"$ZodCheckStringFormat",0,nE,"$ZodCheckUpperCase",0,nH,"$ZodCodec",0,o8,"$ZodCustom",0,ph,"$ZodCustomStringFormat",0,oj,"$ZodDate",0,ow,"$ZodDefault",0,o$,"$ZodDiscriminatedUnion",0,oI,"$ZodE164",0,og,"$ZodEmail",0,nW,"$ZodEmoji",0,nY,"$ZodEncodeError",()=>k9,"$ZodEnum",0,oS,"$ZodError",0,mb,"$ZodExactOptional",0,oY,"$ZodFile",0,oU,"$ZodFunction",0,pe,"$ZodGUID",0,nU,"$ZodIPv4",0,n7,"$ZodIPv6",0,n8,"$ZodISODate",0,n4,"$ZodISODateTime",0,n3,"$ZodISODuration",0,n6,"$ZodISOTime",0,n5,"$ZodIntersection",0,oJ,"$ZodJWT",0,oi,"$ZodKSUID",0,n2,"$ZodLazy",0,pg,"$ZodLiteral",0,oT,"$ZodMAC",0,n9,"$ZodMap",0,oO,"$ZodNaN",0,o5,"$ZodNanoID",0,nZ,"$ZodNever",0,ou,"$ZodNonOptional",0,o1,"$ZodNull",0,or,"$ZodNullable",0,oZ,"$ZodNumber",0,ok,"$ZodNumberFormat",0,ol,"$ZodObject",0,oC,"$ZodObjectJIT",0,oD,"$ZodOptional",0,oX,"$ZodPipe",0,o6,"$ZodPrefault",0,o0,"$ZodPromise",0,pf,"$ZodReadonly",0,pb,"$ZodRealError",0,mc,"$ZodRecord",0,oN,"$ZodRegistry",()=>pu,"$ZodSet",0,oQ,"$ZodString",0,nS,"$ZodStringFormat",0,nT,"$ZodSuccess",0,o3,"$ZodSymbol",0,op,"$ZodTemplateLiteral",0,pd,"$ZodTransform",0,oV,"$ZodTuple",0,oL,"$ZodType",0,nR,"$ZodULID",0,n0,"$ZodURL",0,nX,"$ZodUUID",0,nV,"$ZodUndefined",0,oq,"$ZodUnion",0,oF,"$ZodUnknown",0,ot,"$ZodVoid",0,ov,"$ZodXID",0,n1,"$ZodXor",0,oH,"$brand",0,k7,"$constructor",()=>k6,"$input",0,pt,"$output",0,ps,"Doc",()=>nP,"JSONSchema",0,vh,"JSONSchemaGenerator",()=>r4,"NEVER",0,k5,"TimePrecision",0,pW,"_any",()=>qf,"_array",()=>qP,"_base64",()=>pS,"_base64url",()=>pT,"_bigint",()=>p8,"_boolean",()=>p6,"_catch",()=>q6,"_check",()=>rf,"_cidrv4",()=>pQ,"_cidrv6",()=>pR,"_coercedBigint",()=>p9,"_coercedBoolean",()=>p7,"_coercedDate",()=>qk,"_coercedNumber",()=>p0,"_coercedString",()=>py,"_cuid",()=>pI,"_cuid2",()=>pJ,"_custom",()=>rc,"_date",()=>qj,"_decode",0,ms,"_decodeAsync",0,mw,"_default",()=>q3,"_discriminatedUnion",()=>qS,"_e164",()=>pU,"_email",()=>pz,"_emoji",()=>pG,"_encode",0,mq,"_encodeAsync",0,mu,"_endsWith",()=>qG,"_enum",()=>qY,"_file",()=>q_,"_float32",()=>p2,"_float64",()=>p3,"_gt",()=>qo,"_gte",()=>qp,"_guid",()=>pA,"_includes",()=>qE,"_int",()=>p1,"_int32",()=>p4,"_int64",()=>qa,"_intersection",()=>qT,"_ipv4",()=>pN,"_ipv6",()=>pO,"_isoDate",()=>pY,"_isoDateTime",()=>pX,"_isoDuration",()=>p$,"_isoTime",()=>pZ,"_jwt",()=>pV,"_ksuid",()=>pM,"_lazy",()=>ra,"_length",()=>qA,"_literal",()=>q$,"_lowercase",()=>qC,"_lt",()=>qm,"_lte",()=>qn,"_mac",()=>pP,"_map",()=>qW,"_max",()=>qn,"_maxLength",()=>qy,"_maxSize",()=>qv,"_mime",()=>qI,"_min",()=>qp,"_minLength",()=>qz,"_minSize",()=>qw,"_multipleOf",()=>qu,"_nan",()=>ql,"_nanoid",()=>pH,"_nativeEnum",()=>qZ,"_negative",()=>qr,"_never",()=>qh,"_nonnegative",()=>qt,"_nonoptional",()=>q4,"_nonpositive",()=>qs,"_normalize",()=>qK,"_null",()=>qe,"_nullable",()=>q2,"_number",()=>p_,"_optional",()=>q1,"_overwrite",()=>qJ,"_parse",0,mi,"_parseAsync",0,mk,"_pipe",()=>q7,"_positive",()=>qq,"_promise",()=>rb,"_property",()=>qH,"_readonly",()=>q8,"_record",()=>qV,"_refine",()=>rd,"_regex",()=>qB,"_safeDecode",0,mA,"_safeDecodeAsync",0,mE,"_safeEncode",0,my,"_safeEncodeAsync",0,mC,"_safeParse",0,mm,"_safeParseAsync",0,mo,"_set",()=>qX,"_size",()=>qx,"_slugify",()=>qO,"_startsWith",()=>qF,"_string",()=>px,"_stringFormat",()=>rj,"_stringbool",()=>ri,"_success",()=>q5,"_superRefine",()=>re,"_symbol",()=>qc,"_templateLiteral",()=>q9,"_toLowerCase",()=>qM,"_toUpperCase",()=>qN,"_transform",()=>q0,"_trim",()=>qL,"_tuple",()=>qU,"_uint32",()=>p5,"_uint64",()=>qb,"_ulid",()=>pK,"_undefined",()=>qd,"_union",()=>qQ,"_unknown",()=>qg,"_uppercase",()=>qD,"_url",()=>pF,"_uuid",()=>pB,"_uuidv4",()=>pC,"_uuidv6",()=>pD,"_uuidv7",()=>pE,"_void",()=>qi,"_xid",()=>pL,"_xor",()=>qR,"clone",()=>lI,"config",()=>lb,"createStandardJSONSchemaMethod",0,rp,"createToJSONSchemaMethod",0,ro,"decode",0,mt,"decodeAsync",0,mx,"describe",()=>rg,"encode",0,mr,"encodeAsync",0,mv,"extractDefs",()=>rm,"finalize",()=>rn,"flattenError",()=>md,"formatError",()=>me,"globalConfig",0,la,"globalRegistry",0,pw,"initializeContext",()=>rk,"isValidBase64",()=>oc,"isValidBase64URL",()=>oe,"isValidJWT",()=>oh,"locales",0,vg,"meta",()=>rh,"parse",0,mj,"parseAsync",0,ml,"prettifyError",()=>mh,"process",()=>rl,"regexes",0,vf,"registry",()=>pv,"safeDecode",0,mB,"safeDecodeAsync",0,mF,"safeEncode",0,mz,"safeEncodeAsync",0,mD,"safeParse",0,mn,"safeParseAsync",0,mp,"toDotPath",()=>mg,"toJSONSchema",()=>r3,"treeifyError",()=>mf,"util",0,ve,"version",0,nQ],32476);var vi=a.i(32476);a.i(35355),a.i(45104),a.i(4431),a.s(["$brand",0,k7,"ZodFirstPartyTypeKind",()=>o,"ZodIssueCode",0,u1,"config",()=>lb,"getErrorMap",()=>u3,"setErrorMap",()=>u2],34999),a.i(34999);var r5=r5,r6=r6,vj=a.i(47586);a.s(["$brand",0,k7,"$input",0,pt,"$output",0,ps,"NEVER",0,k5,"TimePrecision",0,pW,"ZodAny",0,tF,"ZodArray",0,tP,"ZodBase64",0,s7,"ZodBase64URL",0,s9,"ZodBigInt",0,tu,"ZodBigIntFormat",0,tw,"ZodBoolean",0,ts,"ZodCIDRv4",0,s3,"ZodCIDRv6",0,s5,"ZodCUID",0,sP,"ZodCUID2",0,sR,"ZodCatch",0,uA,"ZodCodec",0,uG,"ZodCustom",0,uS,"ZodCustomStringFormat",0,tf,"ZodDate",0,tN,"ZodDefault",0,us,"ZodDiscriminatedUnion",0,t$,"ZodE164",0,tb,"ZodEmail",0,sz,"ZodEmoji",0,sL,"ZodEnum",0,uc,"ZodError",0,sg,"ZodExactOptional",0,un,"ZodFile",0,uh,"ZodFirstPartyTypeKind",()=>o,"ZodFunction",0,uQ,"ZodGUID",0,sB,"ZodIPv4",0,sZ,"ZodIPv6",0,s1,"ZodISODate",0,r9,"ZodISODateTime",0,r7,"ZodISODuration",0,sd,"ZodISOTime",0,sb,"ZodIntersection",0,t0,"ZodIssueCode",0,u1,"ZodJWT",0,td,"ZodKSUID",0,sX,"ZodLazy",0,uM,"ZodLiteral",0,uf,"ZodMAC",0,s_,"ZodMap",0,t8,"ZodNaN",0,uC,"ZodNanoID",0,sN,"ZodNever",0,tJ,"ZodNonOptional",0,uw,"ZodNull",0,tD,"ZodNullable",0,up,"ZodNumber",0,tk,"ZodNumberFormat",0,tm,"ZodObject",0,tS,"ZodOptional",0,ul,"ZodPipe",0,uE,"ZodPrefault",0,uu,"ZodPromise",0,uO,"ZodReadonly",0,uI,"ZodRealError",0,sh,"ZodRecord",0,t4,"ZodSet",0,ua,"ZodString",0,sw,"ZodStringFormat",0,sy,"ZodSuccess",0,uy,"ZodSymbol",0,tz,"ZodTemplateLiteral",0,uK,"ZodTransform",0,uj,"ZodTuple",0,t2,"ZodType",0,su,"ZodULID",0,sT,"ZodURL",0,sI,"ZodUUID",0,sD,"ZodUndefined",0,tB,"ZodUnion",0,tW,"ZodUnknown",0,tH,"ZodVoid",0,tL,"ZodXID",0,sV,"ZodXor",0,tY,"_ZodString",0,sv,"_default",()=>ut,"_function",()=>uR,"any",()=>tG,"array",()=>tQ,"base64",()=>s8,"base64url",()=>ta,"bigint",()=>tv,"boolean",()=>tt,"catch",()=>uB,"check",()=>uT,"cidrv4",()=>s4,"cidrv6",()=>s6,"clone",()=>lI,"codec",()=>uH,"coerce",0,vj,"config",()=>lb,"core",0,vi,"cuid",()=>sQ,"cuid2",()=>sS,"custom",()=>uU,"date",()=>tO,"decode",0,sn,"decodeAsync",0,sp,"describe",0,uX,"discriminatedUnion",()=>t_,"e164",()=>tc,"email",()=>sA,"emoji",()=>sM,"encode",0,sm,"encodeAsync",0,so,"endsWith",()=>qG,"enum",()=>ud,"exactOptional",()=>uo,"file",()=>ui,"flattenError",()=>md,"float32",()=>to,"float64",()=>tp,"formatError",()=>me,"fromJSONSchema",()=>u8,"function",()=>uR,"getErrorMap",()=>u3,"globalRegistry",0,pw,"gt",()=>qo,"gte",()=>qp,"guid",()=>sC,"hash",()=>tj,"hex",()=>ti,"hostname",()=>th,"httpUrl",()=>sK,"includes",()=>qE,"instanceof",()=>uZ,"int",()=>tn,"int32",()=>tq,"int64",()=>tx,"intersection",()=>t1,"ipv4",()=>s$,"ipv6",()=>s2,"iso",0,u5,"json",()=>u_,"jwt",()=>te,"keyof",()=>tR,"ksuid",()=>sY,"lazy",()=>uN,"length",()=>qA,"literal",()=>ug,"locales",0,vg,"looseObject",()=>tV,"looseRecord",()=>t7,"lowercase",()=>qC,"lt",()=>qm,"lte",()=>qn,"mac",()=>s0,"map",()=>t9,"maxLength",()=>qy,"maxSize",()=>qv,"meta",0,uY,"mime",()=>qI,"minLength",()=>qz,"minSize",()=>qw,"multipleOf",()=>qu,"nan",()=>uD,"nanoid",()=>sO,"nativeEnum",()=>ue,"negative",()=>qr,"never",()=>tK,"nonnegative",()=>qt,"nonoptional",()=>ux,"nonpositive",()=>qs,"normalize",()=>qK,"null",()=>tE,"nullable",()=>uq,"nullish",()=>ur,"number",()=>tl,"object",()=>tT,"optional",()=>um,"overwrite",()=>qJ,"parse",0,si,"parseAsync",0,sj,"partialRecord",()=>t6,"pipe",()=>uF,"positive",()=>qq,"prefault",()=>uv,"preprocess",()=>u0,"prettifyError",()=>mh,"promise",()=>uP,"property",()=>qH,"readonly",()=>uJ,"record",()=>t5,"refine",()=>uV,"regex",()=>qB,"regexes",()=>r5,"registry",()=>pv,"safeDecode",0,sr,"safeDecodeAsync",0,st,"safeEncode",0,sq,"safeEncodeAsync",0,ss,"safeParse",0,sk,"safeParseAsync",0,sl,"set",()=>ub,"setErrorMap",()=>u2,"size",()=>qx,"slugify",()=>qO,"startsWith",()=>qF,"strictObject",()=>tU,"string",()=>sx,"stringFormat",()=>tg,"stringbool",0,u$,"success",()=>uz,"superRefine",()=>uW,"symbol",()=>tA,"templateLiteral",()=>uL,"toJSONSchema",()=>r3,"toLowerCase",()=>qM,"toUpperCase",()=>qN,"transform",()=>uk,"treeifyError",()=>mf,"trim",()=>qL,"tuple",()=>t3,"uint32",()=>tr,"uint64",()=>ty,"ulid",()=>sU,"undefined",()=>tC,"union",()=>tX,"unknown",()=>tI,"uppercase",()=>qD,"url",()=>sJ,"util",()=>r6,"uuid",()=>sE,"uuidv4",()=>sF,"uuidv6",()=>sG,"uuidv7",()=>sH,"void",()=>tM,"xid",()=>sW,"xor",()=>tZ],42981);var vk=a.i(42981),vk=vk,vl=vk.enum(["graph","sequence","flow"]),vm=vk.enum(["actor","lifeline","message","activity","state","class"]),vn=vk.enum(["ellipse","rectangle","round-rectangle","diamond","hexagon","triangle"]),vo=vk.enum(["solid","dash","dot","double","bold","arrow","open-arrow"]),vp=vk.enum(["next","call","return","async","transition","inherit","association"]),vq=vk.enum(["LR","RL","TB","BT"]),vr=vk.object({direction:vq.default("LR")}),vs=vk.object({id:vk.string(),label:vk.string().optional(),type:vk.string().optional(),kind:vm.optional(),shape:vn.optional(),properties:vk.record(vk.string(),vk.unknown()).optional()}),vt=vk.object({from:vk.string(),to:vk.string(),label:vk.string().optional(),kind:vp.optional(),link_type:vo.optional()}),vu=vk.object({type:vl.default("flow"),layout:vr.optional(),nodes:vk.array(vs),edges:vk.array(vt)}),vv=class{validate(a){return vu.parse(a)}safeValidate(a){return vu.safeParse(a)}parse(a){let b=vu.safeParse(a);if(!b.success)return{ok:!1,error:b.error};let c=b.data,d={nodes:c.nodes,edges:c.edges},e=(a=>{let b,c,d,e,f,g,h=new Set(a.nodes.map(a=>a.id)),i=[];a.edges.forEach(a=>{h.has(a.from)||i.push({type:"edge-missing-node",edge:{from:a.from,to:a.to},missing:a.from}),h.has(a.to)||i.push({type:"edge-missing-node",edge:{from:a.from,to:a.to},missing:a.to})});let{adjacency:j,incoming:k}=(b=new Map,c=new Map,a.nodes.forEach(a=>{b.set(a.id,[]),c.set(a.id,0)}),a.edges.forEach(a=>{h.has(a.from)&&h.has(a.to)&&(b.get(a.from)?.push(a.to),c.set(a.to,(c.get(a.to)??0)+1))}),{adjacency:b,incoming:c}),l=(d=new Set,e=new Set,f=!1,g=a=>{if(!f){if(d.has(a)){f=!0;return}e.has(a)||(d.add(a),(j.get(a)??[]).forEach(g),d.delete(a),e.add(a))}},Array.from(j.keys()).forEach(g),f);return((a,b)=>{let c=Array.from(b.entries()).filter(([,a])=>0===a).map(([a])=>a);if(0===c.length)return[];let d=new Set,e=[...c];for(;e.length>0;){let b=e.shift();!b||d.has(b)||(d.add(b),(a.get(b)??[]).forEach(a=>{d.has(a)||e.push(a)}))}return Array.from(a.keys()).filter(a=>!d.has(a))})(j,k).forEach(a=>{i.push({type:"unreachable-node",nodeId:a})}),{meta:{isCyclic:l},issues:i}})(c);return{ok:!0,graph:c,engineGraph:d,meta:e.meta,semantic:e.issues}}};let vw=[{selector:"node",css:{"background-color":"#1b4332","border-color":"#081c15","border-width":2,color:"#fefae0","font-size":"12px","font-weight":600,label:"data(label)","text-wrap":"wrap","text-max-width":"140px","text-valign":"center","text-halign":"center",width:"label",padding:"10px",shape:"round-rectangle"}},{selector:"node[shape]",css:{shape:"data(shape)"}},{selector:"edge",css:{width:2,"curve-style":"bezier","line-color":"#2d6a4f","target-arrow-color":"#2d6a4f","target-arrow-shape":"triangle",label:"data(label)","font-size":"10px","text-rotation":"autorotate","text-margin-y":-8,"text-background-color":"#fefae0","text-background-opacity":.9,"text-background-padding":"2px"}},{selector:'edge[link_type = "dash"]',css:{"line-style":"dashed"}},{selector:'edge[link_type = "dot"]',css:{"line-style":"dotted"}},{selector:'edge[link_type = "bold"]',css:{width:4}},{selector:'edge[link_type = "double"]',css:{width:3}},{selector:'edge[link_type = "open-arrow"]',css:{"target-arrow-shape":"vee"}},{selector:'edge[link_type = "solid"]',css:{"line-style":"solid"}},{selector:'edge[loop = "true"]',css:{"curve-style":"unbundled-bezier","control-point-distance":60,"control-point-weight":.5}}],vx={cytoscape:{id:"cytoscape",label:"Cytoscape",render:a=>{var b,c;let d,e,f,g,h={nodes:(b=a.engineGraph).nodes.map(a=>{let b={id:a.id};return void 0!==a.label&&(b.label=a.label),void 0!==a.type&&(b.type=a.type),void 0!==a.kind&&(b.kind=a.kind),void 0!==a.shape&&(b.shape=a.shape),void 0!==a.properties&&(b.properties=a.properties),{data:b}}),edges:b.edges.map(a=>{let b={id:`${a.from}->${a.to}`,source:a.from,target:a.to};return void 0!==a.label&&(b.label=a.label),void 0!==a.kind&&(b.kind=a.kind),void 0!==a.link_type&&(b.link_type=a.link_type),{data:b}})},i=new Set(h.nodes.map(a=>a.data.id)),j=h.edges.filter(a=>{let b=a.data.source,c=a.data.target;return!!b&&!!c&&i.has(b)&&i.has(c)});if(j.length!==h.edges.length)return{ok:!1,error:"Some edges reference missing or empty node ids. Fix them before rendering."};let k=(c=h.nodes.map(a=>a.data.id),d=new Map,e=new Map,f=new Set,c.forEach(a=>{d.set(a,0),e.set(a,[])}),j.forEach((a,b)=>{let c=e.get(a.data.source);c&&c.push(b)}),g=a=>{d.set(a,1),(e.get(a)??[]).forEach(a=>{let b=j[a]?.data.target;if(!b)return;let c=d.get(b)??0;0===c?g(b):1===c&&f.add(a)}),d.set(a,2)},c.forEach(a=>{(d.get(a)??0)===0&&g(a)}),f),l=j.map((a,b)=>k.has(b)?{data:{...a.data,loop:"true"}}:a);a.existingCy&&a.existingCy.destroy();let n=k4({container:a.container,elements:[...h.nodes,...l],style:vw,layout:{name:"breadthfirst",directed:!0,padding:24}}),o=a.graph.layout?.direction??"LR";return n.ready(()=>((a,b)=>{let c=a.nodes();if(0===c.length)return;let d=c.map(a=>a.position()),e=d.map(a=>a.x),f=d.map(a=>a.y),g=Math.min(...e),h=Math.min(...f),i=Math.max(1,Math.max(...e)-g),j=Math.max(1,Math.max(...f)-h);c.positions(a=>{let{x:c,y:d}=a.position(),e=c-g,f=d-h;return"BT"===b?{x:c,y:h+(j-f)}:"LR"===b?{x:g+f,y:h+(i-e)}:"RL"===b?{x:g+(j-f),y:h+e}:{x:c,y:d}}),a.fit(void 0,24)})(n,o)),{ok:!0,cy:n}}}};function vy(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function vz(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function vA(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?vz(Object(c),!0).forEach(function(b){var d;d=c[b],b in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):vz(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function vB(a){return function b(){for(var c=this,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return e.length>=a.length?a.apply(this,e):function(){for(var a=arguments.length,d=Array(a),f=0;f<a;f++)d[f]=arguments[f];return b.apply(c,[].concat(e,d))}}}function vC(a){return({}).toString.call(a).includes("Object")}function vD(a){return"function"==typeof a}var vE=vB(function(a,b){throw Error(a[b]||a.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),vF=function(a,b){return vC(b)||vE("changeType"),Object.keys(b).some(function(b){return!Object.prototype.hasOwnProperty.call(a,b)})&&vE("changeField"),b},vG=function(a){vD(a)||vE("selectorType")},vH=function(a){vD(a)||vC(a)||vE("handlerType"),vC(a)&&Object.values(a).some(function(a){return!vD(a)})&&vE("handlersType")},vI=function(a){a||vE("initialIsRequired"),vC(a)||vE("initialType"),Object.keys(a).length||vE("initialContent")};function vJ(a,b){return vD(b)?b(a.current):b}function vK(a,b){return a.current=vA(vA({},a.current),b),b}function vL(a,b,c){return vD(b)?b(a.current):Object.keys(c).forEach(function(c){var d;return null==(d=b[c])?void 0:d.call(b,a.current[c])}),c}var vM={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},vN=(d=function(a,b){throw Error(a[b]||a.default)},function a(){for(var b=this,c=arguments.length,e=Array(c),f=0;f<c;f++)e[f]=arguments[f];return e.length>=d.length?d.apply(this,e):function(){for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];return a.apply(b,[].concat(e,d))}})(vM),vO=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){return b.reduceRight(function(a,b){return b(a)},a)}},vP={type:"cancelation",msg:"operation is manually canceled"};function vQ(a){var b=!1,c=new Promise(function(c,d){a.then(function(a){return b?d(vP):c(a)}),a.catch(d)});return c.cancel=function(){return b=!0},c}var vR=function(a){if(Array.isArray(a))return a}(e=({create:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};vI(a),vH(b);var c={current:a},d=vB(vL)(c,b),e=vB(vK)(c),f=vB(vF)(a),g=vB(vJ)(c);return[function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(a){return a};return vG(a),a(c.current)},function(a){(function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){return b.reduceRight(function(a,b){return b(a)},a)}})(d,e,f,g)(a)}]}}).create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}))||function(a,b){var c=null==a?null:"u">typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),2!==h.length);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(e,2)||function(a,b){if(a){if("string"==typeof a)return vy(a,2);var c=({}).toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?vy(a,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),vS=vR[0],vT=vR[1];function vU(a){return document.body.appendChild(a)}function vV(a){var b,c,d=vS(function(a){return{config:a.config,reject:a.reject}}),e=(b="".concat(d.config.paths.vs,"/loader.js"),c=document.createElement("script"),b&&(c.src=b),c);return e.onload=function(){return a()},e.onerror=d.reject,e}function vW(){var a=vS(function(a){return{config:a.config,resolve:a.resolve,reject:a.reject}}),b=window.require;b.config(a.config),b(["vs/editor/editor.main"],function(b){var c=b.m||b;vX(c),a.resolve(c)},function(b){a.reject(b)})}function vX(a){vS().monaco||vT({monaco:a})}var vY=new Promise(function(a,b){return vT({resolve:a,reject:b})}),vZ=function(){var a=vS(function(a){return{monaco:a.monaco,isInitialized:a.isInitialized,resolve:a.resolve}});if(!a.isInitialized){if(vT({isInitialized:!0}),a.monaco)return a.resolve(a.monaco),vQ(vY);if(window.monaco&&window.monaco.editor)return vX(window.monaco),a.resolve(window.monaco),vQ(vY);vO(vU,vV)(vW)}return vQ(vY)},v$={display:"flex",position:"relative",textAlign:"initial"},v_={width:"100%"},v0={display:"none"},v1={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},v2=function({children:a}){return q.default.createElement("div",{style:v1},a)},v3=(0,q.memo)(function({width:a,height:b,isEditorReady:c,loading:d,_ref:e,className:f,wrapperProps:g}){return q.default.createElement("section",{style:{...v$,width:a,height:b},...g},!c&&q.default.createElement(v2,null,d),q.default.createElement("div",{ref:e,style:{...v_,...!c&&v0},className:f}))}),v4=function(a){(0,q.useEffect)(a,[])},v5=function(a,b,c=!0){let d=(0,q.useRef)(!0);(0,q.useEffect)(d.current||!c?()=>{d.current=!1}:a,b)};function v6(){}function v7(a,b,c,d){var e,f,g,h,i,j;return e=a,f=d,e.editor.getModel(v8(e,f))||(g=a,h=b,i=c,j=d,g.editor.createModel(h,i,j?v8(g,j):void 0))}function v8(a,b){return a.Uri.parse(b)}(0,q.memo)(function({original:a,modified:b,language:c,originalLanguage:d,modifiedLanguage:e,originalModelPath:f,modifiedModelPath:g,keepCurrentOriginalModel:h=!1,keepCurrentModifiedModel:i=!1,theme:j="light",loading:k="Loading...",options:l={},height:n="100%",width:o="100%",className:p,wrapperProps:r={},beforeMount:s=v6,onMount:t=v6}){let[u,v]=(0,q.useState)(!1),[w,x]=(0,q.useState)(!0),y=(0,q.useRef)(null),z=(0,q.useRef)(null),A=(0,q.useRef)(null),B=(0,q.useRef)(t),C=(0,q.useRef)(s),D=(0,q.useRef)(!1);v4(()=>{let a=vZ();return a.then(a=>(z.current=a)&&x(!1)).catch(a=>a?.type!=="cancelation"&&console.error("Monaco initialization: error:",a)),()=>{let b;return y.current?(b=y.current?.getModel(),void(h||b?.original?.dispose(),i||b?.modified?.dispose(),y.current?.dispose())):a.cancel()}}),v5(()=>{if(y.current&&z.current){let b=y.current.getOriginalEditor(),e=v7(z.current,a||"",d||c||"text",f||"");e!==b.getModel()&&b.setModel(e)}},[f],u),v5(()=>{if(y.current&&z.current){let a=y.current.getModifiedEditor(),d=v7(z.current,b||"",e||c||"text",g||"");d!==a.getModel()&&a.setModel(d)}},[g],u),v5(()=>{let a=y.current.getModifiedEditor();a.getOption(z.current.editor.EditorOption.readOnly)?a.setValue(b||""):b!==a.getValue()&&(a.executeEdits("",[{range:a.getModel().getFullModelRange(),text:b||"",forceMoveMarkers:!0}]),a.pushUndoStop())},[b],u),v5(()=>{y.current?.getModel()?.original.setValue(a||"")},[a],u),v5(()=>{let{original:a,modified:b}=y.current.getModel();z.current.editor.setModelLanguage(a,d||c||"text"),z.current.editor.setModelLanguage(b,e||c||"text")},[c,d,e],u),v5(()=>{z.current?.editor.setTheme(j)},[j],u),v5(()=>{y.current?.updateOptions(l)},[l],u);let E=(0,q.useCallback)(()=>{if(!z.current)return;C.current(z.current);let h=v7(z.current,a||"",d||c||"text",f||""),i=v7(z.current,b||"",e||c||"text",g||"");y.current?.setModel({original:h,modified:i})},[c,b,e,a,d,f,g]),F=(0,q.useCallback)(()=>{!D.current&&A.current&&(y.current=z.current.editor.createDiffEditor(A.current,{automaticLayout:!0,...l}),E(),z.current?.editor.setTheme(j),v(!0),D.current=!0)},[l,j,E]);return(0,q.useEffect)(()=>{u&&B.current(y.current,z.current)},[u]),(0,q.useEffect)(()=>{w||u||F()},[w,u,F]),q.default.createElement(v3,{width:o,height:n,isEditorReady:u,loading:k,_ref:A,className:p,wrapperProps:r})});var v9=function(a){let b=(0,q.useRef)();return(0,q.useEffect)(()=>{b.current=a},[a]),b.current},wa=new Map,wb=(0,q.memo)(function({defaultValue:a,defaultLanguage:b,defaultPath:c,value:d,language:e,path:f,theme:g="light",line:h,loading:i="Loading...",options:j={},overrideServices:k={},saveViewState:l=!0,keepCurrentModel:n=!1,width:o="100%",height:p="100%",className:r,wrapperProps:s={},beforeMount:t=v6,onMount:u=v6,onChange:v,onValidate:w=v6}){let[x,y]=(0,q.useState)(!1),[z,A]=(0,q.useState)(!0),B=(0,q.useRef)(null),C=(0,q.useRef)(null),D=(0,q.useRef)(null),E=(0,q.useRef)(u),F=(0,q.useRef)(t),G=(0,q.useRef)(),H=(0,q.useRef)(d),I=v9(f),J=(0,q.useRef)(!1),K=(0,q.useRef)(!1);v4(()=>{let a=vZ();return a.then(a=>(B.current=a)&&A(!1)).catch(a=>a?.type!=="cancelation"&&console.error("Monaco initialization: error:",a)),()=>C.current?void(G.current?.dispose(),n?l&&wa.set(f,C.current.saveViewState()):C.current.getModel()?.dispose(),C.current.dispose()):a.cancel()}),v5(()=>{let g=v7(B.current,a||d||"",b||e||"",f||c||"");g!==C.current?.getModel()&&(l&&wa.set(I,C.current?.saveViewState()),C.current?.setModel(g),l&&C.current?.restoreViewState(wa.get(f)))},[f],x),v5(()=>{C.current?.updateOptions(j)},[j],x),v5(()=>{C.current&&void 0!==d&&(C.current.getOption(B.current.editor.EditorOption.readOnly)?C.current.setValue(d):d!==C.current.getValue()&&(K.current=!0,C.current.executeEdits("",[{range:C.current.getModel().getFullModelRange(),text:d,forceMoveMarkers:!0}]),C.current.pushUndoStop(),K.current=!1))},[d],x),v5(()=>{let a=C.current?.getModel();a&&e&&B.current?.editor.setModelLanguage(a,e)},[e],x),v5(()=>{void 0!==h&&C.current?.revealLine(h)},[h],x),v5(()=>{B.current?.editor.setTheme(g)},[g],x);let L=(0,q.useCallback)(()=>{if(!(!D.current||!B.current)&&!J.current){F.current(B.current);let i=f||c,n=v7(B.current,d||a||"",b||e||"",i||"");C.current=B.current?.editor.create(D.current,{model:n,automaticLayout:!0,...j},k),l&&C.current.restoreViewState(wa.get(i)),B.current.editor.setTheme(g),void 0!==h&&C.current.revealLine(h),y(!0),J.current=!0}},[a,b,c,d,e,f,j,k,l,g,h]);return(0,q.useEffect)(()=>{x&&E.current(C.current,B.current)},[x]),(0,q.useEffect)(()=>{z||x||L()},[z,x,L]),H.current=d,(0,q.useEffect)(()=>{x&&v&&(G.current?.dispose(),G.current=C.current?.onDidChangeModelContent(a=>{K.current||v(C.current.getValue(),a)}))},[x,v]),(0,q.useEffect)(()=>{if(x){let a=B.current.editor.onDidChangeMarkers(a=>{let b=C.current.getModel()?.uri;if(b&&a.find(a=>a.path===b.path)){let a=B.current.editor.getModelMarkers({resource:b});w?.(a)}});return()=>{a?.dispose()}}return()=>{}},[x,w]),q.default.createElement(v3,{width:o,height:p,isEditorReady:x,loading:i,_ref:D,className:r,wrapperProps:s})});let wc={$schema:"http://json-schema.org/draft-07/schema#",type:"object",required:["nodes","edges"],additionalProperties:!1,properties:{type:{enum:["graph","sequence","flow"],default:"flow"},layout:{type:"object",additionalProperties:!1,properties:{direction:{enum:["LR","RL","TB","BT"],default:"LR"}}},nodes:{type:"array",items:{type:"object",required:["id"],additionalProperties:!1,properties:{id:{type:"string",minLength:1},label:{type:"string"},type:{type:"string"},kind:{enum:["actor","lifeline","message","activity","state","class"]},shape:{enum:["ellipse","rectangle","round-rectangle","diamond","hexagon","triangle"]},properties:{type:"object",additionalProperties:!0}}}},edges:{type:"array",items:{type:"object",required:["from","to"],additionalProperties:!1,properties:{from:{type:"string",minLength:1},to:{type:"string",minLength:1},label:{type:"string"},kind:{enum:["next","call","return","async","transition","inherit","association"]},link_type:{enum:["solid","dash","dot","double","bold","arrow","open-arrow"]}}}}}},wd=(a,b)=>{b.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,allowComments:!1,schemas:[{uri:"jsonflow-schema.json",fileMatch:["*"],schema:wc}]}),a.addCommand(b.KeyMod.CtrlCmd|b.KeyCode.Enter,()=>{let a=new CustomEvent("jsonflow:render");window.dispatchEvent(a)})};function we({value:a,status:b,errorMessage:c,semanticIssues:d,onChange:e,onRender:f}){let{theme:g}=(0,ah.useTheme)(),h=d??[],i=0===h.length?null:"edge-missing-node"===h[0].type?`Missing node "${h[0].missing}" referenced by edge ${h[0].edge.from}  ${h[0].edge.to}.`:`Unreachable node "${h[0].nodeId}".`;return(0,p.jsxs)("section",{className:"relative flex h-full flex-col rounded-2xl border bg-white p-5 shadow-sm",style:{borderColor:"var(--border)",backgroundColor:"var(--bg-primary)"},children:[(0,p.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsx)("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"JSON Editor"}),(0,p.jsx)("span",{className:"rounded-full border px-3 py-1 text-[10px] uppercase tracking-[0.3em]",style:{borderColor:"var(--border)",color:"var(--text-muted)"},children:"Monaco"})]}),(0,p.jsx)("div",{className:"mt-2 text-xs",style:{color:"var(--text-muted)"},children:"ok"===b?"Schema valid":c??"Schema error"})]}),(0,p.jsx)("div",{className:"flex flex-col items-end gap-2",children:(0,p.jsx)("span",{className:`rounded-full px-3 py-1 text-[10px] uppercase tracking-[0.3em] ${"ok"===b?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-rose-200 bg-rose-50 text-rose-700"}`,style:{borderColor:"ok"===b?"var(--accent)":"var(--border)",backgroundColor:"var(--bg-tertiary)",color:"ok"===b?"#059669":"#dc2626"},title:"ok"===b?i??"Schema valid":c??"Schema error",children:"ok"===b?"Schema OK":"Schema Error"})})]}),(0,p.jsxs)("div",{className:"absolute right-6 top-20 z-10 rounded-xl border px-3 py-2 text-xs text-left shadow-sm",style:{borderColor:"var(--border)",backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[(0,p.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,p.jsx)("span",{className:"text-[10px] uppercase tracking-[0.3em]",style:{color:"var(--text-muted)"},children:"Semantic"}),(0,p.jsx)("span",{className:"rounded-full px-2 py-0.5",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:0===h.length?"None":`${h.length} issue${1===h.length?"":"s"}`})]}),0===h.length?(0,p.jsx)("div",{className:"mt-2",children:"No semantic issues detected."}):(0,p.jsx)("div",{className:"mt-2",children:i})]}),(0,p.jsx)("div",{className:"mt-4 flex-1 min-h-[520px] overflow-hidden rounded-xl border pt-3",style:{borderColor:"var(--border)",backgroundColor:"var(--bg-primary)"},children:(0,p.jsx)(wb,{height:"100%",defaultLanguage:"json",value:a,onChange:a=>e(a??""),onMount:wd,theme:"dark"===g?"vs-dark":"light",options:{minimap:{enabled:!1},fontSize:14,fontFamily:"JetBrains Mono",scrollBeyondLastLine:!1,wordWrap:"on",quickSuggestions:!0,suggestOnTriggerCharacters:!0}})}),(0,p.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",style:{color:"var(--text-muted)"},children:[(0,p.jsx)("button",{className:"cursor-pointer rounded-full px-5 py-2 text-sm font-semibold",style:{backgroundColor:"var(--accent)",color:"var(--bg-primary)"},onClick:f,type:"button",children:"Render Now"}),(0,p.jsx)("span",{children:"Press Ctrl / Cmd + Enter to render."})]})]})}function wf({onExport:a,canExport:b,stats:c,isCyclic:d,containerRef:e}){return(0,p.jsxs)("section",{className:"flex h-full flex-col rounded-2xl border bg-white p-5 shadow-sm",style:{borderColor:"var(--border)",backgroundColor:"var(--bg-primary)"},children:[(0,p.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsx)("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Graph Preview"}),(0,p.jsx)("span",{className:"rounded-full border px-3 py-1 text-[10px] uppercase tracking-[0.3em]",style:{borderColor:"var(--border)",color:"var(--text-muted)"},children:"Cytoscape"}),d?(0,p.jsx)("span",{className:"rounded-full border px-3 py-1 text-[10px] uppercase tracking-[0.3em]",style:{borderColor:"var(--border)",color:"var(--accent)"},title:"Cycle detected in graph",children:"Cyclic"}):null]}),(0,p.jsx)("button",{className:"cursor-pointer rounded-full px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-white",style:{backgroundColor:"var(--accent)",color:"var(--bg-primary)",opacity:b?1:.5,cursor:b?"pointer":"not-allowed"},onClick:a,disabled:!b,type:"button",children:"Export PNG"})]}),(0,p.jsx)("div",{ref:e,className:"mt-4 min-h-[520px] flex-1 rounded-xl border",style:{borderColor:"var(--border)",backgroundColor:"var(--bg-primary)"}}),(0,p.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2 text-xs",style:{color:"var(--text-muted)"},children:[(0,p.jsxs)("span",{className:"rounded-full px-3 py-1",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:["nodes: ",c.nodes]}),(0,p.jsxs)("span",{className:"rounded-full px-3 py-1",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:["edges: ",c.edges]})]})]})}let wg=`{
  "type": "flow",
  "layout": { "direction": "LR" },
  "nodes": [
    { "id": "editor", "label": "Editor Layer" },
    { "id": "logic", "label": "Logic Layer" },
    { "id": "parser", "label": "Parser Layer" },
    { "id": "visual", "label": "Visualization Layer" },
    { "id": "layout", "label": "Layout Layer" }
  ],
  "edges": [
    { "from": "editor", "to": "logic", "label": "validate", "kind": "next", "link_type": "solid" },
    { "from": "logic", "to": "parser", "label": "transform", "kind": "next", "link_type": "solid" },
    { "from": "parser", "to": "visual", "label": "render-ready", "kind": "next", "link_type": "arrow" },
    { "from": "visual", "to": "layout", "label": "layout", "kind": "next", "link_type": "dash" }
  ]
}`,wh=X(wg),wi=X(wg),wj=X({ok:!1,error:null}),wk=X(wg),wl=X(null),wm=X(null),wn=X("cytoscape"),wo=new vv,wp=a=>{try{let b=JSON.parse(a),c=wo.parse(b);if(!c.ok){let a=c.error.issues;if(a&&a.length>0){let b=a[0],d=b.path.length>0?b.path.join("."):"root";return{parsed:c,errorType:"schema",error:`Schema error at ${d}: ${b.message}`}}return{parsed:c,errorType:"schema",error:"Schema validation failed."}}return{parsed:c,errorType:null,error:null}}catch(b){let a=b instanceof Error?b.message:"Invalid JSON";return{parsed:{ok:!1,error:b},errorType:"json",error:`JSON parse error: ${a}`}}};function wq(){let{theme:a}=(0,ah.useTheme)(),[b,c]=ag(wh),[d,e]=ag(wl),[f,g]=ag(wm),[h,i]=ag(wj),[j,k]=ag(wk),[l]=ag(wn),[n,o]=(0,q.useState)(null),r=(0,q.useRef)(null),s=(0,q.useRef)(null);(()=>{let[a]=ag(wh),[b,c]=ag(wi),[,d]=ag(wl),[,e]=ag(wm),[,f]=ag(wj),[,g]=ag(wk);(0,q.useEffect)(()=>{let b=setTimeout(()=>c(a),250);return()=>clearTimeout(b)},[a,c]),(0,q.useEffect)(()=>{let a=wp(b);d(a.error),e(a.errorType),f(a.parsed),g(b)},[b,d,e,f,g])})();let t=h.ok?"ok":"error",u=h.ok?{nodes:h.engineGraph.nodes.length,edges:h.engineGraph.edges.length}:{nodes:0,edges:0},v=()=>{if(!r.current)return;let a=h,c=d,p=f;if(b!==j){let d=wp(b);a=d.parsed,c=d.error,p=d.errorType,e(d.error),g(d.errorType),i(d.parsed),k(b)}if(!a.ok)return void("json"===p?e(c??"JSON parse error."):"schema"===p?e(c??"Schema validation failed."):e("Invalid JSON or schema validation failed."));if(e(null),a.semantic.length>0){let b=a.semantic.find(a=>"edge-missing-node"===a.type);if(b&&"edge-missing-node"===b.type)return void e(`Edge ${b.edge.from}  ${b.edge.to} references missing node "${b.missing}".`)}n&&n.destroy();let q=vx[l].render({container:r.current,graph:a.graph,engineGraph:a.engineGraph,existingCy:n});q.ok?o(q.cy):e(q.error)};return(0,q.useEffect)(()=>{let a=()=>v();return window.addEventListener("jsonflow:render",a),()=>window.removeEventListener("jsonflow:render",a)},[h.ok,b,d,f]),(0,p.jsxs)("main",{className:"grid w-full flex-1 items-stretch gap-4 px-3 py-3 md:grid-cols-2 md:px-4 md:py-4",children:[(0,p.jsx)("a",{ref:s,className:"hidden"}),(0,p.jsx)(we,{value:b,status:t,errorMessage:d,semanticIssues:h.ok?h.semantic:void 0,onChange:c,onRender:v}),(0,p.jsx)(wf,{onExport:()=>{if(!n)return void e("Render a graph before exporting.");let b=n.png({full:!0,bg:"dark"===a?"#0f172a":"#ffffff"});s.current&&(s.current.href=b,s.current.download="jsonflow-graph.png",s.current.click())},canExport:!!n,stats:u,isCyclic:h.ok?h.meta.isCyclic:void 0,containerRef:r})]})}a.s(["default",()=>wq],57069)}];

//# sourceMappingURL=jsonflow-web_features_workspace_components_Workspace_tsx_720ad7cf._.js.map